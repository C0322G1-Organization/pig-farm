<div class="body" style="margin: 0;padding: 0">
  <div id="pdf" class="row" style="width: 100%;margin: 0;padding: 0;min-height: 750px">

    <div class="col-md-3" style="max-width: 100%;background-color: white;border-radius: 10px;padding: 10px;opacity: 90%; margin: 20px;min-height: 700px">
      <h1 class="titles"><b>THỐNG KÊ</b></h1>
      <br>

      <div class="row">
        <div class="col-12">
          <div style="overflow-y: auto; height: 500px">
            <table class="table table-striped table-bordered">
              <thead>
              <tr style="background-color: #198754; color: white">
                <th>Thời gian - Công ty</th>
                <th>Số lượng heo (Con)</th>
                <th>Doanh thu (VND)</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let item of listStatistic">
                <td>{{ item.time }}</td>
                <td>{{ item.amount }}</td>
                <td>{{ item.price | number }}</td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md" style="max-width: 100%;background-color: white;border-radius: 10px;padding: 10px;opacity: 90%; margin-bottom: 20px;margin-right: 20px;margin-top: 20px; min-height: 700px">
      <div class="row">
        <div [hidden]=" hiddenChart " class="col-12">
          <canvas id="myChart" width="100%" height="70%"></canvas>
        </div>
        <div [hidden]=" hiddenPieChart " class="col-md">
          <canvas id="myPieChart1" width="100%" height="70%"></canvas>
        </div>
        <div [hidden]=" hiddenPieChart " class="col-md">
          <canvas id="myPieChart2" width="100%" height="70%"></canvas>
        </div>
      </div>
    </div>

  </div>

  <div class="row" style="width: 100%;margin: 0;padding: 0;">
    <div class="col-md" style="background-color: white;border-radius: 10px;opacity: 90%; margin-left: 20px;margin-right: 20px;margin-bottom: 20px; padding: 10px">
      <form (ngSubmit)="onSubmit()" [formGroup]="statisticForm">
        <div class="row" style="margin: 0;padding: 0">
          <div class="col-md-1"><p class="centerText"><b>Ngày bắt đầu</b></p></div>
          <div class="col-md-1"><input class="form-control" type="date" formControlName="startDate"></div>

          <div class="col-md-1"><p class="centerText"><b>Ngày kết thúc</b></p></div>
          <div class="col-md-1"><input class="form-control" type="date" formControlName="endDate"></div>

          <div class="col-md-1"><p class="centerText"><b>Đơn vị thời gian</b></p></div>
          <div class="col-md-1">
            <select class="form-select" formControlName="styleTime">
              <option value='month'>Theo Tháng</option>
              <option value='year'>Theo Năm</option>
            </select>
          </div>

          <div class="col-md-1"><p class="centerText"><b>Loại heo</b></p></div>
          <div class="col-md-1">
            <select class="form-select" formControlName="type">
              <option value="all">Tất cả</option>
              <option value="0">Lợn Giống</option>
              <option value="1">Lợn Thịt</option>
            </select>
          </div>

          <div class="col-md-1"><p class="centerText"><b>Công ty</b></p></div>
          <div class="col-md-1">
            <select class="form-select" formControlName="company">
              <option value="all">Tất cả</option>
              <option *ngFor="let item of listCompany" value="{{ item }}">{{ item }}</option>
            </select>
          </div>

          <div class="col-md-1"><p class="centerText"><b>Biểu đồ</b></p></div>
          <div class="col-md-1">
            <select class="form-select" formControlName="chartStyle">
              <option value="pie">Loại tròn</option>
              <option value="bar">Loại cột</option>
            </select>
          </div>

        </div>


        <div [hidden]="!statisticForm.invalid" class="row">
          <div class="col-md">
            <p style="margin-top: 13px;margin-bottom: 3px;color: red" *ngIf="statisticForm.get('startDate').invalid && statisticForm.get('startDate').touched">
              {{ statisticForm.get('startDate').errors.message }}
            </p>
          </div>
          <div class="col-md">
            <p style="margin-top: 13px;margin-bottom: 3px;color: red" *ngIf="statisticForm.get('endDate').invalid && statisticForm.get('endDate').touched">
              {{ statisticForm.get('endDate').errors.message }}
            </p>
          </div>
          <div class="col-md">
            <p style="margin-top: 13px;margin-bottom: 3px;color: red" *ngIf="statisticForm.invalid && statisticForm.get('endDate').touched">
              {{ statisticForm.errors.message }}
            </p>
          </div>
        </div>
        <div class="row">
          <div class="position-relative">
            <div class="position-absolute top-50 start-50 translate-middle">
              <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                <div class="btn-group me-2" role="group" aria-label="First group">
                  <button [disabled]="statisticForm.invalid" type="submit" class="btn btn-outline-success"
                          data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="onSubmit()">Phân Tích
                  </button>
                </div>
                <div class="btn-group me-2" role="group" aria-label="Second group">
                  <button type="button" class="btn btn-outline-success" (click)="exportPdf()">Xuất Dữ Liệu</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
      <br>
    </div>
  </div>
</div>
