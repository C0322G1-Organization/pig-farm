<div class="body">
  <div class="vc_empty_space" style="height: 64px"><span class="vc_empty_space_inner"></span></div>
  <div class="container mt-5 pb-2" *ngIf="notifications && notifications.length > 0; else elseBlock">
    <div style="text-align: center; font-size: 30px;" class="mt-3">ĐĂNG THÔNG BÁO</div>
    <form [formGroup]="searchForm" novalidate>
      <div class="col-3 position-relative mx-auto me-4">
        <input type="search" class="input-search form-control" style="width: 250px"
               placeholder="Tìm kiếm" formControlName="content" [ngModel]="content"
               (keyup)="search()">
      </div>
    </form>

    <div style="color: red" *ngIf="msg" [ngClass]="clss">{{msg}}</div>
    <table class="table table-striped table-hover mt-3 mb-3">
      <thead>
      <tr style="background-color: #017428">
        <th class="text-light" width="10%">STT</th>
        <th class="text-light" width="20%">Tiêu đề</th>
        <th class="text-light" width="40%">Nội dung thông báo</th>
        <th class="text-light" width="15%">Hình ảnh</th>
        <th class="text-light" width="15%">Ngày đăng thông báo</th>
        <th></th>
      </tr>
      </thead>
      <tbody>

      <tbody>
      <tr *ngFor="let item of notifications; let i=index">
        <td> {{ (i + 1) + number * 5}}</td>
        <td>{{item.title}}</td>
        <td>{{(item.content.length > 70) ? (item.content| slice:0:70) + '...' : (item.content)}}</td>
        <td><img src="{{item.image}}" height="30px"/></td>
        <td>{{item.submittedDate | date: 'dd/MM/yyyy' }}</td>
        <td><input class="form-check-input" type="checkbox" [checked]="checkbox(item)" (change)="getListDelete(item)">
        </td>
      </tr>
      </tbody>
    </table>
    <div style="text-align: center; display: flex; justify-content: center" *ngIf="deleteList.length!==0">
      <button class="col-3 btn btn-outline-primary" style="width: auto; margin-right: 5%"
              routerLink="/notification/create" type="button">Thêm mới
      </button>
      <button class="col-3 btn btn-outline-warning" style="width: auto; margin-right: 5%"
              type="button" [routerLink]="['/notification/edit',deleteList[0].id]"
              [disabled]="deleteList.length<1">Chỉnh sửa
      </button>
      <button class="col-3 btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#exampleModal"
              style="width: auto;" type="submit" [disabled]="deleteList.length<1">Xoá
      </button>
    </div>
    <div style="text-align: center; display: flex; justify-content: center" *ngIf="deleteList.length===0">
      <button class="col-3 btn btn-outline-primary" style="width: auto; margin-right: 5%"
              routerLink="/notification/create" type="button">Thêm mới
      </button>
      <button class="col-3 btn btn-outline-warning" style="width: auto; margin-right: 5%"
              type="button" [routerLink]="['/notification/edit',ids[0]]"
              [disabled]="deleteList.length<1">Chỉnh sửa
      </button>
      <button class="col-3 btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#exampleModal"
              style="width: auto;" type="submit" [disabled]="deleteList.length<1">Xoá
      </button>
    </div>
    <nav aria-label="...">
      <ul class="pagination" style="display: flex ; justify-content: flex-end">
        <li class="page-item " *ngIf="checkPrevious">
          <a class="page-link" (click)="goPrevious()" tabindex="-1">Trang trước</a>
        </li>
        <li class="page-item" *ngIf="checkPrevious"><a class="page-link" (click)="goPrevious()">{{number}}</a></li>
        <li class="page-item active">
          <a class="page-link"> <span class="sr-only">{{number + 1}}</span></a>
        </li>
        <li class="page-item" *ngIf="checkNext"><a class="page-link" (click)="goNext()">{{number + 2}}</a></li>
        <li class="page-item" *ngIf="checkNext">
          <a class="page-link" (click)="goNext()">Trang sau</a>
        </li>
      </ul>
    </nav>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Bạn có muốn xóa các mục sau</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <table>
            <tr *ngFor="let item of deleteList;let i = index ">
              <td>{{i + 1}}. {{item.title}}</td>
            </tr>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="resetDelete()">Hủy</button>
          <button type="button" class="btn btn-danger" (click)="deleteId()" data-bs-dismiss="modal">Xóa</button>
        </div>
      </div>
    </div>

  </div>

  <!-- Khi không có dữ liệu thì hiện  -->
  <div style="text-align: center; display: flex; justify-content: center; height: 250px">
    <ng-template #elseBlock>
      <div class="body">
        <div class="container mt-5 pb-2" style="text-align: center">

          <div style="text-align: center; font-size: 30px;" class="mt-3">ĐĂNG THÔNG BÁO</div>
          <form [formGroup]="searchForm" novalidate>
            <div class="col-3 position-relative mx-auto me-4">
              <input type="search" class="input-search form-control" style="width: 250px"
                     placeholder="Tìm kiếm" formControlName="content" [ngModel]="content"
                     (keyup)="search()">
            </div>
          </form>
          <div style="color: red;" class="col-12">
            <h1>Không có thông báo !!!</h1>
            <button class="col-3 btn btn-outline-primary" style="width: auto; margin-right: 5%"
                    routerLink="/notification/create">Thêm mới
            </button>
          </div>
        </div>
      </div>
    </ng-template>
  </div>
  <div class="vc_empty_space" style="height: 128px"><span class="vc_empty_space_inner"></span></div>
</div>
