<body>
<div class="container">
  <h2 style="text-align: center; font-size: 30px;" class="mt-3"><b>Danh Sách Chuồng</b></h2>
  <div class="row mt-3">
    <a href="create.html" class="ms-3 btn btn-success" style="width: auto;">Thêm mới</a>
    <form [formGroup]="formSearch" (ngSubmit)="getSearch()">
      <div class="col-lg-3 mx-auto me-0" style="display: flex;">
        <input class="form-control me-1" type="search" formControlName="search" placeholder="Tìm Kiếm">
        <button class="btn btn-success" style="width: 50%" type="submit">Tìm Kiếm</button>
      </div>
    </form>
  </div>
  <form #formPigsty="ngForm" (ngSubmit)="edit(formPigsty.value)">
    <table style="text-align: center;" class="table table-striped table-hover mt-3 mb-3">
      <tr style="background-color: #017428">
        <th class="text-light">STT</th>
        <th class="text-light">MÃ CHUỒNG NUÔI</th>
        <th class="text-light">MÃ NHÂN VIÊN</th>
        <th class="text-light">TÊN NHÂN VIÊN</th>
        <th class="text-light">NGÀY TẠO CHUỒNG</th>
        <th class="text-light">NGÀY ĐÓNG CHUỒNG</th>
        <th class="text-light">SỐ LƯỢNG CÁ THỂ</th>
      </tr>
      <tr *ngFor=" let item of pigstys,index as i">
        <td>{{i + 1}}</td>
        <td>{{item.code}}</td>
        <td>{{item.employeeCode}}</td>
        <td style="text-align: start">{{item.employeeName}}</td>
        <td>{{item.creationDate}}</td>
        <td>{{item.buildDate}}</td>
        <td style="text-align: end">{{item.maxNumber}}</td>
        <td>
          <input *ngIf="item" class="form-check-input" type="checkbox" ngModel [name]="''+item.id"
                 (change)="checkForm(formPigsty.value)">
        </td>
      </tr>
    </table>
    <div class="paging">
      <ul class="pagination justify-content-end">
        <li class="page-item ">
          <button *ngIf="previous" class="page-link" tabindex="-1" (click)="previousPage()">Previous</button>
        </li>
        <li *ngIf="previous" class="page-item">
          <button class="page-link" (click)="previousPage()">{{page - 1}}</button>
        </li>
        <li class="page-item">
          <button style="background-color: #e9ecef" class="page-link">{{page}}</button>
        </li>
        <li *ngIf="next" class="page-item">
          <button class="page-link" (click)="nextPage()">{{page + 1}}</button>
        </li>
        <li class="page-item ">
          <button class="page-link" *ngIf="next" (click)="nextPage()">Next</button>
        </li>
      </ul>
    </div>
    <div style="text-align: center; display: flex; justify-content: center" class="mb-2">
      <button [disabled]="!checkEdit"  type="submit" href="edit.html" class="col-lg-3 btn btn-warning"
         style="width: auto; margin-right: 5%">Sửa</button>
    </div>
  </form>
</div>
</body>
