

<section id="employees">
  <div class="employees container">
    <h2 style="font-weight: bolder;text-align: center">DANH SÁCH NHÂN VIÊN</h2>

    <div class="container mt-5" style="display: flex;justify-content: space-between">
      <button style="margin-left: 10px" type="button" class="btn btn-outline-success">Thêm mới</button>

      <div style="display: flex;width: 55% ">
        <div class="col-lg position-relative mx-auto me-2 ">
          <input [formControl]="nameSearch" class="form-control bg-transparent py-2 w-100" type="text"
                 placeholder="Tìm kiếm theo tên">
        </div>
        <div class="col-lg position-relative mx-auto me-4">
          <input [formControl]="idCardSearch" class="form-control bg-transparent py-2 w-100" type="text"
                 placeholder="Tìm kiếm theo CMND ">
          <button
            (click)="getListBySearchAndPagination()" style="border: none;
                   background: none" class="py-2 position-absolute top-0 end-0 mt-0 me-2">
            <i style="font-size: 20px;color:#198754" class="bi bi-search"></i>
          </button>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="(employeeList).length > 0;else noResult">
      <div class="col-xxl-4 col-xl-6 mt-4" *ngFor="let employee of employeeList">
        <div class="member d-flex align-items-start">
          <div>
            <div class="pic"><img src="../../../assets/doctors/doctors-1.jpg" class="img-fluid" alt="">
              <i class="detail bi bi-info-circle"></i>
            </div>
            <div class="social">
              <a class="edit" href=""><i class="bi bi-pencil"></i></a>
              <a (click)="getModal(employee.id,employee.code,employee.nameEmployee)" class="delete" data-bs-toggle="modal" data-bs-target="#deleteModal" href=""><i
                class="bi bi-trash3"></i></a>
            </div>
          </div>
          <div class="member-info">
            <h4>{{employee.nameEmployee}}</h4>
            <span>{{employee.roleName}}</span>
            <div style="display: flex; margin: 8px 0 0 12px;">
              <i class="bi bi-person-circle">&nbsp;</i><label>{{employee.code}}</label>
            </div>
            <div style="display: flex; margin: 10px 0 0 12px;">
              <i class="bi bi-calendar-check-fill"></i>&nbsp;<label>{{employee.birthDay | date:"dd/MM/yyyy"}}&emsp;</label>
              <i class="bi bi-gender-ambiguous"></i>&nbsp;<label>{{employee.gender}}</label>
            </div>
            <div style="display: flex; margin: 8px 0 0 12px;">
              <i class="bi bi-person-badge"></i>&nbsp;<label> {{employee.idCard}}</label>
            </div>

            <div style=" margin: 8px 0 0 12px;display: flex">
              <i class="bi bi-envelope-fill"></i>&nbsp;<label>{{employee.email}}</label>
            </div>
          </div>
        </div>
      </div>
    </div>


    <ng-template #noResult>
      <div class="mt-4" style="text-align: center;font-size: 20px;" >Không có nhân viên để hiển thị.</div>
    </ng-template>


    <!--        <div class="text-center mt-3" style="height: 42px">-->
    <!--            <button id="load-more" style="height: 42px" type="button" class="btn btn-outline-success">Xem thêm nhân viên</button>-->
    <!--        </div>-->
    <div class="paging mt-3">
      <ul class="pagination justify-content-end">
        <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">
          Trước</a></li>
        <li class="page-item" [ngClass]="{'active':i==indexPagination}" *ngFor="let temp of pages;let i =index">
          <a class="page-link" href="#" (click)="setPage(i,$event)">{{i + 1}}</a>
        </li>
        <li class="page-item"><a class="page-link" href="#">Tiếp theo </a></li>
      </ul>
    </div>
  </div>

  <div class="modal fade" id="deleteModal" data-bs-backdrop="true" data-bs-keyboard="true" tabindex="-1"
       aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 style="font-weight: bolder" class="modal-title" id="staticBackdropLabel">Xác nhận xóa nhân viên?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Bạn có muốn xóa nhân viên <span style="color: red">{{nameModal}}</span> với mã nhân viên: <span
          style="color: red">{{codeModal}}</span>?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
          <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="deleteEmployee()">Xóa</button>
        </div>
      </div>
    </div>
  </div>
</section><!-- End Doctors Section -->


