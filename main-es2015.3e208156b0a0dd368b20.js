(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(c);a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}n.d(e,"a",(function(){return s}));class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(c((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}n.d(e,"a",(function(){return h}))},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),c=n("2fFW");n.d(e,"a",(function(){return u}));let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();n.d(e,"a",(function(){return i}));class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.0.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");n.d(e,"a",(function(){return l}));const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function c(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return c()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}function m(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}n.d(e,"a",(function(){return _s})),n.d(e,"b",(function(){return Pc})),n.d(e,"c",(function(){return yc})),n.d(e,"d",(function(){return mc})),n.d(e,"e",(function(){return bc})),n.d(e,"f",(function(){return gu})),n.d(e,"g",(function(){return su})),n.d(e,"h",(function(){return rs})),n.d(e,"i",(function(){return Nc})),n.d(e,"j",(function(){return Yo})),n.d(e,"k",(function(){return Sc})),n.d(e,"l",(function(){return Zo})),n.d(e,"m",(function(){return Pn})),n.d(e,"n",(function(){return Ja})),n.d(e,"o",(function(){return J})),n.d(e,"p",(function(){return b})),n.d(e,"q",(function(){return X})),n.d(e,"r",(function(){return vs})),n.d(e,"s",(function(){return ma})),n.d(e,"t",(function(){return ba})),n.d(e,"u",(function(){return Cc})),n.d(e,"v",(function(){return ft})),n.d(e,"w",(function(){return au})),n.d(e,"x",(function(){return dt})),n.d(e,"y",(function(){return tu})),n.d(e,"z",(function(){return Fc})),n.d(e,"A",(function(){return y})),n.d(e,"B",(function(){return xc})),n.d(e,"C",(function(){return wc})),n.d(e,"D",(function(){return ea})),n.d(e,"E",(function(){return Jo})),n.d(e,"F",(function(){return ta})),n.d(e,"G",(function(){return ra})),n.d(e,"H",(function(){return lr})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return lu})),n.d(e,"K",(function(){return wa})),n.d(e,"L",(function(){return Gc})),n.d(e,"M",(function(){return sa})),n.d(e,"N",(function(){return ia})),n.d(e,"O",(function(){return Pa})),n.d(e,"P",(function(){return wt})),n.d(e,"Q",(function(){return Ts})),n.d(e,"R",(function(){return eu})),n.d(e,"S",(function(){return Qn})),n.d(e,"T",(function(){return L})),n.d(e,"U",(function(){return Un})),n.d(e,"V",(function(){return fu})),n.d(e,"W",(function(){return Kc})),n.d(e,"X",(function(){return Ec})),n.d(e,"Y",(function(){return ss})),n.d(e,"Z",(function(){return Va})),n.d(e,"ab",(function(){return cr})),n.d(e,"bb",(function(){return fr})),n.d(e,"cb",(function(){return qn})),n.d(e,"db",(function(){return In})),n.d(e,"eb",(function(){return Mn})),n.d(e,"fb",(function(){return Ln})),n.d(e,"gb",(function(){return jn})),n.d(e,"hb",(function(){return Nn})),n.d(e,"ib",(function(){return Rn})),n.d(e,"jb",(function(){return ja})),n.d(e,"kb",(function(){return du})),n.d(e,"lb",(function(){return Ra})),n.d(e,"mb",(function(){return La})),n.d(e,"nb",(function(){return Dn})),n.d(e,"ob",(function(){return z})),n.d(e,"pb",(function(){return ks})),n.d(e,"qb",(function(){return Ys})),n.d(e,"rb",(function(){return Ks})),n.d(e,"sb",(function(){return Os})),n.d(e,"tb",(function(){return Na})),n.d(e,"ub",(function(){return qt})),n.d(e,"vb",(function(){return N})),n.d(e,"wb",(function(){return An})),n.d(e,"xb",(function(){return Io})),n.d(e,"yb",(function(){return Lo})),n.d(e,"zb",(function(){return $o})),n.d(e,"Ab",(function(){return Ir})),n.d(e,"Bb",(function(){return Ns})),n.d(e,"Cb",(function(){return fo})),n.d(e,"Db",(function(){return ho})),n.d(e,"Eb",(function(){return hc})),n.d(e,"Fb",(function(){return Ct})),n.d(e,"Gb",(function(){return Dt})),n.d(e,"Hb",(function(){return E})),n.d(e,"Ib",(function(){return C})),n.d(e,"Jb",(function(){return kt})),n.d(e,"Kb",(function(){return Mt})),n.d(e,"Lb",(function(){return Fs})),n.d(e,"Mb",(function(){return qs})),n.d(e,"Nb",(function(){return $s})),n.d(e,"Ob",(function(){return Gs})),n.d(e,"Pb",(function(){return zs})),n.d(e,"Qb",(function(){return Hs})),n.d(e,"Rb",(function(){return Ws})),n.d(e,"Sb",(function(){return vn})),n.d(e,"Tb",(function(){return To})),n.d(e,"Ub",(function(){return ct})),n.d(e,"Vb",(function(){return Vs})),n.d(e,"Wb",(function(){return gc})),n.d(e,"Xb",(function(){return Us})),n.d(e,"Yb",(function(){return Zs})),n.d(e,"Zb",(function(){return dc})),n.d(e,"ac",(function(){return je})),n.d(e,"bc",(function(){return Ne})),n.d(e,"cc",(function(){return to})),n.d(e,"dc",(function(){return Wa})),n.d(e,"ec",(function(){return Ka})),n.d(e,"fc",(function(){return Ya})),n.d(e,"gc",(function(){return Qs})),n.d(e,"hc",(function(){return eo})),n.d(e,"ic",(function(){return qa})),n.d(e,"jc",(function(){return Ga})),n.d(e,"kc",(function(){return lc})),n.d(e,"lc",(function(){return Ls})),n.d(e,"mc",(function(){return le})),n.d(e,"nc",(function(){return pr})),n.d(e,"oc",(function(){return gr})),n.d(e,"pc",(function(){return At})),n.d(e,"qc",(function(){return lo})),n.d(e,"rc",(function(){return Rs})),n.d(e,"sc",(function(){return pc})),n.d(e,"tc",(function(){return Eo})),n.d(e,"uc",(function(){return Co})),n.d(e,"vc",(function(){return So})),n.d(e,"wc",(function(){return Oo})),n.d(e,"xc",(function(){return ko}));const b=m("Inject",t=>({token:t})),y=m("Optional"),v=m("Self"),_=m("SkipSelf");var w=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function x(t){for(let e in t)if(t[e]===x)return e;throw Error("Could not find renamed property on target object.")}function P(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return O(t,t[k])||O(t,t[D])}function O(t,e){return e&&e.token===t?e:null}function T(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(M))?t[A]:null}const k=x({"\u0275prov":x}),A=x({"\u0275inj":x}),I=x({"\u0275provFallback":x}),D=x({ngInjectableDef:x}),M=x({ngInjectorDef:x});function N(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(N).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const R=x({__forward_ref__:x});function L(t){return t.__forward_ref__=L,t.toString=function(){return N(this())},t}function F(t){return V(t)?t():t}function V(t){return"function"==typeof t&&t.hasOwnProperty(R)&&t.__forward_ref__===L}const U="undefined"!=typeof globalThis&&globalThis,Q="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=U||H||Q||B,q=x({"\u0275cmp":x}),G=x({"\u0275dir":x}),$=x({"\u0275pipe":x}),W=x({"\u0275mod":x}),K=x({"\u0275loc":x}),Y=x({"\u0275fac":x}),Z=x({__NG_ELEMENT_ID__:x});class X{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const J=new X("INJECTOR",-1),tt={},et=/\n/gm,nt=x({provide:String,useValue:x});let rt,it=void 0;function st(t){const e=it;return it=t,e}function ot(t){const e=rt;return rt=t,e}function at(t,e=w.Default){if(void 0===it)throw new Error("inject() must be called from an injection context");return null===it?ut(t,void 0,e):it.get(t,e&w.Optional?null:void 0,e)}function ct(t,e=w.Default){return(rt||at)(F(t),e)}function ut(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${N(t)}]`)}function lt(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=w.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof y||"Optional"===i.ngMetadataName||i===y?n|=w.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=w.SkipSelf:i instanceof v||"Self"===i.ngMetadataName||i===v?n|=w.Self:t=i instanceof b||i===b?i.token:i}e.push(ct(t,n))}else e.push(ct(r))}return e}class ht{get(t,e=tt){if(e===tt){const e=new Error(`NullInjectorError: No provider for ${N(t)}!`);throw e.name="NullInjectorError",e}return e}}class dt{}class ft{}function pt(t,e){t.forEach(t=>Array.isArray(t)?pt(t,e):e(t))}function gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bt(t,e,n){let r=vt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yt(t,e){const n=vt(t,e);if(n>=0)return t[1|n]}function vt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const _t=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),wt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),xt={},Pt=[];let Et=0;function Ct(t){return g(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Pt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||wt.Emulated,id:"c",styles:t.styles||Pt,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return i.id+=Et++,i.inputs=It(t.inputs,r),i.outputs=It(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(St):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Ot):null,i})}function St(t){return Nt(t)||function(t){return t[G]||null}(t)}function Ot(t){return function(t){return t[$]||null}(t)}const Tt={};function kt(t){const e={type:t.type,bootstrap:t.bootstrap||Pt,declarations:t.declarations||Pt,imports:t.imports||Pt,exports:t.exports||Pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{Tt[t.id]=t.type}),e}function At(t,e){return g(()=>{const n=Rt(t,!0);n.declarations=e.declarations||Pt,n.imports=e.imports||Pt,n.exports=e.exports||Pt})}function It(t,e){if(null==t)return xt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Dt=Ct;function Mt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nt(t){return t[q]||null}function jt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}function Rt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${N(t)} does not have '\u0275mod' property.`);return n}function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function Vt(t){return 0!=(8&t.flags)}function Ut(t){return 2==(2&t.flags)}function Qt(t){return 1==(1&t.flags)}function Bt(t){return null!==t.template}function Ht(t){return 0!=(512&t[2])}let zt=void 0;function qt(t){zt=t}function Gt(){return void 0!==zt?zt:"undefined"!=typeof document?document:void 0}function $t(t){return!!t.listen}const Wt={createRenderer:(t,e)=>Gt()};function Kt(t){for(;Array.isArray(t);)t=t[0];return t}function Yt(t,e){return Kt(e[t+19])}function Zt(t,e){return Kt(e[t.index])}function Xt(t,e){return t.data[e+19]}function Jt(t,e){return t[e+19]}function te(t,e){const n=e[t];return Lt(n)?n:n[0]}function ee(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ne(t){return 4==(4&t[2])}function re(t){return 128==(128&t[2])}function ie(t,e){return null===t||null==e?null:t[e]}function se(t){t[18]=0}const oe={lFrame:Oe(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ae(){return oe.bindingsEnabled}function ce(){return oe.lFrame.lView}function ue(){return oe.lFrame.tView}function le(t){oe.lFrame.contextLView=t}function he(){return oe.lFrame.previousOrParentTNode}function de(t,e){oe.lFrame.previousOrParentTNode=t,oe.lFrame.isParent=e}function fe(){return oe.lFrame.isParent}function pe(){oe.lFrame.isParent=!1}function ge(){return oe.checkNoChangesMode}function me(t){oe.checkNoChangesMode=t}function be(){const t=oe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ye(){return oe.lFrame.bindingIndex}function ve(){return oe.lFrame.bindingIndex++}function _e(t){const e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function we(t,e){const n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function xe(){return oe.lFrame.currentQueryIndex}function Pe(t){oe.lFrame.currentQueryIndex=t}function Ee(t,e){const n=Se();oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ce(t,e){const n=Se(),r=t[1];oe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Se(){const t=oe.lFrame,e=null===t?null:t.child;return null===e?Oe(t):e}function Oe(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Te(){const t=oe.lFrame;return oe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const ke=Te;function Ae(){const t=Te();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ie(){return oe.lFrame.selectedIndex}function De(t){oe.lFrame.selectedIndex=t}function Me(){const t=oe.lFrame;return Xt(t.tView,t.selectedIndex)}function Ne(){oe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function je(){oe.lFrame.currentNamespace=null}function Re(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Le(t,e,n){Ue(t,e,3,n)}function Fe(t,e,n,r){(3&t[2])===n&&Ue(t,e,n,r)}function Ve(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function Ue(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Qe(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Qe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,s.call(o)):s.call(o)}class Be{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function He(t,e,n){const r=$t(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];qe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function ze(t){return 3===t||4===t||6===t}function qe(t){return 64===t.charCodeAt(0)}function Ge(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$e(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $e(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function We(t){return-1!==t}function Ke(t){return 32767&t}function Ye(t){return t>>16}function Ze(t,e){let n=Ye(t),r=e;for(;n>0;)r=r[15],n--;return r}function Xe(t){return"string"==typeof t?t:null==t?"":""+t}function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Xe(t)}const tn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function en(t){return t instanceof Function?t():t}let nn=!0;function rn(t){const e=nn;return nn=t,e}let sn=0;function on(t,e){const n=cn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,an(r.data,t),an(e,null),an(r.blueprint,null));const i=un(t,e),s=t.injectorIndex;if(We(i)){const t=Ke(i),n=Ze(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function an(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function un(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function ln(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Z]:n.charCodeAt(0)||0;null==r&&(r=n[Z]=sn++);const i=255&r,s=1<<i,o=64&i,a=32&i,c=e.data;128&i?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function hn(t,e,n,r=w.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Z];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ee(e,t);try{const t=i();if(null!=t||r&w.Optional)return t;throw new Error(`No provider for ${Je(n)}!`)}finally{ke()}}else if("number"==typeof i){if(-1===i)return new yn(t,e);let s=null,o=cn(t,e),a=-1,c=r&w.Host?e[16][6]:null;for((-1===o||r&w.SkipSelf)&&(a=-1===o?un(t,e):e[o+8],bn(r,!1)?(s=e[1],o=Ke(a),e=Ze(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(mn(i,o,t.data)){const t=fn(o,e,n,s,r,c);if(t!==dn)return t}bn(r,e[1].data[o+8]===c)&&mn(i,o,e)?(s=t,o=Ke(a),e=Ze(a,e)):o=-1}}}if(r&w.Optional&&void 0===i&&(i=null),0==(r&(w.Self|w.Host))){const t=e[9],s=ot(void 0);try{return t?t.get(n,i,r&w.Optional):ut(n,i,r&w.Optional)}finally{ot(s)}}if(r&w.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Je(n)}]`)}const dn={};function fn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=pn(a,o,n,null==r?Ut(a)&&nn:r!=o&&3===a.type,i&w.Host&&s===a);return null!==c?gn(e,o,c,a):dn}function pn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,c=t.directiveStart,u=s>>16,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&Bt(t)&&t.type===n)return c}return null}function gn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Be){const o=i;if(o.resolving)throw new Error(`Circular dep for ${Je(s[n])}`);const a=rn(o.canSeeViewProviders);let c;o.resolving=!0,o.injectImpl&&(c=ot(o.injectImpl)),Ee(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&ot(c),rn(a),o.resolving=!1,ke()}}return i}function mn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function bn(t,e){return!(t&w.Self||t&w.Host&&e)}class yn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return hn(this._tNode,this._lView,t,void 0,e)}}function vn(t){return g(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Y]||function t(e){const n=e;if(V(e))return()=>{const e=t(F(n));return e?e():null};let r=jt(n);if(null===r){const t=T(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function _n(t){return t.ngDebugContext}function wn(t){return t.ngOriginalError}function xn(t,...e){t.error(...e)}class Pn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_n(t)?_n(t):this._findContext(wn(t)):null}_findOriginalError(t){let e=wn(t);for(;e&&wn(e);)e=wn(e);return e}}class En{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Cn extends En{getTypeName(){return"HTML"}}class Sn extends En{getTypeName(){return"Style"}}class On extends En{getTypeName(){return"Script"}}class Tn extends En{getTypeName(){return"URL"}}class kn extends En{getTypeName(){return"ResourceURL"}}function An(t){return t instanceof En?t.changingThisBreaksApplicationSecurity:t}function In(t,e){const n=Dn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Dn(t){return t instanceof En&&t.getTypeName()||null}function Mn(t){return new Cn(t)}function Nn(t){return new Sn(t)}function jn(t){return new On(t)}function Rn(t){return new Tn(t)}function Ln(t){return new kn(t)}let Fn=!0,Vn=!1;function Un(){return Vn=!0,Fn}function Qn(){if(Vn)throw new Error("Cannot enable prod mode after platform setup.");Fn=!1}class Bn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Hn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qn(t){return(t=String(t)).match(Hn)||t.match(zn)?t:(Un()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Gn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $n(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Wn=Gn("area,br,col,hr,img,wbr"),Kn=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Gn("rp,rt"),Zn=$n(Yn,Kn),Xn=$n(Wn,$n(Kn,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$n(Yn,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),Jn=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tr=Gn("srcset"),er=$n(Jn,tr,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=Gn("script,style,template");class rr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!nr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!er.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Jn[s]&&(o=qn(o)),tr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',or(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!Wn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(or(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sr=/([^\#-~ |!])/g;function or(t){return t.replace(/&/g,"&amp;").replace(ir,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(sr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ar;function cr(t,e){let n=null;try{ar=ar||new Bn(t);let r=e?String(e):"";n=ar.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ar.getInertBodyElement(r)}while(r!==s);const o=new rr,a=o.sanitizeChildren(ur(n)||n);return Un()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const lr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),hr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),dr=/^url\(([^)]+)\)$/;function fr(t){if(!(t=String(t).trim()))return"";const e=t.match(dr);return e&&qn(e[1])===e[1]||t.match(hr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Un()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function pr(t){const e=mr();return e?e.sanitize(lr.HTML,t)||"":In(t,"HTML")?An(t):cr(Gt(),Xe(t))}function gr(t){const e=mr();return e?e.sanitize(lr.URL,t)||"":In(t,"URL")?An(t):qn(Xe(t))}function mr(){const t=ce();return t&&t[12]}function br(t,e){t.__ngContext__=e}function yr(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function vr(){throw new Error("Cannot mix multi providers and regular providers")}function _r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function wr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==_r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function xr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Pr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(ze(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!xr(t,c,n)||""===c&&1===e.length){if(Er(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!wr(t.attrs,u,n)){if(Er(r))return!1;o=!0}continue}const l=Cr(8&r?"class":c,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===l){if(Er(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==_r(e,u,0)||2&r&&u!==t){if(Er(r))return!1;o=!0}}}}else{if(!o&&!Er(r)&&!Er(c))return!1;if(o&&Er(c))continue;o=!1,r=c|1&r}}return Er(r)||o}function Er(t){return 0==(1&t)}function Cr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Sr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Pr(t,e[r],n))return!0;return!1}function Or(t,e){return t?":not("+e.trim()+")":e}function Tr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Er(o)||(e+=Or(s,i),i=""),r=o,s=s||!Er(r);n++}return""!==i&&(e+=Or(s,i)),e}const kr={};function Ar(t){const e=t[3];return Ft(e)?e[3]:e}function Ir(t){Dr(ue(),ce(),Ie()+t,ge())}function Dr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Le(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Fe(e,r,0,n)}De(n)}function Mr(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function jr(t){return 2|t}function Rr(t){return(131068&t)>>2}function Lr(t,e){return-131069&t|e<<2}function Fr(t){return 1|t}function Vr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Pe(i),n.contentQueries(2,e[s],s)}}}function Ur(t,e,n){return $t(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Qr(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,se(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Br(t,e,n,r,i,s){const o=n+19,a=t.data[o]||function(t,e,n,r,i,s){const o=he(),a=fe(),c=a?o:o&&o.parent,u=t.data[n]=Xr(0,c&&c!==e?c:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=u),o&&(!a||null!=o.child||null===u.parent&&2!==o.type?a||(o.next=u):o.child=u),u}(t,e,o,r,i,s);return de(a,!0),a}function Hr(t,e,n){Ce(e,e[6]);try{const r=t.viewQuery;null!==r&&wi(1,r,n);const i=t.template;null!==i&&Gr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Vr(t,e),t.staticViewQueries&&wi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)mi(t,e[n])}(e,s)}finally{e[2]&=-5,Ae()}}function zr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ce(e,e[6]);const s=ge();try{se(e),oe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Gr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Le(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Fe(e,n,0,null),Ve(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Ft(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];re(n)&&zr(r,n,r.template,n[8])}0!=(1&n)&&pi(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&Vr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Le(e,n)}else{const n=t.contentHooks;null!==n&&Fe(e,n,1),Ve(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,De(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(we(r,i),o(2,e[i])),i++)}}}finally{De(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)gi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&wi(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Le(e,n)}else{const n=t.viewHooks;null!==n&&Fe(e,n,2),Ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73)}finally{Ae()}}function qr(t,e,n,r){const i=e[10],s=!ge(),o=ne(e);try{s&&!o&&i.begin&&i.begin(),o&&Hr(t,e,r),zr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Gr(t,e,n,r,i){const s=Ie();try{De(-1),2&r&&e.length>19&&Dr(t,e,0,ge()),n(r,i)}finally{De(s)}}function $r(t,e,n){if(Vt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Wr(t,e,n){ae()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||on(n,e),br(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Bt(r);s&&li(e,n,r);const c=gn(e,t,a,n);br(c,e),null!==o&&hi(0,a-i,c,r,0,o),s&&(te(n.index,e)[8]=c)}}(t,e,n,Zt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-19;try{De(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ii(r,i):o&&s.push(null)}}finally{De(-1)}}(t,e,n))}function Kr(t,e,n=Zt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Yr(t){return t.tView||(t.tView=Zr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Zr(t,e,n,r,i,s,o,a,c,u){const l=19+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:kr);return n}(l,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:u}}function Xr(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Jr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ti(t,e,n,r,i,s,o,a){const c=Zt(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Si(t,n,u,r,i),Ut(e)&&function(t,e){const n=te(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,$t(s)?s.setProperty(c,r,i):qe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ei(t,e,n,r){let i=!1;if(ae()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Sr(n,o.selectors,!1)&&(i||(i=[]),ln(on(n,e),t,o.type),Bt(o)?(2&n.flags&&yr(n),oi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,ci(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}si(t,n,s.length);let a=!1,c=!1;for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Ge(n.mergedAttrs,u.hostAttrs),ui(t,e,u),ai(t.data.length-1,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128),!a&&(u.onChanges||u.onInit||u.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),c||!u.onChanges&&!u.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),c=!0),ni(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],e=t.inputs;s.push(null!==i?di(e,i):null),o=Jr(e,c,o),a=Jr(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),ri(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ge(n.mergedAttrs,n.attrs),i}function ni(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ri(t,e,n){for(let r=0;r<n;r++)e.push(kr),t.blueprint.push(kr),t.data.push(null)}function ii(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function si(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function oi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ai(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bt(e)&&(n[""]=t)}}function ci(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ui(t,e,n){t.data.push(n);const r=n.factory||(n.factory=jt(n.type)),i=new Be(r,Bt(n),null);t.blueprint.push(i),e.push(i)}function li(t,e,n){const r=Zt(e,t),i=Yr(n),s=t[10],o=bi(t,Qr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function hi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function di(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function fi(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function pi(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];zr(e,t,e.template,t[8])}}}function gi(t,e){const n=te(e,t);if(re(n)&&80&n[2]){const t=n[1];zr(t,n,t.template,n[8])}}function mi(t,e){const n=te(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Hr(r,n,n[8])}function bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function yi(t){for(;t;){t[2]|=64;const e=Ar(t);if(Ht(t)&&!e)return t;t=e}return null}function vi(t,e,n){const r=e[10];r.begin&&r.begin();try{zr(t,e,t.template,n)}catch(i){throw Ci(e,i),i}finally{r.end&&r.end()}}function _i(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ee(n),i=r[1];qr(i,r,i.template,n)}}(t[8])}function wi(t,e,n){Pe(0),e(t,n)}const xi=(()=>Promise.resolve(null))();function Pi(t){return t[7]||(t[7]=[])}function Ei(t){return t.cleanup||(t.cleanup=[])}function Ci(t,e){const n=t[9],r=n?n.get(Pn,null):null;r&&r.handleError(e)}function Si(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Oi(t,e,n){const r=Yt(e,t),i=t[11];$t(i)?i.setValue(r,n):r.textContent=n}function Ti(t,e){const n=e[3];return-1===t.index?Ft(n)?n:null:n}function ki(t,e){const n=Ti(t,e);return n?Ui(e[11],n[7]):null}function Ai(t,e,n,r,i){if(null!=r){let s,o=!1;Ft(r)?s=r:Lt(r)&&(o=!0,r=r[0]);const a=Kt(r);0===t&&null!==n?null==i?Fi(e,n,a):Li(e,n,a,i||null):1===t&&null!==n?Li(e,n,a,i||null):2===t?function(t,e,n){const r=Ui(t,e);r&&function(t,e,n,r){$t(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Kt(n)&&Ai(e,t,r,s,i);for(let o=9;o<n.length;o++){const i=n[o];zi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ii(t,e,n,r){const i=ki(t.node,e);i&&zi(t,e,e[11],n?1:2,i,r)}function Di(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function Mi(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Di(i,r),e>0&&(t[n-1][4]=r[4]);const s=mt(t,9+e);Ii(r[1],r,!1,null);const o=s[5];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ni(t,e){if(!(256&e[2])){const n=e[11];$t(n)&&n.destroyNode&&zi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ri(t[1],t);for(;e;){let n=null;if(Lt(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Ri(e[1],e),e=ji(e,t);null===e&&(e=t),Lt(e)&&Ri(e[1],e),n=e&&e[4]}e=n}}(e)}}function ji(t,e){let n;return Lt(t)&&(n=t[6])&&2===n.type?Ti(n,t):t[3]===e?null:t[3]}function Ri(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof Be||n[r+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Kt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&$t(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ft(e[3])){r!==e[3]&&Di(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function Li(t,e,n,r){$t(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Fi(t,e,n){$t(t)?t.appendChild(e,n):e.appendChild(n)}function Vi(t,e,n,r){null!==r?Li(t,e,n,r):Fi(t,e,n)}function Ui(t,e){return $t(t)?t.parentNode(e):e.parentNode}function Qi(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?ki(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Zt(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==wt.ShadowDom&&n!==wt.Native)return null}return Zt(r,n)}(t,r,e);if(null!=i){const t=e[11],s=function(t,e){if(2===t.type){const n=Ti(t,e);return null===n?null:Bi(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Zt(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Vi(t,i,n[e],s);else Vi(t,i,n,s)}}function Bi(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Zt(n,e);if(0===r)return Bi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ft(t)?Bi(-1,t):Kt(t)}}{const r=e[16],i=r[6],s=Ar(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Hi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;o&&0===e&&(a&&br(Kt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Hi(t,e,n.child,r,i,s,!1),Ai(e,t,i,a,s)):1===c?qi(t,e,r,n,i,s):Ai(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function zi(t,e,n,r,i,s){Hi(n,r,t.node.child,e,i,s,!1)}function qi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Ai(e,t,i,a[c],s);else Hi(t,e,a,o[3],i,s,!0)}function Gi(t,e,n){$t(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $i(t,e,n){$t(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Wi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Kt(o)),Ft(o))for(let e=9;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6],o=Ar(e);let a=s.projection[r.projection];null!==a&&null!==o&&t(o[1],o,a,i,!0)}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ni(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Pi(n=this._lView).push(r),e.firstCreatePass&&Ei(e).push(n[7].length-1,null)}markForCheck(){yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){me(!0);try{vi(t,e,n)}finally{me(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,zi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ki extends Wi{constructor(t){super(t),this._view=t}detectChanges(){_i(this._view)}checkNoChanges(){!function(t){me(!0);try{_i(t)}finally{me(!1)}}(this._view)}get context(){return null}}let Yi,Zi,Xi;function Ji(t,e,n){return Yi||(Yi=class extends t{}),new Yi(Zt(e,n))}function ts(t,e,n,r){return Zi||(Zi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Qr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),Hr(e,n,t);const i=new Wi(n);return i._tViewNode=n[6],i}}),0===n.type?new Zi(r,n,Ji(e,n,r)):null}function es(t,e,n,r){let i;Xi||(Xi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ji(e,this._hostTNode,this._hostView)}get injector(){return new yn(this._hostTNode,this._hostView)}get parentInjector(){const t=un(this._hostTNode,this._hostView),e=Ze(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Ye(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return We(t)&&null!=n?new yn(n,e):new yn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(dt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Xi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-9?(e[4]=n[i],gt(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(o,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Ii(r,n,!0,Bi(i,this._lContainer)),t.attachToViewContainerRef(this),gt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=Mi(t,e);n&&Ni(n[1],n)})(this._lContainer,e),mt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Mi(this._lContainer,e);return n&&null!=mt(this._lContainer[8],e)?new Wi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ft(s))i=s,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=Kt(s);else if(t=r[11].createComment(""),Ht(r)){const e=r[11],i=Zt(n,r);Li(e,Ui(e,i),t,function(t,e){return $t(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Qi(r[1],r,t,n);r[n.index]=i=fi(s,r,t,n),bi(r,i)}return new Xi(i,n,r)}function ns(t=!1){return function(t,e,n){if(!n&&Ut(t)){const n=te(t.index,e);return new Wi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Wi(e[16],e):null}(he(),ce(),t)}let rs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>is(),t})();const is=ns,ss=new X("Set Injector scope."),os={},as={},cs=[];let us=void 0;function ls(){return void 0===us&&(us=new ht),us}function hs(t,e=null,n=null,r){return new ds(t,n,e||ls(),r)}class ds{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pt(e,n=>this.processProvider(n,t,e)),pt([t],t=>this.processInjectorType(t,[],i)),this.records.set(J,gs(void 0,this));const s=this.records.get(ss);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:N(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=tt,n=w.Default){this.assertNotDestroyed();const r=st(this);try{if(!(n&w.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof X)&&S(t);e=n&&this.injectableDefInScope(n)?gs(fs(t),os):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&w.Self?ls():this.parent).get(t,e=n&w.Optional&&e===tt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(N(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=N(e);if(Array.isArray(e))i=e.map(N).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):N(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(et,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{st(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(N(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{pt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pt(r,t=>this.processProvider(t,n,r||cs))}}this.injectorDefTypes.add(s),this.records.set(s,gs(r.factory,os));const a=r.providers;if(null!=a&&!o){const e=t;pt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=bs(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return ms(t)?gs(void 0,t.useValue):gs(ps(t,e,n),os)}(t,e,n);if(bs(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&vr()}else{let e=this.records.get(r);e?void 0===e.multi&&vr():(e=gs(void 0,os,!0),e.factory=()=>lt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===as?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(N(t)):e.value===os&&(e.value=as,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function fs(t){const e=S(t),n=null!==e?e.factory:jt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof X)throw new Error(`Token ${N(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${N(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[D]||t[I]&&t[I]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ps(t,e,n){let r=void 0;if(bs(t)){const e=F(t);return jt(e)||fs(e)}if(ms(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...lt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ct(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${N(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return jt(i)||fs(i);r=()=>new i(...lt(t.deps))}var i;return r}function gs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ms(t){return null!==t&&"object"==typeof t&&nt in t}function bs(t){return"function"==typeof t}const ys=function(t,e,n){return function(t,e=null,n=null,r){const i=hs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vs=(()=>{class t{static create(t,e){return Array.isArray(t)?ys(t,e,""):ys(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=tt,t.NULL=new ht,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>ct(J)}),t.__NG_ELEMENT_ID__=-1,t})();const _s=new X("AnalyzeForEntryComponents");let ws=new Map;const xs=new Set;function Ps(t){return"string"==typeof t?t:t.text()}function Es(t,e){let n=t.styles,r=t.classes,i=0;for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?i=t:1==i?r=j(r,t):2==i&&(n=j(n,t+": "+e[++s]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let Cs=null;function Ss(){if(!Cs){const t=z.Symbol;if(t&&t.iterator)Cs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Cs=n)}}}return Cs}function Os(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Ts{constructor(t){this.wrapped=t}static wrap(t){return new Ts(t)}static unwrap(t){return Ts.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ts}}function ks(t){return!!As(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ss()in t)}function As(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Is(t,e,n){return t[e]=n}function Ds(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ms(t,e,n,r){const i=Ds(t,e,n);return Ds(t,e+1,r)||i}function Ns(t,e,n,r){const i=ce();return Ds(i,ve(),e)&&(ue(),function(t,e,n,r,i,s){const o=Zt(t,e),a=e[11];if(null==r)$t(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Xe(r):i(r,t.tagName||"",n);$t(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Me(),i,t,e,n,r)),Ns}function js(t,e,n,r){return Ds(t,ve(),n)?e+Xe(n)+r:kr}function Rs(t,e,n,r,i,s,o,a){const c=ce(),u=ue(),l=t+19,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Br(e,n[6],t,0,o||null,ie(u,a));ei(e,n,l,ie(u,c)),Re(e,l);const h=l.tViews=Zr(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u),d=Xr(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,s,o):u.data[l];de(h,!1);const d=c[11].createComment("");Qi(u,c,d,h),br(d,c),bi(c,c[l]=fi(d,c,d,h)),Qt(h)&&Wr(u,c,h),null!=o&&Kr(c,h,a)}function Ls(t){return Jt(oe.lFrame.contextLView,t)}function Fs(t,e=w.Default){const n=ce();return null==n?ct(t,e):hn(he(),n,F(t),e)}function Vs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ze(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(he(),t)}function Us(){throw new Error("invalid")}function Qs(t,e,n){const r=ce();return Ds(r,ve(),e)&&ti(ue(),Me(),r,t,e,r[11],n,!1),Qs}function Bs(t,e,n,r,i){const s=i?"class":"style";Si(t,n,e.inputs[s],s,r)}function Hs(t,e,n,r){const i=ce(),s=ue(),o=19+t,a=i[11],c=i[o]=Ur(e,a,oe.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=ie(a,s),u=Br(e,n[6],t,3,i,c);return ei(e,n,u,ie(a,o)),null!==u.mergedAttrs&&Es(u,u.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,u),u}(t,s,i,0,e,n,r):s.data[o];de(u,!0);const l=u.mergedAttrs;null!==l&&He(a,c,l);const h=u.classes;null!==h&&$i(a,c,h);const d=u.styles;null!==d&&Gi(a,c,d),Qi(s,i,c,u),0===oe.lFrame.elementDepthCount&&br(c,i),oe.lFrame.elementDepthCount++,Qt(u)&&(Wr(s,i,u),$r(s,u,i)),null!==r&&Kr(i,u)}function zs(){let t=he();fe()?pe():(t=t.parent,de(t,!1));const e=t;oe.lFrame.elementDepthCount--;const n=ue();n.firstCreatePass&&(Re(n,t),Vt(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Bs(n,e,ce(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Bs(n,e,ce(),e.styles,!1)}function qs(t,e,n,r){Hs(t,e,n,r),zs()}function Gs(t,e,n){const r=ce(),i=ue(),s=t+19,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=ie(s,r),a=Br(e,n[6],t,4,"ng-container",o);return null!==o&&Es(a,o),ei(e,n,a,ie(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];de(o,!0);const a=r[s]=r[11].createComment("");Qi(i,r,a,o),br(a,r),Qt(o)&&(Wr(i,r,o),$r(i,o,r)),null!=n&&Kr(r,o)}function $s(){let t=he();const e=ue();fe()?pe():(t=t.parent,de(t,!1)),e.firstCreatePass&&(Re(e,t),Vt(t)&&e.queries.elementEnd(t))}function Ws(){return ce()}function Ks(t){return!!t&&"function"==typeof t.then}function Ys(t){return!!t&&"function"==typeof t.subscribe}function Zs(t,e,n=!1,r){const i=ce(),s=ue(),o=he();return function(t,e,n,r,i,s,o=!1,a){const c=Qt(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Pi(e);let h=!0;if(3===r.type){const d=Zt(r,e),f=a?a(d):xt,p=f.target||d,g=l.length,m=a?t=>a(Kt(t[r.index])).target:r.index;if($t(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Js(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,m,g,g+1)}}else s=Js(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,m,g,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Zs}function Xs(t,e,n){try{return!1!==e(n)}catch(r){return Ci(t,r),!1}}function Js(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?te(t.index,e):e;0==(32&e[2])&&yi(o);let a=Xs(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=Xs(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function to(t=1){return function(t){return(oe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,oe.lFrame.contextLView))[8]}(t)}function eo(t,e,n){return no(t,"",e,"",n),eo}function no(t,e,n,r,i){const s=ce(),o=js(s,e,n,r);return o!==kr&&ti(ue(),Me(),s,t,o,s[11],i,!1),no}const ro=[];function io(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Nr(s):Rr(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];so(t[a],e)&&(c=!0,t[a+1]=r?Fr(n):jr(n)),a=r?Nr(n):Rr(n)}c&&(t[n+1]=r?jr(s):Fr(s))}function so(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vt(t,e)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ao(t){return t.substring(oo.key,oo.keyEnd)}function co(t,e){const n=oo.textEnd;return n===e?-1:(e=oo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,oo.key=e,n),uo(t,e,n))}function uo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function lo(t,e,n){return go(t,e,n,!1),lo}function ho(t,e){return go(t,e,null,!0),ho}function fo(t){!function(t,e,n,r){const i=ue(),s=_e(2);i.firstUpdatePass&&bo(i,null,s,!0);const o=ce();if(n!==kr&&Ds(o,s,n)){const r=i.data[Ie()+19];if(Po(r,!0)&&!mo(i,s)){let t=r.classes;null!==t&&(n=j(t,n||"")),Bs(i,r,o,n,!0)}else!function(t,e,n,r,i,s,o,a){i===kr&&(i=ro);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=c<i.length?i[c+1]:void 0,d=u<s.length?s[u+1]:void 0;let f=null,p=void 0;l===h?(c+=2,u+=2,o!==d&&(f=h,p=d)):null===h||null!==l&&l<h?(c+=2,f=l):(u+=2,f=h,p=d),null!==f&&_o(t,e,n,r,f,p,!0,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,r,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return ro;const r=[],i=An(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(bt,po,t)}function po(t,e){for(let n=function(t){return function(t){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=t.length}(t),co(t,uo(t,0,oo.textEnd))}(e);n>=0;n=co(e,n))bt(t,ao(e),!0)}function go(t,e,n,r){const i=ce(),s=ue(),o=_e(2);if(s.firstUpdatePass&&bo(s,t,o,r),e!==kr&&Ds(i,o,e)){let a;null==n&&(a=function(){const t=oe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),_o(s,s.data[Ie()+19],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=N(An(t)))),t}(e,n),r,o)}}function mo(t,e){return e>=t.expandoStartIndex}function bo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ie()+19],o=mo(t,n);Po(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=vo(n=yo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=yo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Rr(r))return t[Nr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=yo(null,t,e,n[1],r),n=vo(n,e.attrs,r),function(t,e,n,r){t[Nr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=vo(r,t[s].hostAttrs,n);return vo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Nr(o),c=Rr(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||vt(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Nr(t[a+1]);t[r+1]=Mr(e,a),0!==e&&(t[e+1]=Lr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Mr(a,0),0!==a&&(t[a+1]=Lr(t[a+1],r)),a=r;else t[r+1]=Mr(c,0),0===a?a=r:t[c+1]=Lr(t[c+1],r),c=r;l&&(t[r+1]=jr(t[r+1])),io(t,u,r,!0),io(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&vt(s,e)>=0&&(n[r+1]=Fr(n[r+1]))}(e,u,t,r,s),o=Mr(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function yo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=vo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function vo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bt(t,o,!!n||e[++s]))}return void 0===t?null:t}function _o(t,e,n,r,i,s,o,a){if(3!==e.type)return;const c=t.data,u=c[a+1];xo(1==(1&u)?wo(c,e,n,i,Rr(u),o):void 0)||(xo(s)||function(t){return 2==(2&t)}(u)&&(s=wo(c,null,n,i,a,o)),function(t,e,n,r,i){const s=$t(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,Yt(Ie(),n),i,s))}function wo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===kr&&(l=u?ro:void 0);let h=u?yt(l,r):c===r?l:void 0;if(s&&!xo(h)&&(h=yt(e,r)),xo(h)&&(a=h,o))return a;const d=t[i+1];i=o?Nr(d):Rr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=yt(t,r))}return a}function xo(t){return void 0!==t}function Po(t,e){return 0!=(t.flags&(e?16:32))}function Eo(t,e=""){const n=ce(),r=ue(),i=t+19,s=r.firstCreatePass?Br(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return $t(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Qi(r,n,o,s),de(s,!1)}function Co(t){return So("",t,""),Co}function So(t,e,n){const r=ce(),i=js(r,t,e,n);return i!==kr&&Oi(r,Ie(),i),So}function Oo(t,e,n,r,i){const s=ce(),o=function(t,e,n,r,i,s){const o=Ms(t,ye(),n,i);return _e(2),o?e+Xe(n)+r+Xe(i)+s:kr}(s,t,e,n,r,i);return o!==kr&&Oi(s,Ie(),o),Oo}function To(t,e,n){const r=ce();return Ds(r,ve(),e)&&ti(ue(),Me(),r,t,e,r[11],n,!0),To}function ko(t,e,n){const r=ce();if(Ds(r,ve(),e)){const i=ue(),s=Me();ti(i,s,r,t,e,function(t,e){return function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[t.index])[11]}(s,r),n,!0)}return ko}function Ao(t,e){const n=ee(t)[1],r=n.data.length-1;Re(n,{directiveStart:r,directiveEnd:r+1})}function Io(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Do(t.inputs),e.declaredInputs=Do(t.declaredInputs),e.outputs=Do(t.outputs);const n=i.hostBindings;n&&jo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Mo(t,s),o&&No(t,o),P(t.inputs,i.inputs),P(t.declaredInputs,i.declaredInputs),P(t.outputs,i.outputs),Bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Io&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ge(i.hostAttrs,n=Ge(n,i.hostAttrs))}}(r)}function Do(t){return t===xt?{}:t===Pt?[]:t}function Mo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function No(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function jo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class Ro{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Lo(t){t.type.prototype.ngOnChanges&&(t.setInput=Fo,t.onChanges=function(){const t=Vo(this),e=t&&t.current;if(e){const n=t.previous;if(n===xt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Fo(t,e,n,r){const i=Vo(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:xt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new Ro(c&&c.currentValue,e,o===xt),t[r]=e}function Vo(t){return t.__ngSimpleChanges__||null}function Uo(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let s=0;s<t.length;s++)Uo(t[s],e,n,r,i);else{const s=ue(),o=ce();let a=bs(t)?t:F(t.provide),c=ps(t);const u=he(),l=65535&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>16;if(bs(t)||!t.multi){const r=new Be(c,i,Fs),f=Ho(a,e,i?l:l+d,h);-1===f?(ln(on(u,o),s,a),Qo(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Ho(a,e,l+d,h),p=Ho(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){ln(on(u,o),s,a);const l=function(t,e,n,r,i){const s=new Be(t,n,Fs);return s.multi=[],s.index=e,s.componentProviders=0,Bo(s,i,r&&!n),s}(i?qo:zo,n.length,i,r,c);!i&&m&&(n[p].providerFactory=l),Qo(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(l),o.push(l)}else Qo(s,t,f>-1?f:p),Bo(n[i?p:f],c,!i&&r);!i&&r&&m&&n[p].componentProviders++}}}function Qo(t,e,n){if(bs(e)||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;r&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r)}}function Bo(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Ho(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zo(t,e,n,r){return Go(this.multi,[])}function qo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=gn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Go(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Go(i,s);return s}function Go(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $o(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ue();if(r.firstCreatePass){const i=Bt(t);Uo(n,r.data,r.blueprint,i,!0),Uo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}Lo.ngInherit=!0;class Wo{}class Ko{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${N(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Yo=(()=>{class t{}return t.NULL=new Ko,t})(),Zo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Xo(t),t})();const Xo=function(t){return Ji(t,he(),ce())};class Jo{}const ta=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>na(),t})();const na=function(){const t=ce(),e=te(he().index,t);return function(t){const e=t[11];if($t(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)};let ra=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class ia{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sa=new ia("9.0.7");class oa{constructor(){}supports(t){return ks(t)}create(t){return new ca(t)}}const aa=(t,e)=>e;class ca{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||aa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<da(n,r,i)?e:n,o=da(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ks(t))throw new Error(`Error trying to diff '${N(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Os(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Os(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ss()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Os(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Os(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Os(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Os(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ua(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ha),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ha),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ua{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class la{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Os(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ha{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new la,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function da(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class fa{constructor(){}supports(t){return t instanceof Map||As(t)}create(){return new pa}}class pa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||As(t)))throw new Error(`Error trying to diff '${N(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ga(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Os(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ga{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ma=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new oa])}),t})(),ba=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new y]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new fa])}),t})();const ya=[new fa],va=new ma([new oa]),_a=new ba(ya);let wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xa(t,Zo),t})();const xa=function(t,e){return ts(t,e,he(),ce())};let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ea(t,Zo),t})();const Ea=function(t,e){return es(t,e,he(),ce())},Ca={};class Sa extends Yo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Nt(t);return new ka(e,this.ngModule)}}function Oa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ta=new X("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>tn});class ka extends Wo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Tr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Oa(this.componentDef.inputs)}get outputs(){return Oa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ca,i);return s!==Ca||r===Ca?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Jo,Wt),o=i.get(ra,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if($t(t))return t.selectRootElement(e,n===wt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ur(c,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:tn,clean:xi,playerHandler:null,flags:0},f=Zr(0,-1,null,1,0,null,null,null,null,null),p=Qr(null,f,d,l,null,null,s,a,o,i);let g,m;Ce(p,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[19]=t;const a=Br(o,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Es(a,c),null!==t&&(He(i,t,c),null!==a.classes&&$i(i,t,a.classes),null!==a.styles&&Gi(i,t,a.styles)));const u=r.createRenderer(t,e),l=Qr(n,Yr(e),null,e.onPush?64:16,n[19],a,r,u,void 0);return o.firstCreatePass&&(ln(on(a,n),o,e.type),oi(o,a),ci(a,n.length,1)),bi(n,l),n[19]=l}(u,this.componentDef,p,s,a);if(u)if(n)He(a,u,["ng-version",sa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Er(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&He(a,u,t),e&&e.length>0&&$i(a,u,e.join(" "))}m=Xt(p[1],0),e&&(m.projection=e.map(t=>Array.from(t))),g=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=he();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),si(t,r,1),ui(t,e,n));const i=gn(e,t,e.length-1,r);br(i,e);const s=Zt(r,e);return s&&br(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=he();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){De(a.index-19);const t=n[1];ni(t,e),ri(t,n,e.hostVars),ii(e,o)}return o}(t,this.componentDef,p,d,[Ao]),Hr(f,p,null)}finally{Ae()}const b=new Aa(this.componentType,g,Ji(Zo,m,p),p,m);return n&&!h||(b.hostView._tViewNode.child=m),b}}class Aa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ki(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=Xr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ia=void 0;var Da=["en",[["a","p"],["AM","PM"],Ia],[["AM","PM"],Ia,Ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ia,"{1} 'at' {0}",Ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ma={};function Na(t,e,n){"string"!=typeof e&&(n=e,e=t[Va.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ma[e]=t,n&&(Ma[e][Va.ExtraData]=n)}function ja(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Fa(e);if(n)return n;const r=e.split("-")[0];if(n=Fa(r),n)return n;if("en"===r)return Da;throw new Error(`Missing locale data for the locale "${t}".`)}function Ra(t){return ja(t)[Va.CurrencyCode]||null}function La(t){return ja(t)[Va.PluralCase]}function Fa(t){return t in Ma||(Ma[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Ma[t]}const Va=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Ua="en-US";function Qa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ua=t.toLowerCase().replace(/_/g,"-"))}const Ba=new Map;class Ha extends dt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sa(this);const n=Rt(t),r=t[K]||null;r&&Qa(r),this._bootstrapComponents=en(n.bootstrap),this._r3Injector=hs(t,e,[{provide:dt,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],N(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vs.THROW_IF_NOT_FOUND,n=w.Default){return t===vs||t===dt||t===J?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class za extends ft{constructor(t){super(),this.moduleType=t,null!==Rt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${N(e)} vs ${N(e.name)}`)})(t,Ba.get(t),e),Ba.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Ha(this.moduleType,t)}}function qa(t,e,n){const r=be()+t,i=ce();return i[r]===kr?Is(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ga(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return Ds(t,o,i)?Is(t,o+1,s?r.call(s,i):r(i)):$a(t,o+1)}(ce(),be(),t,e,n,r)}function $a(t,e){const n=t[e];return n===kr?void 0:n}function Wa(t,e){const n=ue();let r;const i=t+19;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=jt(r.type)),o=ot(Fs),a=s();return ot(o),function(t,e,n,r){const i=n+19;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ce(),t,a),a}function Ka(t,e,n,r){const i=ce(),s=Jt(i,t);return Xa(i,Za(i,t)?function(t,e,n,r,i,s,o){const a=e+n;return Ms(t,a,i,s)?Is(t,a+2,o?r.call(o,i,s):r(i,s)):$a(t,a+2)}(i,be(),e,s.transform,n,r,s):s.transform(n,r))}function Ya(t,e,n,r,i){const s=ce(),o=Jt(s,t);return Xa(s,Za(s,t)?function(t,e,n,r,i,s,o,a){const c=e+n;return function(t,e,n,r,i){const s=Ms(t,e,n,r);return Ds(t,e+2,i)||s}(t,c,i,s,o)?Is(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):$a(t,c+3)}(s,be(),e,o.transform,n,r,i,o):o.transform(n,r,i))}function Za(t,e){return t[1].data[e+19].pure}function Xa(t,e){return Ts.isWrapped(e)&&(e=Ts.unwrap(e),t[ye()]=kr),e}class Ja extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}}function tc(){return this._results[Ss()]()}class ec{constructor(){this.dirty=!0,this._results=[],this.changes=new Ja,this.length=0;const t=Ss(),e=ec.prototype;e[t]||(e[t]=tc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class nc{constructor(t){this.queryList=t,this.matches=null}clone(){return new nc(this.queryList)}setDirty(){this.queryList.setDirty()}}class rc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new rc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==fc(t,e).matches&&this.queries[e].setDirty()}}class ic{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class sc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new sc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class oc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new oc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,ac(e,n[r]))}else{const n=this.metadata.predicate;n===wa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,pn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Zo||r===Pa||r===wa&&0===e.type)this.addMatch(e.index,-2);else{const n=pn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ac(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function cc(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Ji(Zo,t,e):0===t.type?ts(wa,Zo,t,e):null}(e,t):-2===n?function(t,e,n){return n===Zo?Ji(Zo,e,t):n===wa?ts(wa,Zo,e,t):n===Pa?es(Pa,Zo,e,t):void 0}(t,e,r):gn(t,t[1],n,e)}function uc(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:cc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function lc(t){const e=ce(),n=ue(),r=xe();Pe(r+1);const i=fc(n,r);if(t.dirty&&ne(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=uc(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):uc(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function hc(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new sc),t.queries.track(new oc(e,n))}(t,new ic(n,r,!1,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new ec;!function(t,e,n,r){const i=Pi(e);i.push(n),t.firstCreatePass&&Ei(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new rc),e[5].queries.push(new nc(n))}(t,e)}(ue(),ce(),e,n,r,0,he(),t)}function dc(){return t=ce(),e=xe(),t[5].queries[e].queryList;var t,e}function fc(t,e){return t.queries.getByIndex(e)}function pc(t,e){return ts(wa,Zo,t,e)}function gc(t=w.Default){const e=ns(!0);if(null!=e||t&w.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const mc=new X("Application Initializer");let bc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ks(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ct(mc,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const yc=new X("AppId"),vc={provide:yc,useFactory:function(){return`${_c()}${_c()}${_c()}`},deps:[]};function _c(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wc=new X("Platform Initializer"),xc=new X("Platform ID"),Pc=new X("appBootstrapListener");let Ec=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Cc=new X("LocaleId"),Sc=new X("DefaultCurrencyCode");class Oc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Tc=function(t){return new za(t)},kc=Tc,Ac=function(t){return Promise.resolve(Tc(t))},Ic=function(t){const e=Tc(t),n=en(Rt(t).declarations).reduce((t,e)=>{const n=Nt(e);return n&&t.push(new ka(n)),t},[]);return new Oc(e,n)},Dc=Ic,Mc=function(t){return Promise.resolve(Ic(t))};let Nc=(()=>{class t{constructor(){this.compileModuleSync=kc,this.compileModuleAsync=Ac,this.compileModuleAndAllComponentsSync=Dc,this.compileModuleAndAllComponentsAsync=Mc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const jc=new X("compilerOptions"),Rc=(()=>Promise.resolve(0))();function Lc(t){"undefined"==typeof Zone?Rc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.lastRequestAnimationFrameId=-1,Bc(t),Qc(t)}),Bc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Hc(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),zc(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Hc(t),e.invoke(r,i,s,o,a)}finally{zc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Bc(t),Qc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Uc,Vc,Vc);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Vc(){}const Uc={};function Qc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Bc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Hc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zc(t){t._nesting--,Qc(t)}class qc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Gc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fc.assertNotInAngularZone(),Lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ct(Fc))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),$c=(()=>{class t{constructor(){this._applications=new Map,Zc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Zc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Wc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Kc(t){Zc=t}let Yc,Zc=new Wc,Xc=function(t,e,n){const r=new za(n);if(0===ws.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(jc,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const s=function(){const t=z.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),o=vs.create({providers:i}).get(s.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(o.get(t)))(t);n.set(t,e=r.then(Ps))}return e}return ws.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const c=Promise.all(i).then(()=>function(t){xs.delete(t)}(n));e.push(c)}),ws=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const Jc=new X("AllowMultipleToken");class tu{constructor(t,e){this.name=t,this.token=e}}function eu(t,e,n=[]){const r=`Platform: ${e}`,i=new X(r);return(e=[])=>{let s=nu();if(!s||s.injector.get(Jc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ss,useValue:"platform"});!function(t){if(Yc&&!Yc.destroyed&&!Yc.injector.get(Jc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Yc=t.get(ru);const e=t.get(wc,null);e&&e.forEach(t=>t())}(vs.create({providers:t,name:r}))}return function(t){const e=nu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function nu(){return Yc&&!Yc.destroyed?Yc:null}let ru=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new qc:("zone.js"===t?void 0:t)||new Fc({enableLongStackTrace:Un(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Fc,useValue:n}];return n.run(()=>{const e=vs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Pn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>ou(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Ks(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(bc);return t.runInitializers(),t.donePromise.then(()=>(Qa(i.injector.get(Cc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=iu({},e);return Xc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(su);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${N(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ct(vs))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function iu(t,e){return Array.isArray(e)?e.reduce(iu,t):Object.assign(Object.assign({},t),e)}let su=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Un(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Fc.assertNotInAngularZone(),Lc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,l.pipe(t=>{return c()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Wo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(dt),i=n.create(vs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Gc,null);return s&&i.injector.get($c).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Un()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ou(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Pc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ou(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ct(Fc),ct(Ec),ct(vs),ct(Pn),ct(Yo),ct(bc))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function ou(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class au{}class cu{}const uu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let lu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||uu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>hu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>hu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ct(Nc),ct(cu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function hu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const du=function(t){return null},fu=eu(null,"core",[{provide:xc,useValue:"unknown"},{provide:ru,deps:[vs]},{provide:$c,deps:[]},{provide:Ec,deps:[]}]),pu=[{provide:su,useClass:su,deps:[Fc,Ec,vs,Pn,Yo,bc]},{provide:Ta,deps:[Fc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:bc,useClass:bc,deps:[[new y,mc]]},{provide:Nc,useClass:Nc,deps:[]},vc,{provide:ma,useFactory:function(){return va},deps:[]},{provide:ba,useFactory:function(){return _a},deps:[]},{provide:Cc,useFactory:function(t){return Qa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new b(Cc),new y,new _]]},{provide:Sc,useValue:"USD"}];let gu=(()=>{class t{constructor(t){}}return t.\u0275mod=kt({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(ct(su))},providers:pu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new u(t,e))}}n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return u})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return g}));var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?y(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new m(i,a,r);return c},t}();function y(t,e){return t.replace(v,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new x(t,e);return n.subscribe.bind(n)}var x=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function P(){}},qgXg:function(t,e,n){"use strict";var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}n.d(e,"a",(function(){return a}));const a=new o(i)},quSY:function(t,e,n){"use strict";var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();n.d(e,"a",(function(){return a}));let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?c(l.errors):[l]}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(c(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return x}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.q("angularfire2.app.options"),v=new c.q("angularfire2.app.nameOrConfig"),_=new c.N("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&P("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const x=()=>{P("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},P=(t,...e)=>{Object(c.U)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&P("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[y,c.z,[new c.A,v]]};let S=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.M.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)(c.Ub(c.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const c={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var u=n("3N8a");class l extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=c.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(c.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new b(t,e))}}n.d(e,"a",(function(){return m}));class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}n.d(e,"a",(function(){return o}));class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new c.b("@firebase/app"),f=function(){function t(t,e,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return c}),"PUBLIC"));try{for(var u=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&c.push("and"),o&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}u(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.g)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){c={error:m}}finally{try{g&&!g.done&&(u=p.return)&&u.call(p)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(y),e.a=y},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i="https://trungdc.synology.me:5152/pig-farm-api",s={apiKey:"AIzaSyBYH6IrJ1z76jwUfO6bqSwug9keJDuGrOM",authDomain:"notification-1b988.firebaseapp.com",databaseURL:"https://notification-1b988-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"notification-1b988",storageBucket:"notification-1b988.appspot.com",messagingSenderId:"482166598328",appId:"1:482166598328:web:cd4a422766d3ca2056a24d",measurementId:"G-NPMC25R69V"};let o=null;function a(){return o}const c=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Ub)(d)}const h=new r.q("Location Initialized");let d=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c))},t.\u0275prov=Object(r.Hb)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(r.Ub)(c))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Ub)(c).location;return new w(Object(r.Ub)(u),e&&e.origin||"")}const _=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(_,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(_,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(y),r.Ub(u))},t.normalizeQueryParams=b,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Hb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new P(Object(r.Ub)(y),Object(r.Ub)(u))}function C(t){return t.replace(/\/index.html$/,"")}const S=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),O=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),T=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),k=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),A=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function I(t,e){return L(Object(r.jb)(t)[r.Z.DateFormat],e)}function D(t,e){return L(Object(r.jb)(t)[r.Z.TimeFormat],e)}function M(t,e){return L(Object(r.jb)(t)[r.Z.DateTimeFormat],e)}function N(t,e){const n=Object(r.jb)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.Z.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.Z.NumberSymbols][A.Group]}return i}const j=r.mb;function R(t){if(!t[r.Z.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Z.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function F(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const V=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,U={},Q=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,B=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),H=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),z=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function q(t,e,n,i){let s=function(t){if(tt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(V))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,c,u),e}(n)}const e=new Date(t);if(!tt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.jb)(t)[r.Z.LocaleId]}(e);if(U[i]=U[i]||{},U[i][n])return U[i][n];let s="";switch(n){case"shortDate":s=I(e,k.Short);break;case"mediumDate":s=I(e,k.Medium);break;case"longDate":s=I(e,k.Long);break;case"fullDate":s=I(e,k.Full);break;case"shortTime":s=D(e,k.Short);break;case"mediumTime":s=D(e,k.Medium);break;case"longTime":s=D(e,k.Long);break;case"fullTime":s=D(e,k.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");s=G(M(e,k.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),o=t(e,"mediumDate");s=G(M(e,k.Medium),[i,o]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");s=G(M(e,k.Long),[a,c]);break;case"full":const u=t(e,"fullTime"),l=t(e,"fullDate");s=G(M(e,k.Full),[u,l])}return s&&(U[i][n]=s),s}(n,e)||e;let o,a=[];for(;e;){if(o=Q.exec(e),!o){a.push(e);break}{a=a.concat(o.slice(1));const t=a.pop();if(!t)break;e=t}}let c=s.getTimezoneOffset();i&&(c=J(i,c),s=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(J(e,r)-r))}(s,i));let u="";return a.forEach(t=>{const e=function(t){if(X[t])return X[t];let e;switch(t){case"G":case"GG":case"GGG":e=K(z.Eras,T.Abbreviated);break;case"GGGG":e=K(z.Eras,T.Wide);break;case"GGGGG":e=K(z.Eras,T.Narrow);break;case"y":e=W(H.FullYear,1,0,!1,!0);break;case"yy":e=W(H.FullYear,2,0,!0,!0);break;case"yyy":e=W(H.FullYear,3,0,!1,!0);break;case"yyyy":e=W(H.FullYear,4,0,!1,!0);break;case"M":case"L":e=W(H.Month,1,1);break;case"MM":case"LL":e=W(H.Month,2,1);break;case"MMM":e=K(z.Months,T.Abbreviated);break;case"MMMM":e=K(z.Months,T.Wide);break;case"MMMMM":e=K(z.Months,T.Narrow);break;case"LLL":e=K(z.Months,T.Abbreviated,O.Standalone);break;case"LLLL":e=K(z.Months,T.Wide,O.Standalone);break;case"LLLLL":e=K(z.Months,T.Narrow,O.Standalone);break;case"w":e=Z(1);break;case"ww":e=Z(2);break;case"W":e=Z(1,!0);break;case"d":e=W(H.Date,1);break;case"dd":e=W(H.Date,2);break;case"E":case"EE":case"EEE":e=K(z.Days,T.Abbreviated);break;case"EEEE":e=K(z.Days,T.Wide);break;case"EEEEE":e=K(z.Days,T.Narrow);break;case"EEEEEE":e=K(z.Days,T.Short);break;case"a":case"aa":case"aaa":e=K(z.DayPeriods,T.Abbreviated);break;case"aaaa":e=K(z.DayPeriods,T.Wide);break;case"aaaaa":e=K(z.DayPeriods,T.Narrow);break;case"b":case"bb":case"bbb":e=K(z.DayPeriods,T.Abbreviated,O.Standalone,!0);break;case"bbbb":e=K(z.DayPeriods,T.Wide,O.Standalone,!0);break;case"bbbbb":e=K(z.DayPeriods,T.Narrow,O.Standalone,!0);break;case"B":case"BB":case"BBB":e=K(z.DayPeriods,T.Abbreviated,O.Format,!0);break;case"BBBB":e=K(z.DayPeriods,T.Wide,O.Format,!0);break;case"BBBBB":e=K(z.DayPeriods,T.Narrow,O.Format,!0);break;case"h":e=W(H.Hours,1,-12);break;case"hh":e=W(H.Hours,2,-12);break;case"H":e=W(H.Hours,1);break;case"HH":e=W(H.Hours,2);break;case"m":e=W(H.Minutes,1);break;case"mm":e=W(H.Minutes,2);break;case"s":e=W(H.Seconds,1);break;case"ss":e=W(H.Seconds,2);break;case"S":e=W(H.FractionalSeconds,1);break;case"SS":e=W(H.FractionalSeconds,2);break;case"SSS":e=W(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Y(B.Short);break;case"ZZZZZ":e=Y(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Y(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Y(B.Long);break;default:return null}return X[t]=e,e}(t);u+=e?e(s,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function G(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function $(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function W(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case H.FullYear:return e.getFullYear();case H.Month:return e.getMonth();case H.Date:return e.getDate();case H.Hours:return e.getHours();case H.Minutes:return e.getMinutes();case H.Seconds:return e.getSeconds();case H.FractionalSeconds:return e.getMilliseconds();case H.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===H.Hours)0===a&&-12===n&&(a=12);else if(t===H.FractionalSeconds)return c=e,$(a,3).substr(0,c);var c;const u=N(o,A.MinusSign);return $(a,e,u,r,i)}}function K(t,e,n=O.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case z.Months:return function(t,e,n){const i=Object(r.jb)(t),s=L([i[r.Z.MonthsFormat],i[r.Z.MonthsStandalone]],e);return L(s,n)}(e,s,i)[t.getMonth()];case z.Days:return function(t,e,n){const i=Object(r.jb)(t),s=L([i[r.Z.DaysFormat],i[r.Z.DaysStandalone]],e);return L(s,n)}(e,s,i)[t.getDay()];case z.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(o){const t=function(t){const e=Object(r.jb)(t);return R(e),(e[r.Z.ExtraData][2]||[]).map(t=>"string"==typeof t?F(t):[F(t[0]),F(t[1])])}(e),n=function(t,e,n){const i=Object(r.jb)(t);R(i);const s=L([i[r.Z.ExtraData][0],i[r.Z.ExtraData][1]],e)||[];return L(s,n)||[]}(e,s,i);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:s,minutes:u}=t[1];a>=r&&c>=i&&(a<s||a===s&&c<u)&&(o=n[e])}else{const{hours:r,minutes:i}=t;r===a&&i===c&&(o=n[e])}}),o)return o}return function(t,e,n){const i=Object(r.jb)(t),s=L([i[r.Z.DayPeriodsFormat],i[r.Z.DayPeriodsStandalone]],e);return L(s,n)}(e,s,i)[a<12?0:1];case z.Eras:return function(t,e){return L(Object(r.jb)(t)[r.Z.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function Y(t){return function(e,n,r){const i=-1*r,s=N(n,A.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case B.Short:return(i>=0?"+":"")+$(o,2,s)+$(Math.abs(i%60),2,s);case B.ShortGMT:return"GMT"+(i>=0?"+":"")+$(o,1,s);case B.Long:return"GMT"+(i>=0?"+":"")+$(o,2,s)+":"+$(Math.abs(i%60),2,s);case B.Extended:return 0===r?"Z":(i>=0?"+":"")+$(o,2,s)+":"+$(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var s;return $(i,t,N(r,A.MinusSign))}}const X={};function J(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function tt(t){return t instanceof Date&&!isNaN(t.valueOf())}class et{}let nt=(()=>{class t extends et{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.u))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function rt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let it=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.vb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.s),r.Lb(r.t),r.Lb(r.l),r.Lb(r.D))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class st{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ot=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new st(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new at(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new at(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.O),r.Lb(r.K),r.Lb(r.s))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class at{constructor(t,e){this.record=t,this.view=e}}let ct=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.O),r.Lb(r.K))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ut{constructor(){this.$implicit=null,this.ngIf=null}}function lt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let ht=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.t),r.Lb(r.D))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();function dt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(t)}'`)}let ft=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return q(e,n,i||this.locale,r)}catch(s){throw dt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.u))},t.\u0275pipe=r.Kb({name:"date",type:t,pure:!0}),t})(),pt=(()=>{class t{transform(e,n,r){if(null==e)return e;if(!this.supports(e))throw dt(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Kb({name:"slice",type:t,pure:!1}),t})(),gt=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[{provide:et,useClass:nt}]}),t})(),mt=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new bt(Object(r.Ub)(c),window,Object(r.Ub)(r.m))}),t})();class bt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class yt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new yt,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=_t||(_t=document.querySelector("base"),_t)?_t.getAttribute("href"):null;return null==e?null:(n=e,vt||(vt=document.createElement("a")),vt.setAttribute("href",n),"/"===vt.pathname.charAt(0)?vt.pathname:"/"+vt.pathname);var n}resetBaseElement(){_t=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return rt(document.cookie,t)}}let vt,_t=null;const wt=new r.q("TRANSITION_ID"),xt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[wt,c,r.r],multi:!0}];class Pt{static init(){Object(r.W)(new Pt)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Et=new r.q("EventManagerPlugins");let Ct=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Et),r.Ub(r.z))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class St{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ot=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Tt=(()=>{class t extends Ot{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const kt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},At=/%COMP%/g;function It(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?It(t,i,n):(i=i.replace(At,t),n.push(i))}return n}function Dt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Nt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new jt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.P.Native:case r.P.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=It(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ct),r.Ub(Tt),r.Ub(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Nt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(kt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=kt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=kt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Dt(n)):this.eventManager.addEventListener(t,e,Dt(n))}}class jt extends Nt{constructor(t,e,n,r){super(t),this.component=n;const i=It(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(At,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(At,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Rt extends Nt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.P.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=It(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Lt=(()=>{class t extends St{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Ft=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Bt=(()=>{class t extends St{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Ft.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ut.hasOwnProperty(e)&&(e=Ut[e]))}return Vt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ft.forEach(r=>{r!=n&&(0,Qt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ht=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return Object(r.Ub)(zt)},token:t,providedIn:"root"}),t})(),zt=(()=>{class t extends Ht{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.db)(e,"HTML")?Object(r.wb)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.db)(e,"Style")?Object(r.wb)(e):Object(r.bb)(e);case r.H.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.wb)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.nb)(e),Object(r.db)(e,"URL")?Object(r.wb)(e):Object(r.cb)(String(e));case r.H.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.wb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.eb)(t)}bypassSecurityTrustStyle(t){return Object(r.hb)(t)}bypassSecurityTrustScript(t){return Object(r.gb)(t)}bypassSecurityTrustUrl(t){return Object(r.ib)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.fb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c))},t.\u0275prov=Object(r.Hb)({factory:function(){return t=Object(r.Ub)(r.o),new zt(t.get(c));var t},token:t,providedIn:"root"}),t})();const qt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){yt.makeCurrent(),Pt.init()},multi:!0},{provide:c,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],Gt=Object(r.R)(r.V,"browser",qt),$t=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Et,useClass:Lt,multi:!0,deps:[c,r.z,r.B]},{provide:Et,useClass:Bt,multi:!0,deps:[c]},[],{provide:Mt,useClass:Mt,deps:[Ct,Tt,r.c]},{provide:r.E,useExisting:Mt},{provide:Ot,useExisting:Tt},{provide:Tt,useClass:Tt,deps:[c]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Ct,useClass:Ct,deps:[Et,r.z]},[]];let Wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:wt,useExisting:r.c},xt]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(t,12))},providers:$t,imports:[gt,r.f]}),t})();function Kt(){return new Yt(Object(r.Ub)(c))}let Yt=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c))},t.\u0275prov=Object(r.Hb)({factory:Kt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var Zt=n("LRne"),Xt=n("Cfvw"),Jt=n("XNiG"),te=n("9ppp");class ee extends Jt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new te.a;return this._value}next(t){super.next(this._value=t)}}var ne=n("HDdC");const re=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var ie=n("z+Ro"),se=n("DH7j"),oe=n("l7GE"),ae=n("ZUHj"),ce=n("yCtX");const ue={};class le{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new he(t,this.resultSelector))}}class he extends oe.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ue),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(ae.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===ue?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var de=n("EY2u");function fe(t){return new ne.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Xt.a)(n):Object(de.b)()).subscribe(e)})}var pe=n("lJxs"),ge=n("bHdf");function me(){return Object(ge.a)(1)}var be=n("7o/Q");function ye(t,e){return function(n){return n.lift(new ve(t,e))}}class ve{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new _e(t,this.predicate,this.thisArg))}}class _e extends be.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const we=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function xe(t){return function(e){return 0===t?Object(de.b)():e.lift(new Pe(t))}}class Pe{constructor(t){if(this.total=t,this.total<0)throw new we}call(t,e){return e.subscribe(new Ee(t,this.total))}}class Ee extends be.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ce(t=Te){return e=>e.lift(new Se(t))}class Se{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Oe(t,this.errorFactory))}}class Oe extends be.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Te(){return new re}function ke(t=null){return e=>e.lift(new Ae(t))}class Ae{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ie(t,this.defaultValue))}}class Ie extends be.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var De=n("SpAZ");function Me(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ye((e,n)=>t(e,n,r)):De.a,xe(1),n?ke(e):Ce(()=>new re))}var Ne=n("51Dv");function je(t){return function(e){const n=new Re(t),r=e.lift(n);return n.caught=r}}class Re{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Le(t,this.selector,this.caught))}}class Le extends oe.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ne.a(this,void 0,void 0);this.add(r);const i=Object(ae.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Fe(t){return e=>0===t?Object(de.b)():e.lift(new Ve(t))}class Ve{constructor(t){if(this.total=t,this.total<0)throw new we}call(t,e){return e.subscribe(new Ue(t,this.total))}}class Ue extends be.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Qe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ye((e,n)=>t(e,n,r)):De.a,Fe(1),n?ke(e):Ce(()=>new re))}var Be=n("5+tZ");class He{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new ze(t,this.predicate,this.thisArg,this.source))}}class ze extends be.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function qe(t,e){return"function"==typeof e?n=>n.pipe(qe((n,r)=>Object(Xt.a)(t(n,r)).pipe(Object(pe.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ge(t))}class Ge{constructor(t){this.project=t}call(t,e){return e.subscribe(new $e(t,this.project))}}class $e extends oe.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Ne.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(ae.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function We(...t){return me()(Object(Zt.a)(...t))}function Ke(...t){const e=t[t.length-1];return Object(ie.a)(e)?(t.pop(),n=>We(t,n,e)):e=>We(t,e)}function Ye(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ze(t,e,n))}}class Ze{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Xe(t,this.accumulator,this.seed,this.hasSeed))}}class Xe extends be.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Je(t,e){return Object(Be.a)(t,e,1)}var tn=n("mCNh"),en=n("vkgz"),nn=n("quSY");function rn(t){return e=>e.lift(new sn(t))}class sn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new on(t,this.callback))}}class on extends be.a{constructor(t,e){super(t),this.add(new nn.a(e))}}class an{constructor(t,e){this.id=t,this.url=e}}class cn extends an{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class un extends an{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ln extends an{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hn extends an{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dn extends an{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fn extends an{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn extends an{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gn extends an{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mn extends an{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _n{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let En=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[Ti]},encapsulation:2}),t})();class Cn{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Sn(t){return new Cn(t)}function On(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Tn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class kn{constructor(t,e){this.routes=t,this.module=e}}function An(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];In(r,Dn(e,r))}}function In(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&An(t.children,e)}function Dn(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Mn(t){const e=t.children&&t.children.map(Mn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=En),n}function Nn(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!jn(t[i],e[i]))return!1;return!0}function jn(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Rn(t){return Array.prototype.concat.apply([],t)}function Ln(t){return t.length>0?t[t.length-1]:null}function Fn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Vn(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Xt.a)(Promise.resolve(t)):Object(Zt.a)(t)}function Un(t,e,n){return n?function(t,e){return Nn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!zn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jn(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!zn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!zn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!zn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Qn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sn(this.queryParams)),this._queryParamMap}toString(){return Wn.serialize(this)}}class Bn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Fn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kn(this)}}class Hn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Sn(this.parameters)),this._parameterMap}toString(){return er(this)}}function zn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function qn(t,e){let n=[];return Fn(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Fn(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Gn{}class $n{parse(t){const e=new or(t);return new Qn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Kn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Fn(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=qn(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Kn(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Zn(e)}=${Zn(t)}`).join("&"):`${Zn(e)}=${Zn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Wn=new $n;function Kn(t){return t.segments.map(t=>er(t)).join("/")}function Yn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zn(t){return Yn(t).replace(/%3B/gi,";")}function Xn(t){return Yn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jn(t){return decodeURIComponent(t)}function tr(t){return Jn(t.replace(/\+/g,"%20"))}function er(t){return`${Xn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Xn(t)}=${Xn(e[t])}`).join("")}`;var e}const nr=/^[^\/()?;=#]+/;function rr(t){const e=t.match(nr);return e?e[0]:""}const ir=/^[^=?&#]+/,sr=/^[^?&#]+/;class or{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Bn(t,e)),n}parseSegment(){const t=rr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Hn(Jn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=rr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=rr(this.remaining);t&&(n=t,this.capture(n))}t[Jn(e)]=Jn(n)}parseQueryParam(t){const e=function(t){const e=t.match(ir);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(sr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=tr(e),i=tr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=rr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Bn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ar{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=cr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=cr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ur(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ur(t,this._root).map(t=>t.value)}}function cr(t,e){if(t===e.value)return e;for(const n of e.children){const e=cr(t,n);if(e)return e}return null}function ur(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ur(t,n);if(r.length)return r.unshift(e),r}return[]}class lr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function hr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class dr extends ar{constructor(t,e){super(t),this.snapshot=e,yr(this,t)}toString(){return this.snapshot.toString()}}function fr(t,e){const n=function(t,e){const n=new mr([],{},{},"",{},"primary",e,null,t.root,-1,{});return new br("",new lr(n,[]))}(t,e),r=new ee([new Hn("",{})]),i=new ee({}),s=new ee({}),o=new ee({}),a=new ee(""),c=new pr(r,i,o,a,s,"primary",e,n.root);return c.snapshot=n.root,new dr(new lr(c,[]),n)}class pr{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(pe.a)(t=>Sn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(pe.a)(t=>Sn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class mr{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class br extends ar{constructor(t,e){super(e),this.url=t,yr(this,e)}toString(){return vr(this._root)}}function yr(t,e){e.value._routerState=t,e.children.forEach(e=>yr(t,e))}function vr(t){const e=t.children.length>0?` { ${t.children.map(vr).join(", ")} } `:"";return`${t.value}${e}`}function _r(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Nn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Nn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function wr(t,e){return Nn(t.params,e.params)&&function(t,e){return zn(t,e)&&t.every((t,n)=>Nn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||wr(t.parent,e.parent))}function xr(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Pr(t,e,n,r,i){let s={};return r&&Fn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Qn(n.root===t?e:function t(e,n,r){const i={};return Fn(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Bn(e.segments,i)}(n.root,t,e),s,i)}class Er{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&xr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Ln(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Sr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function Or(t,e,n){if(t||(t=new Bn([],{})),0===t.segments.length&&t.hasChildren())return Tr(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Sr(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Dr(o,a,e))return s;r+=2}else{if(!Dr(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Bn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Bn(t.segments.slice(r.pathIndex),t.children),Tr(e,0,i)}return r.match&&0===i.length?new Bn(t.segments,{}):r.match&&!t.hasChildren()?kr(t,e,n):r.match?Tr(t,0,i):kr(t,e,n)}function Tr(t,e,n){if(0===n.length)return new Bn(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Fn(r,(n,r)=>{null!==n&&(i[r]=Or(t.children[r],e,n))}),Fn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Bn(t.segments,i)}}function kr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Ar(n[i].outlets);return new Bn(r,t)}if(0===i&&xr(n[0])){r.push(new Hn(t.segments[e].path,n[0])),i++;continue}const s=Sr(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&xr(o)?(r.push(new Hn(s,Ir(o))),i+=2):(r.push(new Hn(s,{})),i++)}return new Bn(r,{})}function Ar(t){const e={};return Fn(t,(t,n)=>{null!==t&&(e[n]=kr(new Bn([],{}),0,t))}),e}function Ir(t){const e={};return Fn(t,(t,n)=>e[n]=`${t}`),e}function Dr(t,e,n){return t==n.path&&Nn(e,n.parameters)}class Mr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),_r(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=hr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Fn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=hr(t),i=t.value.component?n.children:e;Fn(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=hr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new xn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new _n(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(_r(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Nr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Nr(t){_r(t.value),t.children.forEach(Nr)}function jr(t){return"function"==typeof t}function Rr(t){return t instanceof Qn}class Lr{constructor(t){this.segmentGroup=t||null}}class Fr{constructor(t){this.urlTree=t}}function Vr(t){return new ne.a(e=>e.error(new Lr(t)))}function Ur(t){return new ne.a(e=>e.error(new Fr(t)))}function Qr(t){return new ne.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Br{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(pe.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(je(t=>{if(t instanceof Fr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Lr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(pe.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(je(t=>{if(t instanceof Lr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Bn([],{primary:t}):t;return new Qn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(pe.a)(t=>new Bn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Zt.a)({});const n=[],r=[],i={};return Fn(t,(t,s)=>{const o=e(s,t).pipe(Object(pe.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),Zt.a.apply(null,n.concat(r)).pipe(me(),Me(),Object(pe.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(Zt.a)(...n).pipe(Object(pe.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(je(t=>{if(t instanceof Lr)return Object(Zt.a)(null);throw t}))),me(),Qe(t=>!!t),je((t,n)=>{if(t instanceof re||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Zt.a)(new Bn([],{}));throw new Lr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Gr(r)!==s?Vr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Vr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ur(i):this.lineralizeSegments(n,i).pipe(Object(Be.a)(n=>{const i=new Bn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Hr(e,r,i);if(!o)return Vr(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Ur(l):this.lineralizeSegments(r,l).pipe(Object(Be.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(pe.a)(t=>(n._loadedConfig=t,new Bn(r,{})))):Object(Zt.a)(new Bn(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Hr(e,n,r);if(!i)return Vr(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(Be.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>qr(t,e,n)&&"primary"!==Gr(n))}(t,n,r)?{segmentGroup:zr(new Bn(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Gr(r)&&(n[Gr(r)]=new Bn([],{}));return n}(r,new Bn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>qr(t,e,n))}(t,n,r)?{segmentGroup:zr(new Bn(t.segments,function(t,e,n,r){const i={};for(const s of n)qr(t,e,s)&&!r[Gr(s)]&&(i[Gr(s)]=new Bn([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(pe.a)(t=>new Bn(s,t))):0===r.length&&0===o.length?Object(Zt.a)(new Bn(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(Object(pe.a)(t=>new Bn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Zt.a)(new kn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Zt.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(Xt.a)(r).pipe(Object(pe.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&jr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!jr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Vn(s)})).pipe(me(),(i=t=>!0===t,t=>t.lift(new He(i,void 0,t)))):Object(Zt.a)(!0);var i}(t.injector,e,n).pipe(Object(Be.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(pe.a)(t=>(e._loadedConfig=t,t))):function(t){return new ne.a(e=>e.error(On(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Zt.a)(new kn([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Zt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Qr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Qn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Fn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Fn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Bn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Hr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Tn)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function zr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Bn(t.segments.concat(e.segments),e.children)}return t}function qr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Gr(t){return t.outlet||"primary"}class $r{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wr{constructor(t,e){this.component=t,this.route=e}}function Kr(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=hr(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!zn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!zn(t.url,e.url)||!Nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wr(t,e)||!Nn(t.queryParams,e.queryParams);case"paramsChange":default:return!wr(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new $r(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?c?c.children:null:r,i,s),u&&s.canDeactivateChecks.push(new Wr(c&&c.outlet&&c.outlet.component||null,a))}else a&&Zr(n,c,s),s.canActivateChecks.push(new $r(i)),t(e,null,o.component?c?c.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Fn(o,(t,e)=>Zr(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Yr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Zr(t,e,n){const r=hr(t),i=t.value;Fn(r,(t,r)=>{Zr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Wr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Xr=Symbol("INITIAL_VALUE");function Jr(){return qe(t=>function(...t){let e=null,n=null;return Object(ie.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(se.a)(t[0])&&(t=t[0]),Object(ce.a)(t,n).lift(new le(e))}(...t.map(t=>t.pipe(Fe(1),Ke(Xr)))).pipe(Ye((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Xr)return t;if(r===Xr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Rr(r))return r}return t},t)},Xr),ye(t=>t!==Xr),Object(pe.a)(t=>Rr(t)?t:!0===t),Fe(1)))}function ti(t,e){return null!==t&&e&&e(new wn(t)),Object(Zt.a)(!0)}function ei(t,e){return null!==t&&e&&e(new vn(t)),Object(Zt.a)(!0)}function ni(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Zt.a)(!0);const i=r.map(r=>fe(()=>{const i=Yr(r,e,n);let s;if(function(t){return t&&jr(t.canActivate)}(i))s=Vn(i.canActivate(e,t));else{if(!jr(i))throw new Error("Invalid CanActivate guard");s=Vn(i(e,t))}return s.pipe(Qe())}));return Object(Zt.a)(i).pipe(Jr())}function ri(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>fe(()=>{const i=e.guards.map(i=>{const s=Yr(i,e.node,n);let o;if(function(t){return t&&jr(t.canActivateChild)}(s))o=Vn(s.canActivateChild(r,t));else{if(!jr(s))throw new Error("Invalid CanActivateChild guard");o=Vn(s(r,t))}return o.pipe(Qe())});return Object(Zt.a)(i).pipe(Jr())}));return Object(Zt.a)(i).pipe(Jr())}class ii{}class si{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=ci(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new mr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new lr(n,e),i=new br(this.url,r);return this.inheritParamsAndData(i._root),Object(Zt.a)(i)}catch(t){return new ne.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=gr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=qn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof ii))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new ii}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new ii;if((t.outlet||"primary")!==r)throw new ii;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Ln(n).parameters:{};i=new mr(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hi(t),r,t.component,t,oi(e),ai(e)+n.length,di(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ii;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Tn)(n,t,e);if(!r)throw new ii;const i={};Fn(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new mr(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hi(t),r,t.component,t,oi(e),ai(e)+s.length,di(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=ci(e,s,o,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new lr(i,t)]}if(0===a.length&&0===u.length)return[new lr(i,[])];const l=this.processSegment(a,c,u,"primary");return[new lr(i,l)]}}function oi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ai(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ci(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>ui(t,e,n)&&"primary"!==li(n))}(t,n,r)){const i=new Bn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==li(s)){const n=new Bn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[li(s)]=n}return i}(t,e,r,new Bn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ui(t,e,n))}(t,n,r)){const s=new Bn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(ui(t,n,a)&&!i[li(a)]){const n=new Bn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[li(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Bn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ui(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function li(t){return t.outlet||"primary"}function hi(t){return t.data||{}}function di(t){return t.resolve||{}}function fi(t,e,n,r){const i=Yr(t,e,r);return Vn(i.resolve?i.resolve(e,n):i(e,n))}function pi(t){return function(e){return e.pipe(qe(e=>{const n=t(e);return n?Object(Xt.a)(n).pipe(Object(pe.a)(()=>e)):Object(Xt.a)([e])}))}}class gi{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const mi=new r.q("ROUTES");class bi{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(pe.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new kn(Rn(r.injector.get(mi)).map(Mn),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Xt.a)(this.loader.load(t)):Vn(t()).pipe(Object(Be.a)(t=>t instanceof r.v?Object(Zt.a)(t):Object(Xt.a)(this.compiler.compileModuleAsync(t))))}}class yi{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vi(t){throw t}function _i(t,e,n){return e.parse("/")}function wi(t,e){return Object(Zt.a)(null)}let xi=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Jt.a,this.errorHandler=vi,this.malformedUriErrorHandler=_i,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wi,afterPreactivation:wi},this.urlHandlingStrategy=new yi,this.routeReuseStrategy=new gi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.X);const u=s.get(r.z);this.isNgZoneEnabled=u instanceof r.z,this.resetConfig(c),this.currentUrlTree=new Qn(new Bn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bi(o,a,t=>this.triggerEvent(new bn(t)),t=>this.triggerEvent(new yn(t))),this.routerState=fr(this.currentUrlTree,this.rootComponentType),this.transitions=new ee({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ye(t=>0!==t.id),Object(pe.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),qe(t=>{let n=!1,r=!1;return Object(Zt.a)(t).pipe(Object(en.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qe(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Zt.a)(t).pipe(qe(t=>{const n=this.transitions.getValue();return e.next(new cn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?de.a:[t]}),qe(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(qe(t=>function(t,e,n,r,i){return new Br(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(pe.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(en.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(Be.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new si(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(pe.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(en.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(en.a)(t=>{const n=new dn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new cn(n,this.serializeUrl(r),i,s);e.next(a);const c=fr(r,this.rootComponentType).snapshot;return Object(Zt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),de.a}),pi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(en.a)(t=>{const e=new fn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(pe.a)(t=>Object.assign(Object.assign({},t),{guards:Kr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Be.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Zt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Xt.a)(t).pipe(Object(Be.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Zt.a)(!0);const o=s.map(s=>{const o=Yr(s,e,i);let a;if(function(t){return t&&jr(t.canDeactivate)}(o))a=Vn(o.canDeactivate(t,e,n,r));else{if(!jr(o))throw new Error("Invalid CanDeactivate guard");a=Vn(o(t,e,n,r))}return a.pipe(Qe())});return Object(Zt.a)(o).pipe(Jr())}(t.component,t.route,n,e,r)),Qe(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Be.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Xt.a)(e).pipe(Je(e=>Object(Xt.a)([ei(e.route.parent,r),ti(e.route,r),ri(t,e.path,n),ni(t,e.route,n)]).pipe(me(),Qe(t=>!0!==t,!0))),Qe(t=>!0!==t,!0))}(r,s,t,e):Object(Zt.a)(n)),Object(pe.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(en.a)(t=>{if(Rr(t.guardsResult)){const e=On(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(en.a)(t=>{const e=new pn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ye(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ln(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),pi(t=>{if(t.guards.canActivateChecks.length)return Object(Zt.a)(t).pipe(Object(en.a)(t=>{const e=new gn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(Be.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(Xt.a)(i).pipe(Je(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Zt.a)({});if(1===i.length){const s=i[0];return fi(t[s],e,n,r).pipe(Object(pe.a)(t=>({[s]:t})))}const s={};return Object(Xt.a)(i).pipe(Object(Be.a)(i=>fi(t[i],e,n,r).pipe(Object(pe.a)(t=>(s[i]=t,t))))).pipe(Me(),Object(pe.a)(()=>s))}(t._resolve,t,e,r).pipe(Object(pe.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),gr(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(tn.a)(Ye(t,e),xe(1),ke(e))(n)}:function(e){return Object(tn.a)(Ye((e,n,r)=>t(e,n,r+1)),xe(1))(e)}}((t,e)=>t),Object(pe.a)(e=>t)):Object(Zt.a)(t)}))}),Object(en.a)(t=>{const e=new mn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),pi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(pe.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new lr(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new pr(new ee((i=n.value).url),new ee(i.params),new ee(i.queryParams),new ee(i.fragment),new ee(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new lr(r,s)}}var i}(t,e._root,n?n._root:void 0);return new dr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(en.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(pe.a)(t=>(new Mr(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(en.a)({next(){n=!0},complete(){n=!0}}),rn(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new ln(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),je(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Rr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new ln(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new hn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Gm){t.reject(Gm)}}var i;return de.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){An(t),this.config=t.map(Mn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:c}=e;Object(r.U)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Pr(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Er(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Fn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Er(n,e,r)}(n);if(s.toRoot())return Pr(e.root,new Bn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Cr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Cr(n.snapshot._urlSegment,!0,0);const r=xr(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Cr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Tr(o.segmentGroup,o.index,s.commands):Or(o.segmentGroup,o.index,s.commands);return Pr(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Rr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Rr(t))return Un(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Un(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new un(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,c;i?(o=i.resolve,a=i.reject,c=i.promise):c=new Promise((t,e)=>{o=t,a=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){r.Xb()},t.\u0275dir=r.Gb({type:t}),t})(),Pi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Ci(this.skipLocationChange),replaceUrl:Ci(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ci(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ci(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(xi),r.Lb(pr),r.Vb("tabindex"),r.Lb(r.D),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Yb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),Ei=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof un&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Ci(this.skipLocationChange),replaceUrl:Ci(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ci(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ci(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(xi),r.Lb(pr),r.Lb(y))},t.\u0275dir=r.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Yb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Tb("href",e.href,r.oc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function Ci(t){return""===t||!!t}class Si{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Oi,this.attachRef=null}}class Oi{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Si,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Ti=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ki(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Oi),r.Lb(r.O),r.Lb(r.j),r.Vb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ki{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===pr?this.route:t===Oi?this.childContexts:this.parent.get(t,e)}}class Ai{}class Ii{preload(t,e){return Object(Zt.a)(null)}}let Di=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new bi(e,n,e=>t.triggerEvent(new bn(e)),e=>t.triggerEvent(new yn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ye(t=>t instanceof un),Je(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Xt.a)(n).pipe(Object(ge.a)(),Object(pe.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Be.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(xi),r.Ub(r.w),r.Ub(r.i),r.Ub(r.r),r.Ub(Ai))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Mi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof cn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof un&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Pn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){r.Xb()},t.\u0275dir=r.Gb({type:t}),t})();const Ni=new r.q("ROUTER_CONFIGURATION"),ji=new r.q("ROUTER_FORROOT_GUARD"),Ri=[P,{provide:Gn,useClass:$n},{provide:xi,useFactory:function(t,e,n,r,i,s,o,c={},u,l){const h=new xi(null,t,e,n,r,i,s,Rn(o));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=a();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[Gn,Oi,P,r.r,r.w,r.i,mi,Ni,[class{},new r.A],[class{},new r.A]]},Oi,{provide:pr,useFactory:function(t){return t.routerState.root},deps:[xi]},{provide:r.w,useClass:r.J},Di,Ii,class{preload(t,e){return e().pipe(je(()=>Object(Zt.a)(null)))}},{provide:Ni,useValue:{enableTracing:!1}}];function Li(){return new r.y("Router",xi)}let Fi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ri,Bi(e),{provide:ji,useFactory:Qi,deps:[[xi,new r.A,new r.I]]},{provide:Ni,useValue:n||{}},{provide:y,useFactory:Ui,deps:[u,[new r.p(_),new r.A],Ni]},{provide:Mi,useFactory:Vi,deps:[xi,mt,Ni]},{provide:Ai,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ii},{provide:r.y,multi:!0,useFactory:Li},[Hi,{provide:r.d,multi:!0,useFactory:zi,deps:[Hi]},{provide:Gi,useFactory:qi,deps:[Hi]},{provide:r.b,multi:!0,useExisting:Gi}]]}}static forChild(e){return{ngModule:t,providers:[Bi(e)]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(ji,8),r.Ub(xi,8))}}),t})();function Vi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Mi(t,e,n)}function Ui(t,e,n={}){return n.useHash?new x(t,e):new w(t,e)}function Qi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:mi,multi:!0,useValue:t}]}let Hi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Jt.a}appInitializer(){return this.injector.get(h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(xi),r=this.injector.get(Ni);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Zt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ni),n=this.injector.get(Di),i=this.injector.get(Mi),s=this.injector.get(xi),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.r))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function zi(t){return t.appInitializer.bind(t)}function qi(t){return t.bootstrapListener.bind(t)}const Gi=new r.q("Router Initializer"),$i=[];let Wi=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fi.forRoot($i)],Fi]}),t})();var Ki=n("XoHu");function Yi(t,e){return new ne.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(Xt.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Zi=new r.q("NgValueAccessor"),Xi={provide:Zi,useExisting:Object(r.T)(()=>Ji),multi:!0};let Ji=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.D),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([Xi])]}),t})();const ts={provide:Zi,useExisting:Object(r.T)(()=>ns),multi:!0},es=new r.q("CompositionEventMode");let ns=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.D),r.Lb(r.l),r.Lb(es,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Yb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.zb([ts])]}),t})(),rs=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),is=(()=>{class t extends rs{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ss(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})();const ss=r.Sb(is);function os(){throw new Error("unimplemented")}class as extends rs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return os()}get asyncValidator(){return os()}}class cs{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let us=(()=>{class t extends cs{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(as,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),ls=(()=>{class t extends cs{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(is,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();function hs(t){return null==t||0===t.length}const ds=new r.q("NgValidators"),fs=new r.q("NgAsyncValidators"),ps=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gs{static min(t){return e=>{if(hs(e.value)||hs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(hs(e.value)||hs(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return hs(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return hs(t.value)?null:ps.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(hs(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return gs.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(hs(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(ms);return 0==e.length?null:function(t){return ys(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(ms);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(se.a)(e))return Yi(e,null);if(Object(Ki.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Yi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Yi(t=1===t.length&&Object(se.a)(t[0])?t[0]:t,null).pipe(Object(pe.a)(t=>e(...t)))}return Yi(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(bs)).pipe(Object(pe.a)(ys))}}}function ms(t){return null!=t}function bs(t){const e=Object(r.rb)(t)?Object(Xt.a)(t):t;if(!Object(r.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function ys(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function vs(t){return t.validate?e=>t.validate(e):t}function _s(t){return t.validate?e=>t.validate(e):t}const ws={provide:Zi,useExisting:Object(r.T)(()=>xs),multi:!0};let xs=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.D),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([ws])]}),t})();const Ps={provide:Zi,useExisting:Object(r.T)(()=>Cs),multi:!0};let Es=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Cs=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(as),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.D),r.Lb(r.l),r.Lb(Es),r.Lb(r.r))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([Ps])]}),t})();const Ss={provide:Zi,useExisting:Object(r.T)(()=>Os),multi:!0};let Os=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.D),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.zb([Ss])]}),t})();const Ts='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',ks='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',As='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class Is{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Ts}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${ks}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${As}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Ts}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${ks}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Ds={provide:Zi,useExisting:Object(r.T)(()=>Ns),multi:!0};function Ms(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ns=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.sb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Ms(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.D),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([Ds])]}),t})(),js=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ms(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.D),r.Lb(Ns,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Rs={provide:Zi,useExisting:Object(r.T)(()=>Fs),multi:!0};function Ls(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Fs=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=r.sb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.D),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([Rs])]}),t})(),Vs=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ls(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ls(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.D),r.Lb(Fs,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Us(t,e){return[...e.path,t]}function Qs(t,e){t||qs(e,"Cannot find control with"),e.valueAccessor||qs(e,"No value accessor for form control with"),t.validator=gs.compose([t.validator,e.validator]),t.asyncValidator=gs.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Bs(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Bs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Bs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Hs(t,e){null==t&&qs(e,"Cannot find control with"),t.validator=gs.compose([t.validator,e.validator]),t.asyncValidator=gs.composeAsync([t.asyncValidator,e.asyncValidator])}function zs(t){return qs(t,"There is no FormControl instance attached to form control element with")}function qs(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Gs(t){return null!=t?gs.compose(t.map(vs)):null}function $s(t){return null!=t?gs.composeAsync(t.map(_s)):null}function Ws(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(r.sb)(e,n.currentValue)}const Ks=[Ji,Os,xs,Ns,Fs,Cs];function Ys(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Zs(t,e){if(!e)return null;Array.isArray(e)||qs(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===ns?n=e:(s=e,Ks.some(t=>s.constructor===t)?(r&&qs(t,"More than one built-in value accessor matches form control with"),r=e):(i&&qs(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(qs(t,"No valid value accessor for form control with"),null)}function Xs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Js(t){const e=eo(t)?t.validators:t;return Array.isArray(e)?Gs(e):e||null}function to(t,e){const n=eo(e)?e.asyncValidators:t;return Array.isArray(n)?$s(n):n||null}function eo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class no{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Js(t)}setAsyncValidators(t){this.asyncValidator=to(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=bs(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof io?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof so&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){eo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ro extends no{constructor(t=null,e,n){super(Js(e),to(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class io extends no{constructor(t,e,n){super(Js(e),to(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ro?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class so extends no{constructor(t,e,n){super(Js(e),to(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ro?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const oo={provide:is,useExisting:Object(r.T)(()=>co)},ao=(()=>Promise.resolve(null))();let co=(()=>{class t extends is{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new io({},Gs(t),$s(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ao.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Qs(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ao.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Xs(this._directives,t)})}addFormGroup(t){ao.then(()=>{const e=this._findContainer(t.path),n=new io({});Hs(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ao.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ao.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ys(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ds,10),r.Lb(fs,10))},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([oo]),r.xb]}),t})(),uo=(()=>{class t extends is{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Us(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Gs(this._validators)}get asyncValidator(){return $s(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return lo(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})();const lo=r.Sb(uo);class ho{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Ts}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${ks}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${As}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${ks}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${As}`)}}const fo={provide:is,useExisting:Object(r.T)(()=>po)};let po=(()=>{class t extends uo{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof co||ho.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(is,5),r.Lb(ds,10),r.Lb(fs,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.zb([fo]),r.xb]}),t})();const go={provide:as,useExisting:Object(r.T)(()=>bo)},mo=(()=>Promise.resolve(null))();let bo=(()=>{class t extends as{constructor(t,e,n,i){super(),this.control=new ro,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Zs(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Ws(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Us(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Gs(this._rawValidators)}get asyncValidator(){return $s(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof po)&&this._parent instanceof uo?ho.formGroupNameException():this._parent instanceof po||this._parent instanceof co||ho.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ho.missingNameException()}_updateValue(t){mo.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;mo.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(is,9),r.Lb(ds,10),r.Lb(fs,10),r.Lb(Zi,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([go]),r.xb,r.yb]}),t})(),yo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const vo=new r.q("NgModelWithFormControlWarning"),_o={provide:is,useExisting:Object(r.T)(()=>wo)};let wo=(()=>{class t extends is{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Qs(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Xs(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Hs(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Hs(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Ys(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>zs(e)),e.valueAccessor.registerOnTouched(()=>zs(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Qs(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Gs(this._validators);this.form.validator=gs.compose([this.form.validator,t]);const e=$s(this._asyncValidators);this.form.asyncValidator=gs.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Is.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ds,10),r.Lb(fs,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([_o]),r.xb,r.yb]}),t})();const xo={provide:is,useExisting:Object(r.T)(()=>Po)};let Po=(()=>{class t extends uo{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){So(this._parent)&&Is.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(is,13),r.Lb(ds,10),r.Lb(fs,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.zb([xo]),r.xb]}),t})();const Eo={provide:is,useExisting:Object(r.T)(()=>Co)};let Co=(()=>{class t extends is{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Us(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return Gs(this._validators)}get asyncValidator(){return $s(this._asyncValidators)}_checkParentType(){So(this._parent)&&Is.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(is,13),r.Lb(ds,10),r.Lb(fs,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.zb([Eo]),r.xb]}),t})();function So(t){return!(t instanceof Po||t instanceof wo||t instanceof Co)}const Oo={provide:as,useExisting:Object(r.T)(()=>To)};let To=(()=>{class t extends as{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Zs(this,i)}set isDisabled(t){Is.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),Ws(e,this.viewModel)&&(function(t,e,n,i){Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(Is.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Us(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Gs(this._rawValidators)}get asyncValidator(){return $s(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Po)&&this._parent instanceof uo?Is.ngModelGroupException():this._parent instanceof Po||this._parent instanceof wo||this._parent instanceof Co||Is.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(is,13),r.Lb(ds,10),r.Lb(fs,10),r.Lb(Zi,10),r.Lb(vo,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Oo]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const ko={provide:ds,useExisting:Object(r.T)(()=>Ao),multi:!0};let Ao=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?gs.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("required",e.required?"":null)},inputs:{required:"required"},features:[r.zb([ko])]}),t})(),Io=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),Do=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new io(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new ro(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new so(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ro||t instanceof io||t instanceof so?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Mo=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Es],imports:[Io]}),t})(),No=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:vo,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Do,Es],imports:[Io]}),t})(),jo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-header"]],decls:106,vars:0,consts:[[1,"container-fluid","mt-3"],[1,"row"],[1,"col-lg-4","col-sm-6","w-25"],["href",""],["src","assets/img/header/header-ads1.jpg","alt","",1,"ads"],["src","assets/img/header/header-ads2.jpg","alt","",1,"ads"],["src","assets/img/header/header-ads3.jpg","alt","",1,"ads"],["src","assets/img/header/header-ads4.jpg","alt","",1,"ads"],[1,"navbar","navbar-expand-lg","mt-3","sticky-top"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-house"],["fill-rule","evenodd","d","M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"],["fill-rule","evenodd","d","M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","text-light"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","notification",1,"nav-link"],["href","#",1,"nav-link"],["routerLink","storage/page",1,"nav-link"],[1,"nav-item","dropdown"],["role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["href","#",1,"dropdown-item","text-success"],["routerLink","vaccination/list",1,"dropdown-item","text-success"],["routerLink","statistic",1,"nav-link"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["routerLink","employee/create",1,"dropdown-item","text-success"],[1,"d-flex"],["type","search","placeholder","T\xecm ki\u1ebfm","aria-label","Search",1,"form-control","me-2","find"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-search"],["d","M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"],[1,"container","mt-3"],["id","carouselExampleCaptions","data-bs-ride","false",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/img/header/header-carousel1.png","alt","...",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block","text-light"],[1,"carousel-item"],["src","assets/img/header/header-carousel2.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block","text-success"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"a",3),r.Mb(4,"img",4),r.Pb(),r.Pb(),r.Qb(5,"div",2),r.Qb(6,"a",3),r.Mb(7,"img",5),r.Pb(),r.Pb(),r.Qb(8,"div",2),r.Qb(9,"a",3),r.Mb(10,"img",6),r.Pb(),r.Pb(),r.Qb(11,"div",2),r.Qb(12,"a",3),r.Mb(13,"img",7),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(14,"nav",8),r.Qb(15,"div",9),r.Qb(16,"a",10),r.bc(),r.Qb(17,"svg",11),r.Mb(18,"path",12),r.Mb(19,"path",13),r.Pb(),r.Pb(),r.ac(),r.Qb(20,"button",14),r.Mb(21,"span",15),r.Pb(),r.Qb(22,"div",16),r.Qb(23,"ul",17),r.Qb(24,"li",18),r.Qb(25,"a",19),r.tc(26,"Tin t\u1ee9c"),r.Pb(),r.Pb(),r.Qb(27,"li",18),r.Qb(28,"a",20),r.tc(29,"Qu\u1ea3ng c\xe1o"),r.Pb(),r.Pb(),r.Qb(30,"li",18),r.Qb(31,"a",20),r.tc(32,"Chu\u1ed3ng nu\xf4i"),r.Pb(),r.Pb(),r.Qb(33,"li",18),r.Qb(34,"a",20),r.tc(35,"Th\xf4ng tin \u0111\xe0n"),r.Pb(),r.Pb(),r.Qb(36,"li",18),r.Qb(37,"a",20),r.tc(38,"Th\u1ee9c \u0103n"),r.Pb(),r.Pb(),r.Qb(39,"li",18),r.Qb(40,"a",21),r.tc(41,"Kho"),r.Pb(),r.Pb(),r.Qb(42,"li",22),r.Qb(43,"a",23),r.tc(44," B\xeanh l\xfd v\xe0 sinh s\u1ea3n "),r.Pb(),r.Qb(45,"ul",24),r.Qb(46,"li"),r.Qb(47,"a",25),r.tc(48,"\u0110i\u1ec1u tr\u1ecb"),r.Pb(),r.Pb(),r.Qb(49,"li"),r.Qb(50,"a",26),r.tc(51,"Ti\xeam ph\xf2ng"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(52,"li",18),r.Qb(53,"a",27),r.tc(54,"Th\u1ed1ng k\xea"),r.Pb(),r.Pb(),r.Qb(55,"li",18),r.Qb(56,"a",20),r.tc(57,"Li\xean h\u1ec7"),r.Pb(),r.Pb(),r.Qb(58,"li",22),r.Qb(59,"a",28),r.tc(60," H\u1ec7 th\u1ed1ng "),r.Pb(),r.Qb(61,"ul",24),r.Qb(62,"li"),r.Qb(63,"a",29),r.tc(64,"Nh\xe2n vi\xean"),r.Pb(),r.Pb(),r.Qb(65,"li"),r.Qb(66,"a",25),r.tc(67,"Th\xf4ng b\xe1o"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(68,"form",30),r.Mb(69,"input",31),r.bc(),r.Qb(70,"svg",32),r.Mb(71,"path",33),r.Pb(),r.Pb(),r.ac(),r.Qb(72,"div"),r.Qb(73,"ul",17),r.Qb(74,"li",18),r.Qb(75,"a",20),r.tc(76,"\u0110\u0103ng nh\u1eadp"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(77,"div",34),r.Qb(78,"div",1),r.Qb(79,"div",35),r.Qb(80,"div",36),r.Mb(81,"button",37),r.Mb(82,"button",38),r.Pb(),r.Qb(83,"div",39),r.Qb(84,"div",40),r.Mb(85,"img",41),r.Qb(86,"div",42),r.Qb(87,"h5"),r.tc(88,"H\u1ec7 th\u1ed1ng trang tr\u1ea1i"),r.Pb(),r.Qb(89,"p"),r.tc(90,"Quy m\xf4 - Hi\u1ec7n \u0111\u1ea1i - Ti\xean ti\u1ebfn"),r.Pb(),r.Pb(),r.Pb(),r.Qb(91,"div",43),r.Mb(92,"img",44),r.Qb(93,"div",45),r.Qb(94,"h5"),r.tc(95,"S\u1ea3n ph\u1ea9m"),r.Pb(),r.Qb(96,"p"),r.tc(97,"Cung c\u1ea5p l\u1ee3n gi\u1ed1ng - l\u1ee3n th\u1ecbt ch\u1ea5t l\u01b0\u1ee3ng cao"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(98,"button",46),r.Mb(99,"span",47),r.Qb(100,"span",48),r.tc(101,"Previous"),r.Pb(),r.Pb(),r.Qb(102,"button",49),r.Mb(103,"span",50),r.Qb(104,"span",48),r.tc(105,"Next"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb())},directives:[Ei,yo,ls,co],styles:[".nav-link[_ngcontent-%COMP%], .navbar-brand[_ngcontent-%COMP%]{color:#fff}.navbar-brand[_ngcontent-%COMP%]:hover{background-color:#ffe421;font-weight:700;color:green}.bi-search[_ngcontent-%COMP%]:hover{cursor:pointer}.nav-link[_ngcontent-%COMP%]:focus, .nav-link[_ngcontent-%COMP%]:hover, .navbar-brand[_ngcontent-%COMP%]:focus{background-color:#ffe421;font-weight:700;color:green}.navbar[_ngcontent-%COMP%]{background-color:#017428;padding:0}svg[_ngcontent-%COMP%]{width:24px}.ads[_ngcontent-%COMP%]{width:100%;height:100%}body[_ngcontent-%COMP%]{padding:0}.find[_ngcontent-%COMP%]{display:inline-block;align-items:center;height:28px}.bi-search[_ngcontent-%COMP%]{width:28px;height:28px}.bi-search[_ngcontent-%COMP%]:hover{font-weight:700}"]}),t})(),Ro=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-footer"]],decls:31,vars:0,consts:[[1,"container-fluid","mt-4","footer-bgcolor"],[1,"row"],["align","center",1,"col-lg-4","col-md-12","mt-3","map"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3833.7517909401145!2d108.20754761417001!3d16.07836494346534!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31421846431fd0fd%3A0x780138ba60fa3aa6!2zMjk1IE5ndXnhu4VuIFThuqV0IFRow6BuaCwgVGhhbmggQsOsbmgsIEjhuqNpIENow6J1LCDEkMOgIE7hurVuZyA1NTAwMDAsIFZp4buHdCBOYW0!5e0!3m2!1svi!2s!4v1661911853461!5m2!1svi!2s","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade"],[1,"col-lg-8","col-md-12","text-light","mt-3"],["id","myBtn","title","Tr\u1edf v\u1ec1 \u0111\u1ea7u trang "],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-up-square"],["fill-rule","evenodd","d","M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 9.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Mb(3,"iframe",3),r.Pb(),r.Qb(4,"div",4),r.Qb(5,"p"),r.Qb(6,"b"),r.tc(7,"Copyright @2022 C0322G1 - Pig Farm"),r.Pb(),r.Pb(),r.Qb(8,"p"),r.Qb(9,"b"),r.tc(10,"Gi\u1ea5y ph\xe9p s\u1ed1:"),r.Pb(),r.tc(11," 666/GP-TT\u0110T c\u1ee7a B\u1ed9 Th\xf4ng tin v\xe0 Truy\u1ec1n th\xf4ng, c\u1ea5p ng\xe0y 30/08/2022."),r.Pb(),r.Qb(12,"p"),r.Qb(13,"b"),r.tc(14,"Tr\u1ee5 s\u1edf:"),r.Pb(),r.tc(15," T\u1ea7ng 10, 295 Nguy\u1ec5n T\u1ea5t Th\xe0nh, P. Thanh B\xecnh, Q. H\u1ea3i Ch\xe2u, TP. \u0110\xe0 N\u1eb5ng."),r.Pb(),r.Qb(16,"p"),r.Qb(17,"b"),r.tc(18,"\u0110i\u1ec7n tho\u1ea1i:"),r.Pb(),r.tc(19," 0906 06 7530."),r.Pb(),r.Qb(20,"p"),r.Qb(21,"b"),r.tc(22,"Email:"),r.Pb(),r.tc(23," levanle5@gmail.com"),r.Pb(),r.Qb(24,"p"),r.Qb(25,"b"),r.tc(26,"\xa92022 pigfarm.com.vn"),r.Pb(),r.tc(27,' gi\u1eef b\u1ea3n quy\u1ec1n n\u1ed9i dung tr\xean website n\xe0y. Ghi r\xf5 ngu\u1ed3n "pigfarm.com.vn" khi b\u1ea1n ph\xe1t h\xe0nh l\u1ea1i th\xf4ng tin t\u1eeb website n\xe0y.'),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(28,"button",5),r.bc(),r.Qb(29,"svg",6),r.Mb(30,"path",7),r.Pb(),r.Pb())},styles:["iframe[_ngcontent-%COMP%]{width:100%;height:250px;border:0}.footer-bgcolor[_ngcontent-%COMP%]{background-color:#017428}#myBtn[_ngcontent-%COMP%]{display:none;position:fixed;bottom:60px;right:24px;z-index:99;cursor:pointer;border:none;background:none}.bi-arrow-up-square[_ngcontent-%COMP%]{width:36px;height:36px;color:red}"]}),t})(),Lo=(()=>{class t{constructor(){this.title="pig-farm"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&(r.Mb(0,"app-header"),r.Mb(1,"router-outlet"),r.Mb(2,"app-footer"))},directives:[jo,Ti,Ro],styles:[""]}),t})();class Fo{}function Vo(t,e){return{type:7,name:t,definitions:e,options:{}}}function Uo(t,e=null){return{type:4,styles:e,timings:t}}function Qo(t,e=null){return{type:2,steps:t,options:e}}function Bo(t){return{type:6,styles:t,offset:null}}function Ho(t,e,n){return{type:0,name:t,styles:e,options:n}}function zo(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function qo(t){Promise.resolve(null).then(t)}class Go{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qo(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class $o{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?qo(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Wo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ko(t){switch(t.length){case 0:return new Go;case 1:return t[0];default:return new $o(t)}}function Yo(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Zo(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Xo(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Xo(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Xo(n,"destroy",t)))}}function Xo(t,e,n){const r=n.totalTime,i=Jo(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Jo(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ta(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function ea(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let na=(t,e)=>!1,ra=(t,e)=>!1,ia=(t,e,n)=>[];const sa=Wo();(sa||"undefined"!=typeof Element)&&(na=(t,e)=>t.contains(e),ra=(()=>{if(sa||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):ra}})(),ia=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let oa=null,aa=!1;function ca(t){oa||(oa=("undefined"!=typeof document?document.body:null)||{},aa=!!oa.style&&"WebkitAppearance"in oa.style);let e=!0;return oa.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in oa.style,!e&&aa)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in oa.style),e}const ua=ra,la=na,ha=ia;function da(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let fa=(()=>{class t{validateStyleProperty(t){return ca(t)}matchesElement(t,e){return ua(t,e)}containsElement(t,e){return la(t,e)}query(t,e,n){return ha(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Go(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),pa=(()=>{class t{}return t.NOOP=new fa,t})();function ga(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ma(parseFloat(e[1]),e[2])}function ma(t,e){switch(e){case"s":return 1e3*t;default:return t}}function ba(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=ma(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=ma(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function ya(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function va(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else ya(t,n);return n}function _a(t,e,n){return n?e+":"+n+";":""}function wa(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=_a(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=_a(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function xa(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Aa(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Wo()&&wa(t))}function Pa(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Aa(e);t.style[n]=""}),Wo()&&wa(t))}function Ea(t){return Array.isArray(t)?1==t.length?t[0]:Qo(t):t}const Ca=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sa(t){let e=[];if("string"==typeof t){let n;for(;n=Ca.exec(t);)e.push(n[1]);Ca.lastIndex=0}return e}function Oa(t,e,n){const r=t.toString(),i=r.replace(Ca,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Ta(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ka=/-+([a-z0-9])/g;function Aa(t){return t.replace(ka,(...t)=>t[1].toUpperCase())}function Ia(t,e){return 0===t||0===e}function Da(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=Na(t,e)}))}}return e}function Ma(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Na(t,e){return window.getComputedStyle(t)[e]}function ja(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Fa(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(Fa(o,i))}(t,n,e)):n.push(t),n}const Ra=new Set(["true","1"]),La=new Set(["false","0"]);function Fa(t,e){const n=Ra.has(t)||La.has(t),r=Ra.has(e)||La.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Ra.has(t):La.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Ra.has(e):La.has(e)),o&&a}}const Va=new RegExp("s*:selfs*,?","g");function Ua(t,e,n){return new Qa(t).build(e,n)}class Qa{constructor(t){this._driver=t}build(t,e){const n=new Ba(e);return this._resetContextStyleTimingState(n),Ma(this,Ea(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Ha(t)){const e=t;Object.keys(e).forEach(t=>{Sa(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Ta(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ma(this,Ea(t.animation),e);return{type:1,matchers:ja(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:za(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Ma(this,t,e)),options:za(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Ma(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:za(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return qa(ba(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=qa(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||ba(r,e),qa(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Bo({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Bo(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Ha(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Sa(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Ha(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ha(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Ma(this,Ea(t.animation),e),options:za(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:za(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:za(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Va,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,ta(e.collectedStyles,e.currentQuerySelector,{});const o=Ma(this,Ea(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:za(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:ba(t.timings,e.errors,!0);return{type:12,animation:Ma(this,Ea(t.animation),e),timings:n,options:null}}}class Ba{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ha(t){return!Array.isArray(t)&&"object"==typeof t}function za(t){var e;return t?(t=ya(t)).params&&(t.params=(e=t.params)?ya(e):null):t={},t}function qa(t,e,n){return{duration:t,delay:e,easing:n}}function Ga(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class $a{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Wa=new RegExp(":enter","g"),Ka=new RegExp(":leave","g");function Ya(t,e,n,r,i,s={},o={},a,c,u=[]){return(new Za).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class Za{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new $a;const l=new Ja(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Ma(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Ga(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?ga(n.duration):null,s=null!=n.delay?ga(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Ma(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Xa);const t=ga(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Ma(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?ga(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Ma(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return ba(e.params?Oa(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?ga(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Xa);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Ma(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;Ma(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Xa={};class Ja{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new tc(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=ga(n.duration)),null!=n.delay&&(r.delay=ga(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Oa(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Ja(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Xa,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ec(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Wa,"."+this._enterClassName)).replace(Ka,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class tc{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new tc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):va(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Oa(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=va(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Ta(t.values()):[],s=e.size?Ta(e.values()):[];if(n){const t=r[0],e=ya(t);t.offset=0,e.offset=1,r=[t,e]}return Ga(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class ec extends tc{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=va(t[0],!1);a.offset=0,i.push(a);const c=va(t[0],!1);c.offset=nc(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=va(t[r],!1);o.offset=nc((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Ga(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function nc(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class rc{}class ic extends rc{normalizePropertyName(t,e){return Aa(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(sc[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const sc=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function oc(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const ac={};class cc{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||ac,d=this.buildStyles(n,o&&o.params||ac,l),f=a&&a.params||ac,p=this.buildStyles(r,f,l),g=new Set,m=new Map,b=new Map,y="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:Ya(t,e,this.ast.animation,i,s,d,p,v,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return oc(e,this._triggerName,n,r,y,d,p,[],[],m,b,w,l);_.forEach(t=>{const n=t.element,r=ta(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=ta(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const x=Ta(g.values());return oc(e,this._triggerName,n,r,y,d,p,_,x,m,b,w)}}class uc{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=ya(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Oa(s,r,e)),n[t]=s})}}),n}}class lc{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new uc(t.style,t.options&&t.options.params||{})}),hc(this.states,"true","1"),hc(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new cc(t,e,this.states))}),this.fallbackTransition=new cc(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function hc(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const dc=new $a;class fc{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ua(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Yo(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Ya(this._driver,e,i,"ng-enter","ng-leave",{},{},n,dc,r),s.forEach(t=>{const e=ta(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Ko(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Jo(e,"","","");return Zo(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const pc=[],gc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class bc{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=ya(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const yc=new bc("void");class vc{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Sc(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=ta(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=ta(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Sc(t,"ng-trigger"),Sc(t,"ng-trigger-"+e),a[e]=yc),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new wc(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Sc(t,"ng-trigger"),Sc(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new bc(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=yc),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Pa(t,n),xa(t,r)})}return}const u=ta(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Sc(t,"ng-animate-queued"),s.onStart(()=>{Oc(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ko(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||yc,o=new bc("void"),a=new wc(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==gc||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Sc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Jo(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Zo(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class _c{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new vc(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(xc(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!xc(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Sc(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Oc(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(xc(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return xc(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ko(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=gc,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Sc(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ko(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new $a,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Cc(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Sc(t,n))});const g=[],m=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const y=new Map,v=Cc(h,Array.from(m));v.forEach((t,e)=>{const n="ng-leave"+p++;y.set(e,n),t.forEach(t=>Sc(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Oc(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Oc(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(!p.errors||!p.errors.length)return u?(e.onStart(()=>Pa(i,p.fromStyles)),e.onDestroy(()=>xa(i,p.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>Pa(i,p.fromStyles)),e.onDestroy(()=>xa(i,p.toStyles)),void r.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>ta(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(p)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,P=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(P.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{ta(x,e,[]).push(t),t.destroy()})});const E=g.filter(t=>kc(t,a,c)),C=new Map;Ec(C,this.driver,b,c,"*").forEach(t=>{kc(t,a,c)&&E.push(t)});const S=new Map;d.forEach((t,e)=>{Ec(S,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=C.get(t),n=S.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const O=[],T=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>xa(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(P.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=P.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>P.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,i,S,C);if(s.setRealPlayer(n),t===k)O.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Ko(e)),r.push(s)}}else Pa(e,o.fromStyles),s.onDestroy(()=>xa(e,o.toStyles)),T.push(s),u.has(e)&&r.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Ko(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Oc(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Tc(this,t,r):this.processLeaveNode(t)}return g.length=0,O.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),O}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=ta(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Pa(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Go(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof $o?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||pc).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),b=Yo(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&l.add(h),f){const e=new wc(t,o,h);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{ta(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Sc(t,"ng-animating"));const d=Ko(h);return d.onDestroy(()=>{u.forEach(t=>Oc(t,"ng-animating")),xa(a,e.toStyles)}),l.forEach(t=>{ta(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Go(t.duration,t.delay)}}class wc{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Go,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Zo(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function xc(t){return t&&1===t.nodeType}function Pc(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ec(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Pc(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=mc,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Pc(t,s[a++])),o}function Cc(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Sc(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Oc(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Tc(t,e,n){Ko(n).onDone(()=>t.processLeaveNode(e))}function kc(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Ac{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new _c(t,e,n),this._timelineEngine=new fc(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Ua(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new lc(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=ea(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=ea(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ic(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Mc(e[0]),e.length>1&&(r=Mc(e[e.length-1]))):e&&(n=Mc(e)),n||r?new Dc(t,n,r):null}let Dc=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&xa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xa(this._element,this._initialStyles),this._endStyles&&(xa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Pa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pa(this._element,this._endStyles),this._endStyles=null),xa(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Mc(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Nc(i)&&(e=e||{},e[i]=t[i])}return e}function Nc(t){return"display"===t||"position"===t}class jc{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Qc(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Uc(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Vc(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Rc(this._element,this._name,"paused")}resume(){Rc(this._element,this._name,"running")}setPosition(t){const e=Lc(this._element,this._name);this._position=t*this._duration,Uc(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Vc(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Qc(t,"").split(","),r=Fc(n,e);r>=0&&(n.splice(r,1),Uc(t,"",n.join(",")))}(this._element,this._name))}}function Rc(t,e,n){Uc(t,"PlayState",n,Lc(t,e))}function Lc(t,e){const n=Qc(t,"");return n.indexOf(",")>0?Fc(n.split(","),e):Fc([n],e)}function Fc(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Vc(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Uc(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Qc(t,e){return t.style["animation"+e]}class Bc{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new jc(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Na(this.element,n))})}this.currentSnapshot=t}}class Hc extends Go{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=da(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class zc{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return ca(t)}matchesElement(t,e){return ua(t,e)}containsElement(t,e){return la(t,e)}query(t,e,n){return ha(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>da(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Bc),c={};Ia(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Da(t,e,c));if(0==n)return new Hc(t,u);const l=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Ic(t,e),f=new Bc(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class qc{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Na(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Gc{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test($c().toString()),this._cssKeyframesDriver=new zc}validateStyleProperty(t){return ca(t)}matchesElement(t,e){return ua(t,e)}containsElement(t,e){return la(t,e)}query(t,e,n){return ha(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof qc);Ia(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=Ic(t,e=Da(t,e=e.map(t=>va(t,!1)),c));return new qc(t,e,a,l)}}function $c(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Wc=(()=>{class t extends Fo{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Qo(t):t;return Zc(this._renderer,null,e,"register",[n]),new Kc(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.E),r.Ub(c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Kc extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Yc(this._id,t,e||{},this._renderer)}}class Yc{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Zc(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Zc(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Xc=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Jc("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new tu(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.E),r.Ub(Ac),r.Ub(r.z))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Jc{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class tu extends Jc{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let eu=(()=>{class t extends Ac{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c),r.Ub(pa),r.Ub(rc))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const nu=[{provide:pa,useFactory:function(){return"function"==typeof $c()?new Gc:new zc}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Fo,useClass:Wc},{provide:rc,useFactory:function(){return new ic}},{provide:Ac,useClass:eu},{provide:r.E,useFactory:function(t,e,n){return new Xc(t,e,n)},deps:[Mt,Ac,r.z]}];let ru=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:nu,imports:[Wt]}),t})();const iu=["toast-component",""];function su(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",5),r.Yb("click",(function(){return r.mc(t),r.cc().remove()})),r.Qb(1,"span",6),r.tc(2,"\xd7"),r.Pb(),r.Pb()}}function ou(t,e){if(1&t&&(r.Ob(0),r.tc(1),r.Nb()),2&t){const t=r.cc(2);r.Ab(1),r.vc("[",t.duplicatesCount+1,"]")}}function au(t,e){if(1&t&&(r.Qb(0,"div"),r.tc(1),r.rc(2,ou,2,1,"ng-container",4),r.Pb()),2&t){const t=r.cc();r.Cb(t.options.titleClass),r.Bb("aria-label",t.title),r.Ab(1),r.vc(" ",t.title," "),r.Ab(1),r.gc("ngIf",t.duplicatesCount)}}function cu(t,e){if(1&t&&r.Mb(0,"div",7),2&t){const t=r.cc();r.Cb(t.options.messageClass),r.gc("innerHTML",t.message,r.nc)}}function uu(t,e){if(1&t&&(r.Qb(0,"div",8),r.tc(1),r.Pb()),2&t){const t=r.cc();r.Cb(t.options.messageClass),r.Bb("aria-label",t.message),r.Ab(1),r.vc(" ",t.message," ")}}function lu(t,e){if(1&t&&(r.Qb(0,"div"),r.Mb(1,"div",9),r.Pb()),2&t){const t=r.cc();r.Ab(1),r.qc("width",t.width+"%")}}class hu{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new Jt.a,this._onAction=new Jt.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const du={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},fu=new r.q("ToastConfig");class pu{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class gu extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let mu=(()=>{let t=class{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}};return t.\u0275fac=function(e){return new(e||t)(r.Ub(c))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(c))},token:t,providedIn:"root"}),t})();class bu{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let yu=(()=>{let t=class{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new gu(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new bu(this._createPortalHost(t))}};return t.\u0275fac=function(e){return new(e||t)(r.Ub(mu),r.Ub(r.j),r.Ub(r.g),r.Ub(c))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(mu),Object(r.Ub)(r.j),Object(r.Ub)(r.g),Object(r.Ub)(c))},token:t,providedIn:"root"}),t})();class vu{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Jt.a,this._activate=new Jt.a,this._manualClose=new Jt.a,this._resetTimeout=new Jt.a,this._countDuplicate=new Jt.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class _u{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===hu?this._toastPackage:this._parentInjector.get(t,e,n)}}let wu=(()=>{let t=class{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t,e,n){for(const r of this.toasts)if(r.message===t)return r.toastRef.onDuplicate(e,n),r;return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let c=e;e&&i.enableHtml&&(c=this.sanitizer.sanitize(r.H.HTML,e));const u=new vu(a),l=new hu(this.index,i,c,n,t,u),h=new _u(l,this._injector),d=new pu(i.toastComponent,h),f=a.attach(d,this.toastrConfig.newestOnTop);u.componentInstance=f.instance;const p={toastId:this.index,message:e||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}};return t.\u0275fac=function(e){return new(e||t)(r.Ub(fu),r.Ub(yu),r.Ub(r.r),r.Ub(Ht),r.Ub(r.z))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(fu),Object(r.Ub)(yu),Object(r.Ub)(r.o),Object(r.Ub)(Ht),Object(r.Ub)(r.z))},token:t,providedIn:"root"}),t})(),xu=(()=>{let t=class{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}};return t.\u0275fac=function(e){return new(e||t)(r.Lb(wu),r.Lb(hu),r.Lb(r.z))},t.\u0275cmp=r.Fb({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Yb("click",(function(){return e.tapToast()}))("mouseenter",(function(){return e.stickAround()}))("mouseleave",(function(){return e.delayedHideToast()})),2&t&&(r.xc("@flyInOut",e.state),r.Cb(e.toastClasses),r.qc("display",e.displayStyle))},attrs:iu,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.rc(0,su,3,0,"button",0),r.rc(1,au,3,5,"div",1),r.rc(2,cu,1,3,"div",2),r.rc(3,uu,2,4,"div",3),r.rc(4,lu,2,2,"div",4)),2&t&&(r.gc("ngIf",e.options.closeButton),r.Ab(1),r.gc("ngIf",e.title),r.Ab(1),r.gc("ngIf",e.message&&e.options.enableHtml),r.Ab(1),r.gc("ngIf",e.message&&!e.options.enableHtml),r.Ab(1),r.gc("ngIf",e.options.progressBar))},directives:[ct],encapsulation:2,data:{animation:[Vo("flyInOut",[Ho("inactive",Bo({opacity:0})),Ho("active",Bo({opacity:1})),Ho("removed",Bo({opacity:0})),zo("inactive => active",Uo("{{ easeTime }}ms {{ easing }}")),zo("active => removed",Uo("{{ easeTime }}ms {{ easing }}"))])]}}),t})();var Pu;const Eu=Object.assign(Object.assign({},du),{toastComponent:xu});let Cu=(()=>{let t=Pu=class{static forRoot(t={}){return{ngModule:Pu,providers:[{provide:fu,useValue:{default:Eu,config:t}}]}}};return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[gt]]}),t})();class Su{}class Ou{}class Tu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Tu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Tu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Tu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ku{encodeKey(t){return Au(t)}encodeValue(t){return Au(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Au(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Iu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ku,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Iu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Du(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Mu(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Nu(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ju{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Tu),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Iu,this.urlWithParams=e}serializeBody(){return null===this.body?null:Du(this.body)||Mu(this.body)||Nu(this.body)||"string"==typeof this.body?this.body:this.body instanceof Iu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Nu(this.body)?null:Mu(this.body)?this.body.type||null:Du(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Iu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new ju(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const Ru=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Lu{constructor(t,e=200,n="OK"){this.headers=t.headers||new Tu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fu extends Lu{constructor(t={}){super(t),this.type=Ru.ResponseHeader}clone(t={}){return new Fu({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Vu extends Lu{constructor(t={}){super(t),this.type=Ru.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Vu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Uu extends Lu{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Qu(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Bu=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof ju)r=t;else{let i=void 0;i=n.headers instanceof Tu?n.headers:new Tu(n.headers);let s=void 0;n.params&&(s=n.params instanceof Iu?n.params:new Iu({fromObject:n.params})),r=new ju(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Zt.a)(r).pipe(Je(t=>this.handler.handle(t)));if(t instanceof ju||"events"===n.observe)return i;const s=i.pipe(ye(t=>t instanceof Vu));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(pe.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(pe.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(pe.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(pe.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Iu).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Qu(n,e))}post(t,e,n={}){return this.request("POST",t,Qu(n,e))}put(t,e,n={}){return this.request("PUT",t,Qu(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Su))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Hu{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const zu=new r.q("HTTP_INTERCEPTORS");let qu=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Gu=/^\)\]\}',?\n/;class $u{}let Wu=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ku=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new ne.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Tu(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Fu({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(Gu,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new Vu({body:c,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Uu({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Uu({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(s()),c=!0);let i={type:Ru.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Ru.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Ru.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub($u))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Yu=new r.q("XSRF_COOKIE_NAME"),Zu=new r.q("XSRF_HEADER_NAME");class Xu{}let Ju=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=rt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(c),r.Ub(r.B),r.Ub(Yu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),tl=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Xu),r.Ub(Zu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),el=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(zu,[]);this.chain=t.reduceRight((t,e)=>new Hu(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ou),r.Ub(r.r))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),nl=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:tl,useClass:qu}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Yu,useValue:e.cookieName}:[],e.headerName?{provide:Zu,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[tl,{provide:zu,useExisting:tl,multi:!0},{provide:Xu,useClass:Ju},{provide:Yu,useValue:"XSRF-TOKEN"},{provide:Zu,useValue:"X-XSRF-TOKEN"}]}),t})(),rl=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Bu,{provide:Su,useClass:el},Ku,{provide:Ou,useExisting:Ku},Wu,{provide:$u,useExisting:Wu}],imports:[[nl.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const il=`${i}`;let sl=(()=>{class t{constructor(t){this.http=t}findAll(t,e){return this.http.get(il+"/api/v1/notification/list?page="+t+"&keyword="+e)}findById(t){return this.http.get(`${il}/api/v1/notification/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ol=`${i+"/api/contact"}`;let al=(()=>{class t{constructor(t){this.httpClient=t}getAllContact(t,e){return this.httpClient.get(ol+"/page?page="+t+"&nameSearch="+e)}getContactById(t){return this.httpClient.get(ol+`/${t}`)}deleteContact(t){return this.httpClient.post(ol+"/delete",{id:t})}search(t){return this.httpClient.get(ol+"/page?nameSearch="+t.content)}save(t){return this.httpClient.post(ol+"/create",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cl(t,e){1&t&&(r.Qb(0,"span",23),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function ul(t,e){1&t&&(r.Qb(0,"span",23),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function ll(t,e){1&t&&(r.Qb(0,"span",23),r.tc(1,"Email kh\xf4ng h\u1ee3p l\u1ec7"),r.Pb())}function hl(t,e){1&t&&(r.Qb(0,"span",23),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function dl(t,e){1&t&&(r.Qb(0,"span",23),r.tc(1,"Email kh\xf4ng h\u1ee3p l\u1ec7"),r.Pb())}function fl(t,e){1&t&&(r.Qb(0,"span",23),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function pl(t,e){1&t&&(r.Qb(0,"span",23),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function gl(t,e){1&t&&(r.Qb(0,"div",24),r.Qb(1,"p",25),r.tc(2," C\xe1m \u01a1n b\u1ea1n \u0111\xe3 li\xean h\u1ec7 v\u1edbi ch\xfang t\xf4i. Th\xf4ng \u0111i\u1ec7p c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i, ch\xfang t\xf4i s\u1ebd s\u1edbm ph\u1ea3n h\u1ed3i l\u1ea1i cho b\u1ea1n. "),r.Pb(),r.Pb())}const ml=function(t){return{display:t}};let bl=(()=>{class t{constructor(t,e){this.contactService=t,this.fb=e,this.success=!1,this.submit=!1}ngOnInit(){this.initContactForm()}initContactForm(){this.contactForm=this.fb.group({name:["",gs.required],email:["",[gs.required,gs.pattern(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)]],phone:["",[gs.required,gs.pattern(/((09|03|07|08|05)+([0-9]{8})\b)/g)]],address:["",gs.required],content:["",gs.required]})}save(){this.submit=!0,this.contactForm.valid&&this.contactService.save(this.contactForm.value).subscribe(t=>{this.submit=!1,this.success=!0})}changSuccess(){!0===this.success&&(document.getElementById("closeModal").click(),this.initContactForm(),this.success=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(al),r.Lb(Do))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-contact-create"]],decls:40,vars:12,consts:[["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"modal-buton","btn"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",3,"click"],[1,"modal-dialog",2,"margin","auto"],[1,"modal-content"],[1,"modal-header",2,"border-bottom","none"],["id","closeModal","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[2,"text-align","center"],[1,"row","mb-3"],[3,"ngStyle","formGroup","ngSubmit"],[1,"row"],[1,"col-6"],["type","text","formControlName","name","placeholder","T\xean b\u1ea1n",1,"form-control"],["style","color: red",4,"ngIf"],["type","text","formControlName","email","placeholder","Email",1,"form-control"],["type","text","formControlName","phone","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",1,"form-control"],["type","text","formControlName","address","placeholder","\u0110\u1ecba ch\u1ec9",1,"form-control"],[1,"col-12"],["type","text","formControlName","content","contenteditable","true","placeholder","N\u1ed9i dung tin nh\u1eafn",1,"form-control"],[1,"row","d-flex","justify-content-center","me-5"],[1,"col-1"],["type","submit"],["style","width: 100%;height: 310px;border: solid 1px black;border-radius: 5px","class","d-flex justify-content-center",4,"ngIf"],[2,"color","red"],[1,"d-flex","justify-content-center",2,"width","100%","height","310px","border","solid 1px black","border-radius","5px"],[2,"padding-top","20px","text-align","center"]],template:function(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"button",0),r.tc(2,"Li\xean h\u1ec7"),r.Pb(),r.Pb(),r.Qb(3,"div",1),r.Yb("click",(function(){return e.changSuccess()})),r.Qb(4,"div",2),r.Qb(5,"div",3),r.Qb(6,"div",4),r.Mb(7,"button",5),r.Pb(),r.Qb(8,"div",6),r.Qb(9,"H2",7),r.tc(10,"LI\xcaN H\u1ec6"),r.Pb(),r.Qb(11,"div",8),r.Qb(12,"h6"),r.tc(13,"Ng\u01b0\u1eddi ch\u0103n nu\xf4i c\xf3 th\u1ec3 gi\xfap g\xec cho b\u1ea1n ?"),r.Pb(),r.Pb(),r.Qb(14,"form",9),r.Yb("ngSubmit",(function(){return e.save()})),r.Qb(15,"div",10),r.Qb(16,"div",11),r.Mb(17,"input",12),r.rc(18,cl,2,0,"span",13),r.Pb(),r.Qb(19,"div",11),r.Mb(20,"input",14),r.rc(21,ul,2,0,"span",13),r.rc(22,ll,2,0,"span",13),r.Pb(),r.Pb(),r.Qb(23,"div",10),r.Qb(24,"div",11),r.Mb(25,"input",15),r.rc(26,hl,2,0,"span",13),r.rc(27,dl,2,0,"span",13),r.Pb(),r.Qb(28,"div",11),r.Mb(29,"input",16),r.rc(30,fl,2,0,"span",13),r.Pb(),r.Pb(),r.Qb(31,"div",10),r.Qb(32,"div",17),r.Mb(33,"textarea",18),r.rc(34,pl,2,0,"span",13),r.Pb(),r.Pb(),r.Qb(35,"div",19),r.Qb(36,"div",20),r.Qb(37,"button",21),r.tc(38,"G\u1eecI"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.rc(39,gl,3,0,"div",22),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(14),r.gc("ngStyle",r.jc(10,ml,e.success?"none":"block"))("formGroup",e.contactForm),r.Ab(4),r.gc("ngIf",e.contactForm.get("name").hasError("required")&&(e.contactForm.get("name").touched||e.submit)),r.Ab(3),r.gc("ngIf",e.contactForm.get("email").hasError("required")&&(e.contactForm.get("email").touched||e.submit)),r.Ab(1),r.gc("ngIf",e.contactForm.get("email").hasError("pattern")&&(e.contactForm.get("email").touched||e.submit)),r.Ab(4),r.gc("ngIf",e.contactForm.get("phone").hasError("required")&&(e.contactForm.get("phone").touched||e.submit)),r.Ab(1),r.gc("ngIf",e.contactForm.get("phone").hasError("pattern")&&(e.contactForm.get("phone").touched||e.submit)),r.Ab(3),r.gc("ngIf",e.contactForm.get("address").hasError("required")&&(e.contactForm.get("address").touched||e.submit)),r.Ab(4),r.gc("ngIf",e.contactForm.get("content").hasError("required")&&(e.contactForm.get("content").touched||e.submit)),r.Ab(5),r.gc("ngIf",e.success))},directives:[yo,ls,ht,wo,ns,us,To,ct],styles:[".modal-buton[_ngcontent-%COMP%]{font-family:arial,helvetica,sans-serif!important;color:#fff!important;background-color:#38761d!important;transform:rotate(270deg);position:fixed;right:-20px;top:70%;padding:10px 15px;line-height:30px;font-size:18px;font-weight:500}.modal-dialog[_ngcontent-%COMP%]{display:flex;justify-content:center}.modal-content[_ngcontent-%COMP%]{margin-top:15%;background-color:#38761d;color:#fff;padding:0 25px;min-width:600px;font-size:18px}.modal-header[_ngcontent-%COMP%]{padding:16px 0}.row[_ngcontent-%COMP%]{margin-bottom:30px}.modal-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:2px}.modal-body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f1c232;border-radius:5px;border:1px solid #f1c232;padding:5px 20px;color:#fff;line-height:42px;font-weight:700;font-size:16px}@media (max-width:576px){.modal-content[_ngcontent-%COMP%]{min-width:100%}}@media (max-width:768px){.col-6[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%]{width:100%}.col-1[_ngcontent-%COMP%], .col-6[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%]{padding-bottom:30px}.row[_ngcontent-%COMP%]{margin:0}}"]}),t})();const yl=function(t){return["/info-news",t]};function vl(t,e){if(1&t&&(r.Qb(0,"div",18),r.Qb(1,"div",9),r.Qb(2,"div"),r.Qb(3,"a",19),r.Mb(4,"img",20),r.Pb(),r.Pb(),r.Pb(),r.Qb(5,"div",21),r.Qb(6,"a",19),r.Qb(7,"h6"),r.tc(8),r.Pb(),r.Pb(),r.Qb(9,"p"),r.tc(10),r.Pb(),r.Qb(11,"p"),r.tc(12),r.Pb(),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Ab(3),r.gc("routerLink",r.jc(6,yl,t.id)),r.Ab(1),r.gc("src",t.image,r.oc),r.Ab(2),r.gc("routerLink",r.jc(8,yl,t.id)),r.Ab(2),r.vc("\u2022 ",t.title,""),r.Ab(2),r.uc(t.submittedDate),r.Ab(2),r.uc(t.content)}}function _l(t,e){1&t&&(r.Qb(0,"div",22),r.Qb(1,"li",23),r.Qb(2,"button",24),r.tc(3,"Previous"),r.Pb(),r.Pb(),r.Pb())}function wl(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",25),r.Qb(1,"li",26),r.Qb(2,"button",27),r.Yb("click",(function(){return r.mc(t),r.cc().previousPage()})),r.tc(3,"Previous"),r.Pb(),r.Pb(),r.Pb()}}function xl(t,e){1&t&&(r.Qb(0,"div",25),r.Qb(1,"li",23),r.Qb(2,"button",24),r.tc(3,"Next"),r.Pb(),r.Pb(),r.Pb())}function Pl(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",25),r.Qb(1,"li",26),r.Qb(2,"button",27),r.Yb("click",(function(){return r.mc(t),r.cc().nextPage()})),r.tc(3,"Next"),r.Pb(),r.Pb(),r.Pb()}}const El=[{path:"",component:(()=>{class t{constructor(t){this.newsService=t,this.news=[],this.keyword=""}ngOnInit(){this.getAll(0,this.keyword)}getAll(t,e){this.newsService.findAll(t,e).subscribe(({content:t,number:e,totalPages:n})=>{this.totalPages=n,this.number=e,this.news=t})}previousPage(){let t=this.number;t>0&&(t--,this.getAll(t,this.keyword))}nextPage(){let t=this.number;t<this.totalPages-1&&(t++,this.getAll(t,this.keyword))}search(){this.newsService.findAll(this.number,this.keyword).subscribe(({content:t,number:e,totalPages:n})=>{this.totalPages=n,this.number=e,this.news=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(sl))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-body"]],decls:27,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-lg-10","mt-5"],["class","row mt-3",4,"ngFor","ngForOf"],["align","center",1,"row","mt-5"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center"],["class","",4,"ngIf"],["class","mx-2",4,"ngIf"],[1,"col-lg-2"],[1,"row","mt-5"],["type","search","name","keyword","placeholder","T\xecm ki\u1ebfm","aria-label","Search",1,"form-control","me-2","find",3,"ngModel","ngModelChange","keypress"],["src","assets/img/body/body-pigfood.png","alt",""],["src","assets/img/body/body-chicken.png","alt",""],["src","assets/img/body/body-chickenfood.jpg","alt",""],["src","assets/img/body/body-pharma1.jpg","alt",""],["src","assets/img/body/body-food.jpg","alt",""],["src","assets/img/body/body-food2.jpg","alt",""],[1,"row","mt-3"],[3,"routerLink"],["alt","...",1,"img-fluid","rounded","mx-auto","d-block",3,"src"],[1,"col-lg-10"],[1,""],[1,"page-item","disabled"],["hidden","",1,"page-link"],[1,"mx-2"],[1,"page-item"],[1,"page-link",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.rc(3,vl,13,10,"div",3),r.Qb(4,"div",4),r.Qb(5,"nav",5),r.Qb(6,"ul",6),r.rc(7,_l,4,0,"div",7),r.rc(8,wl,4,0,"div",8),r.rc(9,xl,4,0,"div",8),r.rc(10,Pl,4,0,"div",8),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(11,"div",9),r.Qb(12,"div",10),r.Qb(13,"input",11),r.Yb("ngModelChange",(function(t){return e.keyword=t}))("keypress",(function(){return e.search()})),r.Pb(),r.Pb(),r.Qb(14,"div",10),r.Mb(15,"img",12),r.Pb(),r.Qb(16,"div",10),r.Mb(17,"img",13),r.Pb(),r.Qb(18,"div",10),r.Mb(19,"img",14),r.Pb(),r.Qb(20,"div",10),r.Mb(21,"img",15),r.Pb(),r.Qb(22,"div",10),r.Mb(23,"img",16),r.Pb(),r.Qb(24,"div",10),r.Mb(25,"img",17),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Mb(26,"app-contact-create")),2&t&&(r.Ab(3),r.gc("ngForOf",e.news),r.Ab(4),r.gc("ngIf",0==e.number),r.Ab(1),r.gc("ngIf",0!=e.number),r.Ab(1),r.gc("ngIf",e.number==e.totalPages-1),r.Ab(1),r.gc("ngIf",e.number!=e.totalPages-1),r.Ab(3),r.gc("ngModel",e.keyword))},directives:[ot,ct,ns,us,bo,bl,Ei],styles:[".card[_ngcontent-%COMP%]{border:none}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}a[_ngcontent-%COMP%]:hover{font-weight:700}.ads[_ngcontent-%COMP%]{width:100%;height:100%}.login[_ngcontent-%COMP%]{margin-left:5px}"]}),t})()},{path:"info-news/:id",component:(()=>{class t{constructor(t,e){this.newsService=t,this.activatedRoute=e,this.activatedRoute.paramMap.subscribe(t=>{this.id=+t.get("id"),this.findById(this.id)})}ngOnInit(){}findById(t){return this.newsService.findById(t).subscribe(t=>{this.titleNew=t.title,this.contentNew=t.content,this.dateSubmitted=t.submittedDate,this.img=t.image})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(sl),r.Lb(pr))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-info-news"]],decls:25,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-lg-10","mt-5"],["align","center"],["align","right"],[1,"justify-content-center"],["alt","",1,"img-fluid","rounded","mx-auto","d-block",3,"src"],[1,"mt-3"],[1,"col-lg-2"],[1,"row","mt-5"],["src","assets/img/body/body-pigfood.png","alt",""],["src","assets/img/body/body-chicken.png","alt",""],["src","assets/img/body/body-chickenfood.jpg","alt",""],["src","assets/img/body/body-pharma1.jpg","alt",""],["src","assets/img/body/body-food.jpg","alt",""],["src","assets/img/body/body-food2.jpg","alt",""]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"h4",3),r.tc(4),r.Pb(),r.Qb(5,"p",4),r.tc(6),r.Pb(),r.Qb(7,"div",5),r.Mb(8,"img",6),r.Pb(),r.Qb(9,"div",7),r.Qb(10,"p"),r.tc(11),r.Pb(),r.Pb(),r.Pb(),r.Qb(12,"div",8),r.Qb(13,"div",9),r.Mb(14,"img",10),r.Pb(),r.Qb(15,"div",9),r.Mb(16,"img",11),r.Pb(),r.Qb(17,"div",9),r.Mb(18,"img",12),r.Pb(),r.Qb(19,"div",9),r.Mb(20,"img",13),r.Pb(),r.Qb(21,"div",9),r.Mb(22,"img",14),r.Pb(),r.Qb(23,"div",9),r.Mb(24,"img",15),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(4),r.uc(e.titleNew),r.Ab(2),r.uc(e.dateSubmitted),r.Ab(2),r.gc("src",e.img,r.oc),r.Ab(3),r.uc(e.contentNew))},styles:[""]}),t})()}];let Cl=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fi.forChild(El)],Fi]}),t})();function Sl(t,e){if(1&t&&(r.Qb(0,"div",47),r.tc(1),r.Pb()),2&t){const t=r.cc(2);r.gc("ngClass",t.clss),r.Ab(1),r.uc(t.msg)}}function Ol(t,e){if(1&t){const t=r.Rb();r.Qb(0,"input",49),r.Yb("ngModelChange",(function(){r.mc(t);const e=r.cc().$implicit;return r.cc(2).checkButton(e.id)})),r.Pb()}if(2&t){const t=r.cc().$implicit;r.gc("name",""+t.id)}}function Tl(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.tc(2),r.Pb(),r.Qb(3,"td"),r.tc(4),r.Pb(),r.Qb(5,"td"),r.tc(6),r.dc(7,"slice"),r.Pb(),r.Qb(8,"td"),r.tc(9),r.Pb(),r.Qb(10,"td"),r.tc(11),r.dc(12,"date"),r.Pb(),r.Qb(13,"td"),r.rc(14,Ol,1,1,"input",48),r.Pb(),r.Pb()),2&t){const t=e.$implicit,n=e.index,i=r.cc(2);r.Ab(2),r.uc(n+1+5*i.number),r.Ab(2),r.uc(t.name),r.Ab(2),r.uc(t.content.length>100?r.fc(7,6,t.content,0,10)+"...":t.content),r.Ab(3),r.uc(t.address),r.Ab(2),r.uc(r.ec(12,10,t.date,"dd/MM/yyyy")),r.Ab(3),r.gc("ngIf",t)}}function kl(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",50),r.Qb(1,"a",51),r.Yb("click",(function(){return r.mc(t),r.cc(2).goPrevious()})),r.tc(2,"Trang tr\u01b0\u1edbc"),r.Pb(),r.Pb()}}function Al(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",50),r.Qb(1,"a",52),r.Yb("click",(function(){return r.mc(t),r.cc(2).goPrevious()})),r.tc(2),r.Pb(),r.Pb()}if(2&t){const t=r.cc(2);r.Ab(2),r.uc(t.number)}}function Il(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",50),r.Qb(1,"a",52),r.Yb("click",(function(){return r.mc(t),r.cc(2).goNext()})),r.tc(2),r.Pb(),r.Pb()}if(2&t){const t=r.cc(2);r.Ab(2),r.uc(t.number+2)}}function Dl(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",50),r.Qb(1,"a",52),r.Yb("click",(function(){return r.mc(t),r.cc(2).goNext()})),r.tc(2,"Trang sau"),r.Pb(),r.Pb()}}function Ml(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",22),r.Qb(1,"div",23),r.tc(2,"Danh S\xe1ch Li\xean H\u1ec7"),r.Pb(),r.Qb(3,"form",24),r.Yb("ngSubmit",(function(){return r.mc(t),r.cc().search()})),r.Qb(4,"div",25),r.Qb(5,"div",26),r.Qb(6,"div",27),r.Qb(7,"div",28),r.Qb(8,"input",29),r.Yb("keyup.enter",(function(){return r.mc(t),r.cc().search()})),r.Pb(),r.Qb(9,"button",30),r.tc(10,"T\xecm ki\u1ebfm"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(11,"form",31,32),r.Yb("ngSubmit",(function(){r.mc(t);const e=r.lc(12);return r.cc().checkDelete(e.value)})),r.rc(13,Sl,2,2,"div",33),r.Qb(14,"table",34),r.Qb(15,"thead"),r.Qb(16,"tr",35),r.Qb(17,"th",36),r.tc(18,"STT"),r.Pb(),r.Qb(19,"th",36),r.tc(20,"T\xean ng\u01b0\u1eddi li\xean h\u1ec7"),r.Pb(),r.Qb(21,"th",36),r.tc(22,"N\u1ed9i dung"),r.Pb(),r.Qb(23,"th",36),r.tc(24,"\u0110\u1ecba ch\u1ec9"),r.Pb(),r.Qb(25,"th",36),r.tc(26,"Ng\xe0y li\xean h\u1ec7"),r.Pb(),r.Qb(27,"th",36),r.tc(28,"Ch\u1ee9c n\u0103ng"),r.Pb(),r.Pb(),r.Pb(),r.Qb(29,"tbody"),r.rc(30,Tl,15,13,"tr",9),r.Pb(),r.Pb(),r.Qb(31,"div",37),r.Qb(32,"button",38),r.Yb("click",(function(){return r.mc(t),r.cc().getDetails()})),r.tc(33," Xem chi ti\u1ebft "),r.Pb(),r.Qb(34,"button",39),r.tc(35," Xo\xe1 "),r.Pb(),r.Pb(),r.Pb(),r.Qb(36,"nav",40),r.Qb(37,"ul",41),r.rc(38,kl,3,0,"li",42),r.rc(39,Al,3,1,"li",43),r.Qb(40,"li",44),r.Qb(41,"a",45),r.Qb(42,"span",46),r.tc(43),r.Pb(),r.Pb(),r.Pb(),r.rc(44,Il,3,1,"li",43),r.rc(45,Dl,3,0,"li",43),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.cc();r.Ab(3),r.gc("formGroup",t.searchForm),r.Ab(10),r.gc("ngIf",t.msg),r.Ab(17),r.gc("ngForOf",t.contact),r.Ab(2),r.gc("disabled",1!=t.check.length),r.Ab(2),r.gc("disabled",t.check.length<1),r.Ab(4),r.gc("ngIf",t.checkPrevious),r.Ab(1),r.gc("ngIf",t.checkPrevious),r.Ab(4),r.uc(t.number+1),r.Ab(1),r.gc("ngIf",t.checkNext),r.Ab(1),r.gc("ngIf",t.checkNext)}}function Nl(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.tc(2),r.dc(3,"slice"),r.Pb(),r.Pb()),2&t){const t=e.$implicit,n=e.index;r.Ab(2),r.wc("",n+1,". ",r.fc(3,2,t,0,20),"....")}}const jl=[{path:"",component:(()=>{class t{constructor(t,e,n){this.contactService=t,this.router=e,this.toast=n,this.name="",this.number=0,this.contact=[],this.searchForm=new io({name:new ro("")}),this.nameDelete=[],this.ids=[],this.content="",this.check=[],this.contactDetail={}}ngOnInit(){this.getContact(0,"")}getContact(t,e){this.contactService.getAllContact(t,e).subscribe(t=>{var e,n,r,i;this.totalPages=null===(e=t)||void 0===e?void 0:e.totalPages,this.countTotalPages=new Array(null===(n=t)||void 0===n?void 0:n.totalPages),this.number=null===(r=t)||void 0===r?void 0:r.number,this.contact=null===(i=t)||void 0===i?void 0:i.content,this.checkNext=!t.last,this.checkPrevious=!t.first,this.msg=""},t=>{console.log(t)})}deleteId(){this.check=[],this.ids.length>0?this.contactService.deleteContact(this.ids).subscribe(t=>{this.getContact(0,""),this.toast.error("X\xf3a th\xe0nh c\xf4ng !!!","Li\xean h\u1ec7"),this.ids=[]},t=>{this.clss="rd",this.msg="C\xf3 s\u1ef1 c\u1ed1 khi x\xf3a li\xean h\u1ec7"}):(this.clss="rd",this.msg="B\u1ea1n ph\u1ea3i ch\u1ecdn li\xean h\u1ec7 m\u1edbi th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c ch\u1ee9c n\u0103ng n\xe0y",this.toast.error("B\u1ea1n ph\u1ea3i ch\u1ecdn m\u1ee5c \u0111\u1ec3 x\xf3a !!!","Li\xean h\u1ec7")),this.nameDelete=[]}checkDelete(t){this.ids=[],this.msg="",this.nameDelete=[],this.contact.forEach(e=>{!0===t[e.id]&&(this.ids.push(e.id),this.nameDelete.push(e.name))}),this.contactService.getAllContact(0,"").subscribe(()=>{})}resetDelete(){this.nameDelete=[],this.ids=[]}goPrevious(){this.number--,this.getContact(this.number,this.name)}goNext(){this.number++,this.getContact(this.number,this.name)}search(){this.name=this.searchForm.value.name,this.getContact(0,this.name)}checkButton(t){if(this.msg="",this.check.includes(t)){this.check.filter(e=>e!==t);for(let e=0;e<this.check.length;e++)this.check[e]===t&&this.check.splice(e,1)}else this.check.push(t)}getDetails(){this.contactService.getContactById(this.check[0]).subscribe(t=>{this.contactDetail=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(al),r.Lb(xi),r.Lb(wu))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-contact-list"]],decls:60,vars:8,consts:[[1,"body"],["class","container mt-5 pb-2",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-success",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-danger",3,"click"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","staticBackdropLabel",1,"modal-title"],[1,"col-lg-6","formRow_create"],[1,"formRow_create_content"],[1,"mb-3"],[1,"form-label"],[2,"color","#5c636a"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-success"],[1,"container","mt-5","pb-2"],[1,"mt-3",2,"text-align","center","font-size","30px"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row","mt-5"],[1,"col-12"],[1,"row"],[1,"col-3","mx-auto","me-0",2,"display","flex","width","450px"],["type","search","placeholder","T\xecm ki\u1ebfm theo t\xean ho\u1eb7c n\u1ed9i dung","formControlName","name","id","name",1,"input-search","form-control",2,"width","450px",3,"keyup.enter"],["type","submit",1,"btn","btn-outline-success",2,"width","130px"],[3,"ngSubmit"],["deleteForm","ngForm"],["style","color: red",3,"ngClass",4,"ngIf"],[1,"table","table-striped","table-hover","mt-3","mb-3",2,"border-radius","20px"],[2,"background-color","#017428"],[1,"text-light"],[2,"text-align","center","display","flex","justify-content","center"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop","type","submit",1,"col-3","btn","btn-outline-success",2,"width","auto","margin-right","5%",3,"disabled","click"],["data-bs-toggle","modal","data-bs-target","#exampleModal","type","submit",1,"col-3","btn","btn-outline-danger",2,"width","auto",3,"disabled"],["aria-label","...",1,"pagination","float-end"],[1,"pagination"],["class","page-item ",4,"ngIf"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],[1,"sr-only"],[2,"color","red",3,"ngClass"],["type","checkbox","ngModel","",3,"name","ngModelChange",4,"ngIf"],["type","checkbox","ngModel","",3,"name","ngModelChange"],[1,"page-item"],["tabindex","-1",1,"page-link",3,"click"],[1,"page-link",3,"click"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.rc(1,Ml,46,10,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Qb(6,"h5",6),r.tc(7,"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a c\xe1c m\u1ee5c sau"),r.Pb(),r.Mb(8,"button",7),r.Pb(),r.Qb(9,"div",8),r.Qb(10,"table"),r.rc(11,Nl,4,6,"tr",9),r.Pb(),r.Pb(),r.Qb(12,"div",10),r.Qb(13,"button",11),r.Yb("click",(function(){return e.resetDelete()})),r.tc(14,"Hu\u1ef7 "),r.Pb(),r.Qb(15,"button",12),r.Yb("click",(function(){return e.deleteId()})),r.tc(16,"Xo\xe1"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(17,"div",13),r.Qb(18,"div",14),r.Qb(19,"div",4),r.Qb(20,"div",5),r.Qb(21,"h5",15),r.tc(22,"Th\xf4ng tin chi ti\u1ebft li\xean h\u1ec7"),r.Pb(),r.Mb(23,"button",7),r.Pb(),r.Qb(24,"div",8),r.Qb(25,"form",16),r.Qb(26,"div",17),r.Qb(27,"div",18),r.Qb(28,"label",19),r.tc(29,"T\xean ng\u01b0\u1eddi li\xean h\u1ec7: "),r.Qb(30,"span",20),r.tc(31),r.Pb(),r.Pb(),r.Pb(),r.Qb(32,"div",18),r.Qb(33,"label",19),r.tc(34,"Email: "),r.Qb(35,"span",20),r.tc(36),r.Pb(),r.Pb(),r.Pb(),r.Qb(37,"div",18),r.Qb(38,"label",19),r.tc(39,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: "),r.Qb(40,"span",20),r.tc(41),r.Pb(),r.Pb(),r.Pb(),r.Qb(42,"div",18),r.Qb(43,"label",19),r.tc(44,"\u0110\u1ecba ch\u1ec9: "),r.Qb(45,"span",20),r.tc(46),r.Pb(),r.Pb(),r.Pb(),r.Qb(47,"div",18),r.Qb(48,"label",19),r.tc(49,"N\u1ed9i dung: "),r.Qb(50,"span",20),r.tc(51),r.Pb(),r.Pb(),r.Pb(),r.Qb(52,"div",18),r.Qb(53,"label",19),r.tc(54,"Ng\xe0y li\xean h\u1ec7: "),r.Qb(55,"span",20),r.tc(56),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(57,"div",10),r.Qb(58,"button",21),r.tc(59,"\u0110\xf3ng"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(1),r.gc("ngIf",e.contact&&e.contact.length>0),r.Ab(10),r.gc("ngForOf",e.nameDelete),r.Ab(20),r.uc(e.contactDetail.name),r.Ab(5),r.uc(e.contactDetail.email),r.Ab(5),r.uc(e.contactDetail.phone),r.Ab(5),r.uc(e.contactDetail.address),r.Ab(5),r.uc(e.contactDetail.content),r.Ab(5),r.uc(e.contactDetail.date))},directives:[ct,ot,yo,ls,co,wo,ns,us,To,it,Ji,bo],pipes:[pt,ft],styles:[".body[_ngcontent-%COMP%]{margin:0 auto;background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;padding:20px;opacity:1%;min-height:555px}"]}),t})()}];let Rl=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fi.forChild(jl)],Fi]}),t})(),Ll=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[gt,Rl,Mo,No]]}),t})(),Fl=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[gt,Cl,No,Mo,Ll]]}),t})();const Vl=`${i}`;let Ul=(()=>{class t{constructor(t){this.http=t}getAll(){return this.http.get(Vl+"/pigsty/list")}findById(t){return this.http.get(`${Vl}/pigsty/by/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ql=`${i}`;let Bl=(()=>{class t{constructor(t){this.http=t}saveVaccination(t){return this.http.post(Ql+"/api/vaccination/create",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hl(t,e){if(1&t&&(r.Qb(0,"option",31),r.tc(1),r.Pb()),2&t){const t=e.$implicit;r.gc("ngValue",t.id),r.Ab(1),r.uc(t.code)}}function zl(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function ql(t,e){1&t&&(r.Qb(0,"p"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function Gl(t,e){1&t&&(r.Qb(0,"p"),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function $l(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function Wl(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng"),r.Pb())}function Kl(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function Yl(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng"),r.Pb())}const Zl=function(){return["/vaccination/vaccination-list"]},Xl=[{path:"api/vaccination/create",component:(()=>{class t{constructor(t,e,n){this.pigstyService=t,this.vaccinationService=e,this.router=n,this.pigstyType="---Ch\u1ecdn lo\u1ea1i chu\u1ed3ng---",this.vaccineType="---Ch\u1ecdn lo\u1ea1i vaccine---",this.pigstys=[],this.vaccinationForm=new io({date:new ro("",[gs.required]),date1:new ro("",[gs.required]),amount:new ro("",[gs.required,gs.pattern("^[1-9]{1}$")]),vaccineType:new ro("",[gs.required]),vaccinatedPerson:new ro("",[gs.required,gs.pattern("^[A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8\u0110][a-z\xe0\xe1\u1ea1\u1ea3\xe3\xe2\u1ea7\u1ea5\u1ead\u1ea9\u1eab\u0103\u1eb1\u1eaf\u1eb7\u1eb3\u1eb5\xe8\xe9\u1eb9\u1ebb\u1ebd\xea\u1ec1\u1ebf\u1ec7\u1ec3\u1ec5\xec\xed\u1ecb\u1ec9\u0129\xf2\xf3\u1ecd\u1ecf\xf5\xf4\u1ed3\u1ed1\u1ed9\u1ed5\u1ed7\u01a1\u1edd\u1edb\u1ee3\u1edf\u1ee1\xf9\xfa\u1ee5\u1ee7\u0169\u01b0\u1eeb\u1ee9\u1ef1\u1eed\u1eef\u1ef3\xfd\u1ef5\u1ef7\u1ef9\u0111]*(?:[ ][A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8\u0110][a-z\xe0\xe1\u1ea1\u1ea3\xe3\xe2\u1ea7\u1ea5\u1ead\u1ea9\u1eab\u0103\u1eb1\u1eaf\u1eb7\u1eb3\u1eb5\xe8\xe9\u1eb9\u1ebb\u1ebd\xea\u1ec1\u1ebf\u1ec7\u1ec3\u1ec5\xec\xed\u1ecb\u1ec9\u0129\xf2\xf3\u1ecd\u1ecf\xf5\xf4\u1ed3\u1ed1\u1ed9\u1ed5\u1ed7\u01a1\u1edd\u1edb\u1ee3\u1edf\u1ee1\xf9\xfa\u1ee5\u1ee7\u0169\u01b0\u1eeb\u1ee9\u1ef1\u1eed\u1eef\u1ef3\xfd\u1ef5\u1ef7\u1ef9\u0111]*)*$")]),note:new ro(""),pigsty:new ro("",[gs.required])})}ngOnInit(){this.getAllPigsty()}submit(){const t=this.vaccinationForm.value;this.pigstyService.findById(t.pigsty).subscribe(e=>{t.pigsty={id:e.id,code:e.code},this.vaccinationService.saveVaccination(t).subscribe(()=>{alert("Th\xeam m\u1edbi th\xe0nh c\xf4ng"),this.vaccinationForm.reset(),this.router.navigateByUrl("/vaccination/vaccination-list")},t=>console.log(t))})}getAllPigsty(){this.pigstyService.getAll().subscribe(t=>{this.pigstys=t})}checkDate(){const t=new Date(this.vaccinationForm.controls.date1.value),e=this.vaccinationForm.controls.vaccineType.value;if("PRRS"===e){const e=new Date(t.setDate(t.getDate()+10));this.date2=e}if("Mycoplasma"===e){const e=new Date(t.setDate(t.getDate()+15));this.date2=e}if("CSF"===e){const e=new Date(t.setDate(t.getDate()+35));this.date2=e}if("FMD"===e){const e=new Date(t.setDate(t.getDate()+49));this.date2=e}if("APP"===e){const e=new Date(t.setDate(t.getDate()+77));this.date2=e}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ul),r.Lb(Bl),r.Lb(xi))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-vaccination-create"]],decls:90,vars:16,consts:[[1,"container-fluid","mt-3"],[1,"vc_empty_space",2,"height","64px"],[1,"vc_empty_space_inner"],[1,"container"],[1,"row","formRow"],[1,"col-lg-5","formRow_create",3,"formGroup","ngSubmit"],[1,"mb-3","formRow_create_title"],[2,"text-align","center"],[1,"formRow_create_content"],[1,"mb-3"],[1,"form-label"],["id","inlineFormSelectPref","formControlName","pigsty",1,"form-select"],["value","","selected","","disabled","",3,"selected"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-text"],[4,"ngIf"],["type","date","formControlName","date1",1,"form-control"],["id","inlineFormSelectPref1","formControlName","vaccineType",1,"form-select",3,"change"],["value","PRRS"],["value","Mycoplasma"],["value","CSF"],["value","FMD"],["value","APP"],["type","text","formControlName","date",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Nh\u1eadp ng\u01b0\u1eddi ti\xeam ph\xf2ng","formControlName","vaccinatedPerson",1,"form-control"],["type","text","placeholder","Nh\u1eadp s\u1ed1 l\u1ee3n \u0111\u01b0\u1ee3c ti\xeam","formControlName","amount",1,"form-control"],["type","te","id","formGroupExampleInput5","placeholder","Nh\u1eadp ghi ch\xfa","formControlName","note",1,"form-control"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-around"],[1,"btn","btn-outline-danger",3,"routerLink"],["type","submit",1,"btn","btn-outline-success"],["type","reset",1,"btn","btn-outline-secondary"],[3,"ngValue"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Mb(2,"span",2),r.Pb(),r.Qb(3,"div",3),r.Qb(4,"div",4),r.Qb(5,"form",5),r.Yb("ngSubmit",(function(){return e.submit()})),r.Qb(6,"div",6),r.Qb(7,"h5",7),r.Qb(8,"b"),r.tc(9,"Th\xeam l\u1ecbch ti\xeam ph\xf2ng"),r.Pb(),r.Pb(),r.Pb(),r.Mb(10,"hr"),r.Qb(11,"div",8),r.Qb(12,"div",9),r.Qb(13,"label",10),r.tc(14,"Chu\u1ed3ng"),r.Qb(15,"span"),r.tc(16,"*"),r.Pb(),r.tc(17,":"),r.Pb(),r.Qb(18,"select",11),r.Qb(19,"option",12),r.tc(20),r.Pb(),r.rc(21,Hl,2,2,"option",13),r.Pb(),r.Qb(22,"div",14),r.Qb(23,"span"),r.rc(24,zl,2,0,"p",15),r.Pb(),r.Pb(),r.Pb(),r.Qb(25,"div",9),r.Qb(26,"label",10),r.tc(27,"Ng\xe0y \u0111\xf3ng chu\u1ed3ng:"),r.Pb(),r.Mb(28,"input",16),r.Pb(),r.Qb(29,"div",9),r.Qb(30,"label",10),r.tc(31,"Lo\u1ea1i vaccine"),r.Qb(32,"span"),r.tc(33,"*"),r.Pb(),r.tc(34,":"),r.Pb(),r.Qb(35,"select",17),r.Yb("change",(function(){return e.checkDate()})),r.Qb(36,"option",12),r.tc(37),r.Pb(),r.Qb(38,"option",18),r.tc(39,"Ph\xf2ng PRRS"),r.Pb(),r.Qb(40,"option",19),r.tc(41,"Ph\xf2ng Mycoplasma"),r.Pb(),r.Qb(42,"option",20),r.tc(43,"Ph\xf2ng CSF(d\u1ecbch t\u1ea3)"),r.Pb(),r.Qb(44,"option",21),r.tc(45,"Ph\xf2ng FMD(l\u1edf m\u1ed3m long m\xf3ng)"),r.Pb(),r.Qb(46,"option",22),r.tc(47,"Ph\xf2ng APP(vi\xeam ph\u1ed5i d\xednh s\u01b0\u1eddn)"),r.Pb(),r.Pb(),r.Qb(48,"div",14),r.Qb(49,"span"),r.rc(50,ql,2,0,"p",15),r.Pb(),r.Pb(),r.Pb(),r.Qb(51,"div",9),r.Qb(52,"label",10),r.tc(53,"Ng\xe0y ti\xeam ph\xf2ng"),r.Qb(54,"span"),r.tc(55,"*"),r.Pb(),r.tc(56,":"),r.Pb(),r.Qb(57,"input",23),r.Yb("ngModelChange",(function(t){return e.date2=t})),r.Pb(),r.Qb(58,"div",14),r.Qb(59,"span"),r.rc(60,Gl,2,0,"p",15),r.Pb(),r.Pb(),r.Pb(),r.Qb(61,"div",9),r.Qb(62,"label",10),r.tc(63,"Ng\u01b0\u1eddi/TT ti\xeam ph\xf2ng:"),r.Pb(),r.Mb(64,"input",24),r.Qb(65,"div",14),r.Qb(66,"span"),r.rc(67,$l,2,0,"p",15),r.rc(68,Wl,2,0,"p",15),r.Pb(),r.Pb(),r.Pb(),r.Qb(69,"div",9),r.Qb(70,"label",10),r.tc(71,"S\u1ed1 l\u01b0\u1ee3ng l\u1ee3n \u0111\u01b0\u1ee3c ti\xeam:"),r.Pb(),r.Mb(72,"input",25),r.Qb(73,"div",14),r.Qb(74,"span"),r.rc(75,Kl,2,0,"p",15),r.rc(76,Yl,2,0,"p",15),r.Pb(),r.Pb(),r.Pb(),r.Qb(77,"div",9),r.Qb(78,"label",10),r.tc(79,"Ghi ch\xfa:"),r.Pb(),r.Mb(80,"textarea",26),r.Pb(),r.Qb(81,"div",27),r.Qb(82,"a",28),r.tc(83," Quay L\u1ea1i"),r.Pb(),r.Qb(84,"button",29),r.tc(85," C\u1eadp nh\u1eadt"),r.Pb(),r.Qb(86,"button",30),r.tc(87," Nh\u1eadp l\u1ea1i"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(88,"div",1),r.Mb(89,"span",2),r.Pb(),r.Pb()),2&t&&(r.Ab(5),r.gc("formGroup",e.vaccinationForm),r.Ab(14),r.gc("selected",e.pigstyType),r.Ab(1),r.uc(e.pigstyType),r.Ab(1),r.gc("ngForOf",e.pigstys),r.Ab(3),r.gc("ngIf",e.vaccinationForm.controls.pigsty.hasError("required")&&e.vaccinationForm.controls.pigsty.touched),r.Ab(12),r.gc("selected",e.vaccineType),r.Ab(1),r.uc(e.vaccineType),r.Ab(13),r.gc("ngIf",e.vaccinationForm.controls.vaccineType.hasError("required")&&e.vaccinationForm.controls.vaccineType.touched),r.Ab(7),r.gc("ngModel",e.date2),r.Ab(3),r.gc("ngIf",e.vaccinationForm.controls.date.hasError("required")&&e.vaccinationForm.controls.date.touched),r.Ab(7),r.gc("ngIf",e.vaccinationForm.controls.vaccinatedPerson.hasError("required")&&e.vaccinationForm.controls.vaccinatedPerson.touched),r.Ab(1),r.gc("ngIf",e.vaccinationForm.controls.vaccinatedPerson.hasError("pattern")&&e.vaccinationForm.controls.vaccinatedPerson.touched),r.Ab(7),r.gc("ngIf",e.vaccinationForm.controls.amount.hasError("required")&&e.vaccinationForm.controls.amount.touched),r.Ab(1),r.gc("ngIf",e.vaccinationForm.controls.amount.hasError("pattern")&&e.vaccinationForm.controls.amount.touched),r.Ab(6),r.gc("routerLink",r.ic(15,Zl)))},directives:[yo,ls,wo,Ns,us,To,js,Vs,ot,ct,ns,Ei],styles:[".formRow[_ngcontent-%COMP%]{display:flex;justify-content:center}.formRow_create_title[_ngcontent-%COMP%]{text-align:center;background-color:#198754;border-radius:7px;color:#fff}.formRow_create[_ngcontent-%COMP%]{border-radius:15px;padding:15px;box-shadow:2px 7px 9px 3px rgba(27,25,25,.2);background:#fff;opacity:1%}body[_ngcontent-%COMP%]{margin:0 auto;background-image:url(https://nongnghiepgiatot.com/wp-content/uploads/2021/09/Lon-order-17.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%}hr[_ngcontent-%COMP%]{height:20px;width:90%;height:50px;border:none;border-bottom:2px solid #1f1209;box-shadow:0 20px 20px -20px #242323;margin:-50px auto 10px}.button[_ngcontent-%COMP%]{display:flex;justify-content:center}.back[_ngcontent-%COMP%]{margin-right:5%}.reset[_ngcontent-%COMP%]{margin-left:5%}span[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%]{color:#000;font-weight:700}h5[_ngcontent-%COMP%]{font-size:2vw;padding:1% 0}"]}),t})()}];let Jl=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fi.forChild(Xl)],Fi]}),t})(),th=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[gt,Jl,No,rl,Mo]]}),t})();var eh=n("spgP"),nh=n("D0XW");function rh(){return t=>t.lift(new ih)}class ih{call(t,e){return e.subscribe(new sh(t))}}class sh extends be.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class oh{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new ah(t,this.compare,this.keySelector))}}class ah extends be.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ch=n("pxpQ"),uh=n("Jgta"),lh=n("mrSG"),hh=n("zIRd"),dh=n("q/0M"),fh=n("qOnz"),ph=function(t,e){return(ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function gh(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var mh,bh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},yh=yh||{},vh=bh||self;function _h(){}function wh(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function xh(t){var e=wh(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Ph(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Eh="closure_uid_"+(1e9*Math.random()>>>0),Ch=0;function Sh(t,e,n){return t.call.apply(t.bind,arguments)}function Oh(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Th(t,e,n){return(Th=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sh:Oh).apply(null,arguments)}function kh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var Ah=Date.now;function Ih(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function Dh(){this.j=this.j,this.i=this.i}Dh.prototype.j=!1,Dh.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Eh)&&t[Eh]||(t[Eh]=++Ch)}(this)},Dh.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Mh=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Nh=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function jh(t){return Array.prototype.concat.apply([],arguments)}function Rh(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Lh(t){return/^[\s\xa0]*$/.test(t)}var Fh,Vh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Uh(t,e){return-1!=t.indexOf(e)}function Qh(t,e){return t<e?-1:t>e?1:0}t:{var Bh=vh.navigator;if(Bh){var Hh=Bh.userAgent;if(Hh){Fh=Hh;break t}}Fh=""}function zh(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function qh(t){var e={};for(var n in t)e[n]=t[n];return e}var Gh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $h(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Gh.length;s++)n=Gh[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Wh(t){return Wh[" "](t),t}Wh[" "]=_h;var Kh,Yh,Zh=Uh(Fh,"Opera"),Xh=Uh(Fh,"Trident")||Uh(Fh,"MSIE"),Jh=Uh(Fh,"Edge"),td=Jh||Xh,ed=Uh(Fh,"Gecko")&&!(Uh(Fh.toLowerCase(),"webkit")&&!Uh(Fh,"Edge"))&&!(Uh(Fh,"Trident")||Uh(Fh,"MSIE"))&&!Uh(Fh,"Edge"),nd=Uh(Fh.toLowerCase(),"webkit")&&!Uh(Fh,"Edge");function rd(){var t=vh.document;return t?t.documentMode:void 0}t:{var id="",sd=(Yh=Fh,ed?/rv:([^\);]+)(\)|;)/.exec(Yh):Jh?/Edge\/([\d\.]+)/.exec(Yh):Xh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yh):nd?/WebKit\/(\S+)/.exec(Yh):Zh?/(?:Version)[ \/]?(\S+)/.exec(Yh):void 0);if(sd&&(id=sd?sd[1]:""),Xh){var od=rd();if(null!=od&&od>parseFloat(id)){Kh=String(od);break t}}Kh=id}var ad={};function cd(t){return function(t,e){var n=ad;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Vh(String(Kh)).split("."),r=Vh(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Qh(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Qh(0==o[2].length,0==a[2].length)||Qh(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var ud=vh.document&&Xh&&(rd()||parseInt(Kh,10))||void 0,ld=!Xh||9<=Number(ud),hd=Xh&&!cd("9"),dd=function(){if(!vh.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{vh.addEventListener("test",_h,e),vh.removeEventListener("test",_h,e)}catch(n){}return t}();function fd(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function pd(t,e){if(fd.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ed){t:{try{Wh(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gd[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}fd.prototype.b=function(){this.defaultPrevented=!0},Ih(pd,fd);var gd={2:"touch",3:"pen",4:"mouse"};pd.prototype.b=function(){pd.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,hd)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var md="closure_listenable_"+(1e6*Math.random()|0),bd=0;function yd(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++bd,this.Y=this.Z=!1}function vd(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function _d(t){this.src=t,this.a={},this.b=0}function wd(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Mh(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(vd(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function xd(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}_d.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=xd(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new yd(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Pd="closure_lm_"+(1e6*Math.random()|0),Ed={};function Cd(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Md(r),e&&e[md]?e.wa(n,r,Ph(i)?!!i.capture:!!i,s):Sd(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Cd(t,e[s],n,r,i);return null}return n=Md(n),t&&t[md]?t.va(e,n,Ph(r)?!!r.capture:!!r,i):Sd(t,e,n,!1,r,i)}function Sd(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ph(i)?!!i.capture:!!i;if(o&&!ld)return null;var a=Id(t);if(a||(t[Pd]=a=new _d(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Ad,e=ld?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dd||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Td(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Od(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[md])wd(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Td(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Id(e))?(wd(n,t),0==n.b&&(n.src=null,e[Pd]=null)):vd(t)}}}function Td(t){return t in Ed?Ed[t]:Ed[t]="on"+t}function kd(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Od(t),n.call(r,e)}function Ad(t,e){if(t.Y)return!0;if(!ld){if(!e)t:{e=["window","event"];for(var n=vh,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return kd(t,e=new pd(e,this))}return kd(t,new pd(e,this))}function Id(t){return(t=t[Pd])instanceof _d?t:null}var Dd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Md(t){return"function"==wh(t)?t:(t[Dd]||(t[Dd]=function(e){return t.handleEvent(e)}),t[Dd])}function Nd(){Dh.call(this),this.c=new _d(this),this.J=this,this.C=null}function jd(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&wd(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Ih(Nd,Dh),Nd.prototype[md]=!0,(mh=Nd.prototype).addEventListener=function(t,e,n,r){Cd(this,t,e,n,r)},mh.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=Ph(i)?!!i.capture:!!i,r=Md(r),e&&e[md]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=xd(o=e.a[n],r,i,s))&&(vd(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Id(e))&&(n=e.a[n.toString()],e=-1,n&&(e=xd(n,r,i,s)),(r=-1<e?n[e]:null)&&Od(r))}(this,t,e,n,r)},mh.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new fd(t,n);else if(t instanceof fd)t.target=t.target||n;else{var i=t;$h(t=new fd(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=jd(o,r,!0,t)&&i}if(i=jd(o=t.a=n,r,!0,t)&&i,i=jd(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=jd(o=t.a=e[s],r,!1,t)&&i;return i},mh.G=function(){if(Nd.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)vd(n[r]);delete e.a[t],e.b--}}this.C=null},mh.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},mh.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Rd=vh.JSON.stringify;function Ld(){this.b=this.a=null}var Fd,Vd=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Qd}),(function(t){t.reset()}),100);function Ud(){var t=qd,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Qd(){this.next=this.b=this.a=null}function Bd(t){vh.setTimeout((function(){throw t}),0)}function Hd(t,e){Fd||function(){var t=vh.Promise.resolve(void 0);Fd=function(){t.then(Gd)}}(),zd||(Fd(),zd=!0),qd.add(t,e)}Ld.prototype.add=function(t,e){var n=Vd.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Qd.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Qd.prototype.reset=function(){this.next=this.b=this.a=null};var zd=!1,qd=new Ld;function Gd(){for(var t;t=Ud();){try{t.a.call(t.b)}catch(n){Bd(n)}var e=Vd;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}zd=!1}function $d(t,e){Nd.call(this),this.b=t||1,this.a=e||vh,this.f=Th(this.Ya,this),this.g=Ah()}function Wd(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Kd(t,e,n){if("function"==wh(t))n&&(t=Th(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Th(t.handleEvent,t)}return 2147483647<Number(e)?-1:vh.setTimeout(t,e||0)}function Yd(t){t.a=Kd((function(){t.a=null,t.c&&(t.c=!1,Yd(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ih($d,Nd),(mh=$d.prototype).aa=!1,mh.M=null,mh.Ya=function(){if(this.aa){var t=Ah()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Wd(this),this.start()))}},mh.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ah())},mh.G=function(){$d.S.G.call(this),Wd(this),delete this.a};var Zd=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}ph(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Yd(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(vh.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Dh);function Xd(t){Dh.call(this),this.b=t,this.a={}}Ih(Xd,Dh);var Jd=[];function tf(t,e,n,r){Array.isArray(n)||(n&&(Jd[0]=n.toString()),n=Jd);for(var i=0;i<n.length;i++){var s=Cd(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function ef(t){zh(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Od(t)}),t),t.a={}}function nf(){this.a=!0}function rf(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Rd(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Xd.prototype.G=function(){Xd.S.G.call(this),ef(this)},Xd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nf.prototype.info=function(){};var sf=null;function of(){return sf=sf||new Nd}function af(t){fd.call(this,"serverreachability",t)}function cf(t){var e=of();e.dispatchEvent(new af(e,t))}function uf(t){fd.call(this,"statevent",t)}function lf(t){var e=of();e.dispatchEvent(new uf(e,t))}function hf(t){fd.call(this,"timingevent",t)}function df(t,e){if("function"!=wh(t))throw Error("Fn must not be null and must be a function");return vh.setTimeout((function(){t()}),e)}Ih(af,fd),Ih(uf,fd),Ih(hf,fd);var ff={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},pf={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function gf(){}function mf(){}gf.prototype.a=null;var bf,yf={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function vf(){fd.call(this,"d")}function _f(){fd.call(this,"c")}function wf(){}function xf(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Xd(this),this.P=Pf,this.R=new $d(t=td?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Ih(vf,fd),Ih(_f,fd),Ih(wf,gf),bf=new wf;var Pf=45e3,Ef={},Cf={};function Sf(t,e,n){t.H=1,t.i=Wf(Bf(e)),t.j=n,t.I=!0,Of(t,null)}function Of(t,e){t.u=Ah(),Af(t),t.l=Bf(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),ap(n.b,"t",r),t.D=0,t.a=eg(t.g,t.g.C?e:null),0<t.O&&(t.F=new Zd(Th(t.Ca,t,t.a),t.O)),tf(t.J,t.a,"readystatechange",t.Wa),e=t.B?qh(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),cf(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function Tf(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=kf(t,n);if(i==Cf){4==e&&(t.h=4,lf(14),r=!1),rf(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ef){t.h=4,lf(15),rf(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}rf(t.c,t.f,i,null),jf(t,i)}4==e&&0==n.length&&(t.h=1,lf(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),$p(e),e.F=!0)):(rf(t.c,t.f,n,"[Invalid Chunked Response]"),Nf(t),Mf(t))}function kf(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Cf:(n=Number(e.substring(n,r)),isNaN(n)?Ef:(r+=1)+n>e.length?Cf:(e=e.substr(r,n),t.D=r+n,e))}function Af(t){t.U=Ah()+t.P,If(t,t.P)}function If(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=df(Th(t.Ua,t),e)}function Df(t){t.o&&(vh.clearTimeout(t.o),t.o=null)}function Mf(t){0==t.g.v||t.A||Yp(t.g,t)}function Nf(t){Df(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Wd(t.R),ef(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function jf(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||pp(n.b,t)))if(n.I=t.N,!t.C&&pp(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Kp(n),Fp(n)}Gp(n),lf(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=df(Th(n.Ra,n),6e3));if(1>=fp(n.b)&&n.ea){try{n.ea()}catch(m){}n.ea=void 0}}else Xp(n,11)}else if((t.C||n.a==t)&&Kp(n),!Lh(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(Uh(l,"spdy")||Uh(l,"quic")||Uh(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(gp(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,$f(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=Ah()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=tg(c,c.C?c.ga:null,c.fa),f.C){mp(c.b,f);var p=f,g=c.D;g&&p.setTimeout(g),p.o&&(Df(p),Af(p)),c.a=f}else qp(c);0<n.g.length&&Qp(n)}else"stop"!=i[0]&&"close"!=i[0]||Xp(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Xp(n,7):Lp(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);cf(4)}catch(m){}}function Rf(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(xh(t)||"string"==typeof t)Nh(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(xh(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(xh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Lf(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Lf)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ff(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Vf(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Vf(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Vf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(mh=xf.prototype).setTimeout=function(t){this.P=t},mh.Wa=function(t){t=t.target;var e=this.F;e&&3==Mp(t)?e.f():this.Ca(t)},mh.Ca=function(t){try{if(t==this.a)t:{var e=Mp(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!td&&!this.a.$())){this.A||4!=e||7==n||cf(8==n||0>=r?3:2),Df(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lh(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,lf(12),Nf(this),Mf(this);break t}rf(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,jf(this,c)}this.I?(Tf(this,e,s),td&&this.b&&3==e&&(tf(this.J,this.R,"tick",this.Va),this.R.start())):(rf(this.c,this.f,s,null),jf(this,s)),4==e&&Nf(this),this.b&&!this.A&&(4==e?Yp(this.g,this):(this.b=!1,Af(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,lf(12)):(this.h=0,lf(13)),Nf(this),Mf(this)}}}catch(wE){}},mh.Va=function(){if(this.a){var t=Mp(this.a),e=this.a.$();this.D<e.length&&(Df(this),Tf(this,t,e),this.b&&4!=t&&Af(this))}},mh.cancel=function(){this.A=!0,Nf(this)},mh.Ua=function(){this.o=null;var t=Ah();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(cf(3),lf(17)),Nf(this),this.h=2,Mf(this)):If(this,this.U-t)},(mh=Lf.prototype).K=function(){Ff(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},mh.L=function(){return Ff(this),this.a.concat()},mh.get=function(t,e){return Vf(this.b,t)?this.b[t]:e},mh.set=function(t,e){Vf(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},mh.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Uf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qf(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Qf){this.a=void 0!==e?e:t.a,Hf(this,t.f),this.j=t.j,zf(this,t.c),qf(this,t.h),this.g=t.g,e=t.b;var n=new rp;n.c=e.c,e.a&&(n.a=new Lf(e.a),n.b=e.b),Gf(this,n),this.i=t.i}else t&&(n=String(t).match(Uf))?(this.a=!!e,Hf(this,n[1]||"",!0),this.j=Kf(n[2]||""),zf(this,n[3]||"",!0),qf(this,n[4]),this.g=Kf(n[5]||"",!0),Gf(this,n[6]||"",!0),this.i=Kf(n[7]||"")):(this.a=!!e,this.b=new rp(null,this.a))}function Bf(t){return new Qf(t)}function Hf(t,e,n){t.f=n?Kf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function zf(t,e,n){t.c=n?Kf(e,!0):e}function qf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Gf(t,e,n){e instanceof rp?(t.b=e,function(t,e){e&&!t.f&&(ip(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(sp(this,e),ap(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Yf(e,ep)),t.b=new rp(e,t.a))}function $f(t,e,n){t.b.set(e,n)}function Wf(t){return $f(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ah()).toString(36)),t}function Kf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Zf),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zf(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Qf.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Yf(e,Xf,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Yf(e,Xf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Yf(n,"/"==n.charAt(0)?tp:Jf,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Yf(n,np)),t.join("")};var Xf=/[#\/\?@]/g,Jf=/[#\?:]/g,tp=/[#\?]/g,ep=/[#\?@]/g,np=/#/g;function rp(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ip(t){t.a||(t.a=new Lf,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function sp(t,e){ip(t),e=cp(t,e),Vf(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Vf((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ff(t)))}function op(t,e){return ip(t),e=cp(t,e),Vf(t.a.b,e)}function ap(t,e,n){sp(t,e),0<n.length&&(t.c=null,t.a.set(cp(t,e),Rh(n)),t.b+=n.length)}function cp(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function up(t,e){this.b=t,this.a=e}function lp(t){this.g=t||hp,t=vh.PerformanceNavigationTiming?0<(t=vh.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(vh.ia&&vh.ia.ya&&vh.ia.ya()&&vh.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(mh=rp.prototype).add=function(t,e){ip(this),this.c=null,t=cp(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},mh.forEach=function(t,e){ip(this),this.a.forEach((function(n,r){Nh(n,(function(n){t.call(e,n,r,this)}),this)}),this)},mh.L=function(){ip(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},mh.K=function(t){ip(this);var e=[];if("string"==typeof t)op(this,t)&&(e=jh(e,this.a.get(cp(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=jh(e,t[n])}return e},mh.set=function(t,e){return ip(this),this.c=null,op(this,t=cp(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},mh.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},mh.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var hp=10;function dp(t){return!!t.b||!!t.a&&t.a.size>=t.f}function fp(t){return t.b?1:t.a?t.a.size:0}function pp(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function gp(t,e){t.a?t.a.add(e):t.b=e}function mp(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function bp(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=gh(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Rh(t.c)}function yp(){}function vp(){this.a=new yp}function _p(t,e,n){var r=n||"";try{Rf(t,(function(t,n){var i=t;Ph(t)&&(i=Rd(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}lp.prototype.cancel=function(){var t,e;if(this.c=bp(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=gh(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},yp.prototype.stringify=function(t){return vh.JSON.stringify(t,void 0)},yp.prototype.parse=function(t){return vh.JSON.parse(t,void 0)};var xp=vh.JSON.parse;function Pp(t){Nd.call(this),this.headers=new Lf,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ep,this.D=this.F=!1}Ih(Pp,Nd);var Ep="",Cp=/^https?$/i,Sp=["POST","PUT"];function Op(t){return"content-type"==t.toLowerCase()}function Tp(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,kp(t),Ip(t)}function kp(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ap(t){if(t.b&&void 0!==yh&&(!t.s[1]||4!=Mp(t)||2!=t.X()))if(t.l&&4==Mp(t))Kd(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Mp(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Uf)[1]||null;if(!s&&vh.self&&vh.self.location){var o=vh.self.location.protocol;s=o.substr(0,o.length-1)}i=!Cp.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Mp(t)?t.a.statusText:""}catch(c){a=""}t.f=a+" ["+t.X()+"]",kp(t)}}finally{Ip(t)}}}function Ip(t,e){if(t.a){Dp(t);var n=t.a,r=t.s[0]?_h:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Dp(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(vh.clearTimeout(t.m),t.m=null)}function Mp(t){return t.a?t.a.readyState:0}function Np(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return zh(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$f(t,e,n))}function jp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rp(t){this.pa=0,this.g=[],this.c=new nf,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=jp("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=jp("baseRetryDelayMs",5e3,t),this.Ma=jp("retryDelaySeedMs",1e4,t),this.Ja=jp("forwardChannelMaxRetries",2,t),this.ma=jp("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new lp(t&&t.concurrentRequestLimit),this.ka=new vp,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Lp(t){if(Vp(t),3==t.v){var e=t.R++,n=Bf(t.B);$f(n,"SID",t.J),$f(n,"RID",e),$f(n,"TYPE","terminate"),Hp(t,n),(e=new xf(t,t.c,e,void 0)).H=2,e.i=Wf(Bf(n)),n=!1,vh.navigator&&vh.navigator.sendBeacon&&(n=vh.navigator.sendBeacon(e.i.toString(),"")),!n&&vh.Image&&((new Image).src=e.i,n=!0),n||(e.a=eg(e.g,null),e.a.ba(e.i)),e.u=Ah(),Af(e)}Jp(t)}function Fp(t){t.a&&($p(t),t.a.cancel(),t.a=null)}function Vp(t){Fp(t),t.j&&(vh.clearTimeout(t.j),t.j=null),Kp(t),t.b.cancel(),t.h&&("number"==typeof t.h&&vh.clearTimeout(t.h),t.h=null)}function Up(t,e){t.g.push(new up(t.La++,e)),3==t.v&&Qp(t)}function Qp(t){dp(t.b)||t.h||(t.h=!0,Hd(t.Ba,t),t.u=0)}function Bp(t,e){var n;n=e?e.f:t.R++;var r=Bf(t.B);$f(r,"SID",t.J),$f(r,"RID",n),$f(r,"AID",t.P),Hp(t,r),t.i&&t.l&&Np(r,t.i,t.l),n=new xf(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=zp(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),gp(t.b,n),Sf(n,r,e)}function Hp(t,e){t.f&&Rf({},(function(t,n){$f(e,n,t)}))}function zp(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Th(t.f.Ha,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{_p(l,o,"req"+u+"_")}catch(Rg){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function qp(t){t.a||t.j||(t.U=1,Hd(t.Aa,t),t.o=0)}function Gp(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=df(Th(t.Aa,t),Zp(t,t.o)),t.o++,0))}function $p(t){null!=t.s&&(vh.clearTimeout(t.s),t.s=null)}function Wp(t){t.a=new xf(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Bf(t.la);$f(e,"RID","rpc"),$f(e,"SID",t.J),$f(e,"CI",t.H?"0":"1"),$f(e,"AID",t.P),Hp(t,e),$f(e,"TYPE","xmlhttp"),t.i&&t.l&&Np(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Wf(Bf(e)),n.j=null,n.I=!0,Of(n,t)}function Kp(t){null!=t.m&&(vh.clearTimeout(t.m),t.m=null)}function Yp(t,e){var n=null;if(t.a==e){Kp(t),$p(t),t.a=null;var r=2}else{if(!pp(t.b,e))return;n=e.s,mp(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ah()-e.u;var i=t.u;(r=of()).dispatchEvent(new hf(r,n,e,i)),Qp(t)}else qp(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(fp(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=df(Th(t.Ba,t,e),Zp(t,t.u)),t.u++,0)))}(t,e)||2==r&&Gp(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Xp(t,5);break;case 4:Xp(t,10);break;case 3:Xp(t,6);break;default:Xp(t,2)}}function Zp(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Xp(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Th(t.Xa,t);n||(n=new Qf("//www.google.com/images/cleardot.gif"),vh.location&&"http"==vh.location.protocol||Hf(n,"https"),Wf(n)),function(t,e){var n=new nf;if(vh.Image){var r=new Image;r.onload=kh(wp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=kh(wp,n,r,"TestLoadImage: error",!1,e),r.onabort=kh(wp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=kh(wp,n,r,"TestLoadImage: timeout",!1,e),vh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else lf(2);t.v=0,t.f&&t.f.ra(e),Jp(t),Vp(t)}function Jp(t){t.v=0,t.I=-1,t.f&&(0==bp(t.b).length&&0==t.g.length||(t.b.c.length=0,Rh(t.g),t.g.length=0),t.f.qa())}function tg(t,e,n){var r=function(t){return t instanceof Qf?Bf(t):new Qf(t,void 0)}(n);if(""!=r.c)e&&zf(r,e+"."+r.c),qf(r,r.h);else{var i=vh.location;r=function(t,e,n,r){var i=new Qf(null,void 0);return t&&Hf(i,t),e&&zf(i,e),n&&qf(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&zh(t.W,(function(t,e){$f(r,e,t)})),n=t.na,(e=t.A)&&n&&$f(r,e,n),$f(r,"VER",t.ha),Hp(t,r),r}function eg(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pp(t.Ka)).F=t.C,e}function ng(){}function rg(){if(Xh&&!(10<=Number(ud)))throw Error("Environmental error: no available transport.")}function ig(t,e){Nd.call(this),this.a=new Rp(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Lh(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lh(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ag(this)}function sg(t){vf.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function og(){_f.call(this),this.status=1}function ag(t){this.a=t}(mh=Pp.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:bf),this.a.onreadystatechange=Th(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Tp(this,s)}t=n||"";var i=new Lf(this.headers);r&&Rf(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Op,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=vh.FormData&&t instanceof vh.FormData,!(0<=Mh(Sp,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dp(this),0<this.o&&((this.D=function(t){return Xh&&cd(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Th(this.xa,this)):this.m=Kd(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Tp(this,s)}},mh.xa=function(){void 0!==yh&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},mh.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ip(this))},mh.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ip(this,!0)),Pp.S.G.call(this)},mh.za=function(){this.j||(this.A||this.l||this.g?Ap(this):this.Ta())},mh.Ta=function(){Ap(this)},mh.X=function(){try{return 2<Mp(this)?this.a.status:-1}catch(Yh){return-1}},mh.$=function(){try{return this.a?this.a.responseText:""}catch(Yh){return""}},mh.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xp(e)}},mh.ua=function(){return this.h},mh.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(mh=Rp.prototype).ha=8,mh.v=1,mh.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new xf(this,this.c,t,void 0),r=this.l;if(this.O&&(r?$h(r=qh(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zp(this,n,e),$f(i=Bf(this.B),"RID",t),$f(i,"CVER",22),this.A&&$f(i,"X-HTTP-Session-Id",this.A),Hp(this,i),this.i&&r&&Np(i,this.i,r),gp(this.b,n),this.Ga&&$f(i,"TYPE","init"),this.da?($f(i,"$req",e),$f(i,"SID","null"),n.V=!0,Sf(n,i,null)):Sf(n,i,e),this.v=2}}else 3==this.v&&(t?Bp(this,t):0==this.g.length||dp(this.b)||Bp(this))},mh.Aa=function(){if(this.j=null,Wp(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=df(Th(this.Sa,this),t)}},mh.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Fp(this),Wp(this))},mh.Ra=function(){null!=this.m&&(this.m=null,Fp(this),Gp(this),lf(19))},mh.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),lf(2)):(this.c.info("Failed to ping google.com"),lf(1))},(mh=ng.prototype).ta=function(){},mh.sa=function(){},mh.ra=function(){},mh.qa=function(){},mh.Ha=function(){},rg.prototype.a=function(t,e){return new ig(t,e)},Ih(ig,Nd),(mh=ig.prototype).addEventListener=function(t,e,n,r){ig.S.addEventListener.call(this,t,e,n,r)},mh.removeEventListener=function(t,e,n,r){ig.S.removeEventListener.call(this,t,e,n,r)},mh.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;lf(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=tg(t,null,t.fa),Qp(t)},mh.close=function(){Lp(this.a)},mh.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Up(this.a,e)}else this.g?((e={}).__data__=Rd(t),Up(this.a,e)):Up(this.a,t)},mh.G=function(){this.a.f=null,delete this.f,Lp(this.a),delete this.a,ig.S.G.call(this)},Ih(sg,vf),Ih(og,_f),Ih(ag,ng),ag.prototype.ta=function(){this.a.dispatchEvent("a")},ag.prototype.sa=function(t){this.a.dispatchEvent(new sg(t))},ag.prototype.ra=function(t){this.a.dispatchEvent(new og(t))},ag.prototype.qa=function(){this.a.dispatchEvent("b")},rg.prototype.createWebChannel=rg.prototype.a,ig.prototype.send=ig.prototype.Pa,ig.prototype.open=ig.prototype.Oa,ig.prototype.close=ig.prototype.close,ff.NO_ERROR=0,ff.TIMEOUT=8,ff.HTTP_ERROR=6,pf.COMPLETE="complete",mf.EventType=yf,yf.OPEN="a",yf.CLOSE="b",yf.ERROR="c",yf.MESSAGE="d",Nd.prototype.listen=Nd.prototype.va,Pp.prototype.listenOnce=Pp.prototype.wa,Pp.prototype.getLastError=Pp.prototype.Qa,Pp.prototype.getLastErrorCode=Pp.prototype.ua,Pp.prototype.getStatus=Pp.prototype.X,Pp.prototype.getResponseJson=Pp.prototype.Na,Pp.prototype.getResponseText=Pp.prototype.$,Pp.prototype.send=Pp.prototype.ba;var cg=ff,ug=pf,lg=mf,hg=Pp,dg=n("/6Yf"),fg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(lh.c)(e,t),e}(Error),gg=new dh.b("@firebase/firestore");function mg(){return gg.logLevel}function bg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gg.logLevel<=dh.a.DEBUG){var r=e.map(_g);gg.debug.apply(gg,Object(lh.g)(["Firestore (8.0.1): "+t],r))}}function yg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gg.logLevel<=dh.a.ERROR){var r=e.map(_g);gg.error.apply(gg,Object(lh.g)(["Firestore (8.0.1): "+t],r))}}function vg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gg.logLevel<=dh.a.WARN){var r=e.map(_g);gg.warn.apply(gg,Object(lh.g)(["Firestore (8.0.1): "+t],r))}}function _g(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function wg(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.1) INTERNAL ASSERTION FAILED: "+t;throw yg(e),new Error(e)}function xg(t,e){t||wg()}function Pg(t,e){return t}function Eg(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Cg=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Eg(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Sg(t,e){return t<e?-1:t>e?1:0}function Og(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Tg(t){return t+"\0"}var kg=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Sg(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();kg.h=new kg("");var Ag=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(kg.fromBase64String(e))}catch(e){throw new pg(fg.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(kg.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}();function Ig(){if("undefined"==typeof Uint8Array)throw new pg(fg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Dg(){if("undefined"==typeof atob)throw new pg(fg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(lh.c)(e,t),e.fromBase64String=function(t){Dg();try{return new e(kg.fromBase64String(t))}catch(t){throw new pg(fg.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return Ig(),new e(kg.fromUint8Array(t))},e.prototype.toBase64=function(){return Dg(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return Ig(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ag),Ng=function(t,e,n,r,i,s){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=s},jg=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.u=function(t){return Sg(this.projectId,t.projectId)||Sg(this.database,t.database)},t}();function Rg(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fg(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Vg=function(){function t(t,e){this.m=t,this.A=e,this.R={}}return t.prototype.get=function(t){var e=this.m(t),n=this.R[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.A(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Lg(this.R,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.P=function(){return Fg(this.R)},t}(),Ug=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pg(fg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pg(fg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new pg(fg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pg(fg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.g=function(t){return this.seconds===t.seconds?Sg(this.nanoseconds,t.nanoseconds):Sg(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Qg=function(){function t(t){this.timestamp=t}return t.V=function(e){return new t(e)},t.min=function(){return new t(new Ug(0,0))},t.prototype.u=function(t){return this.timestamp.g(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.v=function(){return this.timestamp},t}(),Bg=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&wg(),void 0===n?n=t.length-e:n>t.length-e&&wg(),this.segments=t,this.offset=e,this.S=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.D(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.C(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.N=function(t){return this.C(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},t.prototype.O=function(){return this.segments[this.offset]},t.prototype.k=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.P=function(){return 0===this.length},t.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},t.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Hg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(lh.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.prototype.B=function(){return this.L().join("/")},e.prototype.toString=function(){return this.B()},e.q=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new pg(fg.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.U=function(){return new e([])},e}(Bg),zg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(lh.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.K=function(t){return zg.test(t)},e.prototype.B=function(){return this.L().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.K(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.B()},e.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},e.j=function(){return new e(["__name__"])},e.G=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new pg(fg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new pg(fg.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new pg(fg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new pg(fg.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.U=function(){return new e([])},e}(Bg),Gg=function(){function t(t){this.path=t}return t.H=function(e){return new t(Hg.q(e))},t.Y=function(e){return new t(Hg.q(e).N(5))},t.prototype.J=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Hg.D(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.D=function(t,e){return Hg.D(t.path,e.path)},t.X=function(t){return t.length%2==0},t.Z=function(e){return new t(new Hg(e.slice()))},t}();function $g(t){return null==t}function Wg(t){return 0===t&&1/t==-1/0}function Kg(t){return"number"==typeof t&&Number.isInteger(t)&&!Wg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Yg=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.tt=null};function Zg(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Yg(t,e,n,r,i,s,o)}function Xg(t){var e=Pg(t);if(null===e.tt){var n=e.path.B();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.B()+t.op.toString()+Bm(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.B()+e.dir;var e})).join(","),$g(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Hy(e.startAt)),e.endAt&&(n+="|ub:",n+=Hy(e.endAt)),e.tt=n}return e.tt}function Jg(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Wy(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Fm(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qy(t.startAt,e.startAt)&&qy(t.endAt,e.endAt)}function tm(t){return Gg.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}var em,nm,rm=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Qg.min()),void 0===s&&(s=Qg.min()),void 0===o&&(o=kg.h),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),im=function(t){this.count=t};function sm(t){switch(t){case fg.OK:return wg();case fg.CANCELLED:case fg.UNKNOWN:case fg.DEADLINE_EXCEEDED:case fg.RESOURCE_EXHAUSTED:case fg.INTERNAL:case fg.UNAVAILABLE:case fg.UNAUTHENTICATED:return!1;case fg.INVALID_ARGUMENT:case fg.NOT_FOUND:case fg.ALREADY_EXISTS:case fg.PERMISSION_DENIED:case fg.FAILED_PRECONDITION:case fg.ABORTED:case fg.OUT_OF_RANGE:case fg.UNIMPLEMENTED:case fg.DATA_LOSS:return!0;default:return wg()}}function om(t){if(void 0===t)return yg("GRPC error has no .code"),fg.UNKNOWN;switch(t){case em.OK:return fg.OK;case em.CANCELLED:return fg.CANCELLED;case em.UNKNOWN:return fg.UNKNOWN;case em.DEADLINE_EXCEEDED:return fg.DEADLINE_EXCEEDED;case em.RESOURCE_EXHAUSTED:return fg.RESOURCE_EXHAUSTED;case em.INTERNAL:return fg.INTERNAL;case em.UNAVAILABLE:return fg.UNAVAILABLE;case em.UNAUTHENTICATED:return fg.UNAUTHENTICATED;case em.INVALID_ARGUMENT:return fg.INVALID_ARGUMENT;case em.NOT_FOUND:return fg.NOT_FOUND;case em.ALREADY_EXISTS:return fg.ALREADY_EXISTS;case em.PERMISSION_DENIED:return fg.PERMISSION_DENIED;case em.FAILED_PRECONDITION:return fg.FAILED_PRECONDITION;case em.ABORTED:return fg.ABORTED;case em.OUT_OF_RANGE:return fg.OUT_OF_RANGE;case em.UNIMPLEMENTED:return fg.UNIMPLEMENTED;case em.DATA_LOSS:return fg.DATA_LOSS;default:return wg()}}(nm=em||(em={}))[nm.OK=0]="OK",nm[nm.CANCELLED=1]="CANCELLED",nm[nm.UNKNOWN=2]="UNKNOWN",nm[nm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nm[nm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nm[nm.NOT_FOUND=5]="NOT_FOUND",nm[nm.ALREADY_EXISTS=6]="ALREADY_EXISTS",nm[nm.PERMISSION_DENIED=7]="PERMISSION_DENIED",nm[nm.UNAUTHENTICATED=16]="UNAUTHENTICATED",nm[nm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nm[nm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nm[nm.ABORTED=10]="ABORTED",nm[nm.OUT_OF_RANGE=11]="OUT_OF_RANGE",nm[nm.UNIMPLEMENTED=12]="UNIMPLEMENTED",nm[nm.INTERNAL=13]="INTERNAL",nm[nm.UNAVAILABLE=14]="UNAVAILABLE",nm[nm.DATA_LOSS=15]="DATA_LOSS";var am=function(){function t(t,e){this.D=t,this.root=e||um.EMPTY}return t.prototype.ot=function(e,n){return new t(this.D,this.root.ot(e,n,this.D).copy(null,null,um.at,null,null))},t.prototype.remove=function(e){return new t(this.D,this.root.remove(e,this.D).copy(null,null,um.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.P=function(){return this.root.P()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new cm(this.root,null,this.D,!1)},t.prototype.ft=function(t){return new cm(this.root,t,this.D,!1)},t.prototype.dt=function(){return new cm(this.root,null,this.D,!0)},t.prototype.wt=function(t){return new cm(this.root,t,this.D,!0)},t}(),cm=function(){function t(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}return t.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},t.prototype.At=function(){return this.Tt.length>0},t.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),um=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.P=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.P()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.P()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},t.prototype.gt=function(){if(this.left.P())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.gt(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.P()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.P()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.P())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.gt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.yt=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw wg();if(this.right.yt())throw wg();var t=this.left.Nt();if(t!==this.right.Nt())throw wg();return t+(this.yt()?0:1)},t}();um.EMPTY=null,um.RED=!0,um.at=!1,um.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw wg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw wg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw wg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw wg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw wg()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new um(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.P=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var lm=function(){function t(t){this.D=t,this.data=new am(this.D)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.D(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.Ot=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new hm(this.data._t())},t.prototype.ft=function(t){return new hm(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.P=function(){return this.data.P()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,s=r.It().key;if(0!==this.D(i,s))return!1}return!0},t.prototype.L=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.D);return n.data=e,n},t}(),hm=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),dm=new am(Gg.D);function fm(){return dm}function pm(){return fm()}var gm=new am(Gg.D);function mm(){return gm}var bm=new am(Gg.D),ym=new lm(Gg.D);function vm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ym,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var _m=new lm(Sg);function wm(){return _m}var xm=function(){function t(t){this.D=t?function(e,n){return t(e,n)||Gg.D(e.key,n.key)}:function(t,e){return Gg.D(t.key,e.key)},this.$t=mm(),this.Lt=new am(this.D)}return t.Bt=function(e){return new t(e.D)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.P=function(){return this.Lt.P()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,s=r.It().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.D=this.D,r.$t=e,r.Lt=n,r},t}(),Pm=function(){function t(){this.qt=new am(Gg.D)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):wg():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),Em=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=s,this.Wt=o,this.jt=a}return t.Gt=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,xm.Bt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Ty(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Cm=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,Sm.Zt(e,n)),new t(Qg.min(),r,wm(),fm(),vm())},t}(),Sm=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(kg.h,n,vm(),vm(),vm())},t}(),Om=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Tm=function(t,e){this.targetId=t,this.oe=e},km=function(t,e,n,r){void 0===n&&(n=kg.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Am=function(){function t(){this.ae=0,this.ce=Mm(),this.ue=kg.h,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.o()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=vm(),e=vm(),n=vm();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:wg()}})),new Sm(this.ue,this.he,t,e,n)},t.prototype.Ee=function(){this.le=!1,this.ce=Mm()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ie=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.me=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Im=function(){function t(t){this.Pe=t,this.ge=new Map,this.ye=fm(),this.Ve=Dm(),this.pe=new lm(Sg)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof dy?this.ve(r,t.re):t.re instanceof fy&&this.Se(r,t.key,t.re)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Se(s[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:wg()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ge.forEach((function(t,r){n.xe(r)&&e(r)}))},t.prototype.Oe=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(tm(i))if(0===n){var s=new Gg(i.path);this.Se(e,s,new fy(s,Qg.min()))}else xg(1===n);else this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach((function(r,i){var s=e.ke(i);if(s){if(r.te&&tm(s.target)){var o=new Gg(s.target.path);null!==e.ye.get(o)||e.Le(i,o)||e.Se(i,o,new fy(o,t))}r.fe&&(n.set(i,r.we()),r.Ee())}}));var r=vm();this.Ve.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Cm(t,n,this.pe,this.ye,r);return this.ye=fm(),this.Ve=Dm(),this.pe=new lm(Sg),i},t.prototype.ve=function(t,e){if(this.xe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.xe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ie(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.ge.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},t.prototype.me=function(t){this.Ne(t).me()},t.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new Am,this.ge.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new lm(Sg),this.Ve=this.Ve.ot(t,e)),e},t.prototype.xe=function(t){var e=null!==this.ke(t);return e||bg("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},t.prototype.Fe=function(t){var e=this;this.ge.set(t,new Am),this.Pe.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},t}();function Dm(){return new am(Gg.D)}function Mm(){return new am(Gg.D)}function Nm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jm(t){var e=Hm(t.mapValue.fields.__local_write_time__.timestampValue);return new Ug(e.seconds,e.nanos)}var Rm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lm(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nm(t)?4:10:wg()}function Fm(t,e){var n=Lm(t);if(n!==Lm(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jm(t).isEqual(jm(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Hm(t.timestampValue),r=Hm(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return qm(t.bytesValue).isEqual(qm(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return zm(t.geoPointValue.latitude)===zm(e.geoPointValue.latitude)&&zm(t.geoPointValue.longitude)===zm(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return zm(t.integerValue)===zm(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=zm(t.doubleValue),r=zm(e.doubleValue);return n===r?Wg(n)===Wg(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Og(t.arrayValue.values||[],e.arrayValue.values||[],Fm);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Rg(n)!==Rg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fm(n[i],r[i])))return!1;return!0}(t,e);default:return wg()}}function Vm(t,e){return void 0!==(t.values||[]).find((function(t){return Fm(t,e)}))}function Um(t,e){var n=Lm(t),r=Lm(e);if(n!==r)return Sg(n,r);switch(n){case 0:return 0;case 1:return Sg(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=zm(t.integerValue||t.doubleValue),r=zm(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Qm(t.timestampValue,e.timestampValue);case 4:return Qm(jm(t),jm(e));case 5:return Sg(t.stringValue,e.stringValue);case 6:return function(t,e){var n=qm(t),r=qm(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Sg(n[i],r[i]);if(0!==s)return s}return Sg(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Sg(zm(t.latitude),zm(e.latitude));return 0!==n?n:Sg(zm(t.longitude),zm(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Um(n[i],r[i]);if(s)return s}return Sg(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Sg(r[o],s[o]);if(0!==a)return a;var c=Um(n[r[o]],i[s[o]]);if(0!==c)return c}return Sg(r.length,s.length)}(t.mapValue,e.mapValue);default:throw wg()}}function Qm(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Sg(t,e);var n=Hm(t),r=Hm(e),i=Sg(n.seconds,r.seconds);return 0!==i?i:Sg(n.nanos,r.nanos)}function Bm(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Hm(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?qm(e.bytesValue).toBase64():"referenceValue"in e?Gg.Y(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):wg();var n}(t)}function Hm(t){if(xg(!!t),"string"==typeof t){var e=0,n=Rm.exec(t);if(xg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zm(t.seconds),nanos:zm(t.nanos)}}function zm(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function qm(t){return"string"==typeof t?kg.fromBase64String(t):kg.fromUint8Array(t)}function Gm(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function $m(t){return!!t&&"integerValue"in t}function Wm(t){return!!t&&"arrayValue"in t}function Km(t){return!!t&&"nullValue"in t}function Ym(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zm(t){return!!t&&"mapValue"in t}var Xm={asc:"ASCENDING",desc:"DESCENDING"},Jm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tb=function(t,e){this._=t,this.Ke=e};function eb(t){return{integerValue:""+t}}function nb(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wg(e)?"-0":e}}function rb(t,e){return Kg(e)?eb(e):nb(t,e)}function ib(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function sb(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function ob(t,e){return ib(t,e.v())}function ab(t){return xg(!!t),Qg.V(function(t){var e=Hm(t);return new Ug(e.seconds,e.nanos)}(t))}function cb(t,e){return function(t){return new Hg(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).B()}function ub(t){var e=Hg.q(t);return xg(Ab(e)),e}function lb(t,e){return cb(t._,e.path)}function hb(t,e){var n=ub(e);return xg(n.get(1)===t._.projectId),xg(!n.get(3)&&!t._.database||n.get(3)===t._.database),new Gg(gb(n))}function db(t,e){return cb(t._,e)}function fb(t){var e=ub(t);return 4===e.length?Hg.U():gb(e)}function pb(t){return new Hg(["projects",t._.projectId,"databases",t._.database]).B()}function gb(t){return xg(t.length>4&&"documents"===t.get(4)),t.N(5)}function mb(t,e,n){return{name:lb(t,e),fields:n.proto.mapValue.fields}}function bb(t,e){var n;if(e instanceof ty)n={update:mb(t,e.key,e.value)};else if(e instanceof oy)n={delete:lb(t,e.key)};else if(e instanceof ey)n={update:mb(t,e.key,e.data),updateMask:kb(e.Qe)};else if(e instanceof ry)n={transform:{document:lb(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof jb)return{fieldPath:e.field.B(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rb)return{fieldPath:e.field.B(),appendMissingElements:{values:n.elements}};if(n instanceof Fb)return{fieldPath:e.field.B(),removeAllFromArray:{values:n.elements}};if(n instanceof Ub)return{fieldPath:e.field.B(),increment:n.We};throw wg()}(0,t)}))}};else{if(!(e instanceof ay))return wg();n={verify:lb(t,e.key)}}return e.Ge.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ob(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:wg()}(t,e.Ge)),n}function yb(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Gb.updateTime(ab(t.updateTime)):void 0!==t.exists?Gb.exists(t.exists):Gb.ze()}(e.currentDocument):Gb.ze();if(e.update){var r=hb(t,e.update.name),i=new cy({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Hb((t.fieldPaths||[]).map((function(t){return qg.G(t)})))}(e.updateMask);return new ey(r,i,s,n)}return new ty(r,i,n)}if(e.delete){var o=hb(t,e.delete);return new oy(o,n)}if(e.transform){var a=hb(t,e.transform.document),c=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(xg("REQUEST_TIME"===e.setToServerValue),n=new jb):"appendMissingElements"in e?n=new Rb(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Fb(e.removeAllFromArray.values||[]):"increment"in e?n=new Ub(t,e.increment):wg();var r=qg.G(e.fieldPath);return new zb(r,n)}(t,e)}));return xg(!0===n.exists),new ry(a,c)}if(e.verify){var u=hb(t,e.verify);return new ay(u,n)}return wg()}function vb(t,e){return{documents:[db(t,e.path)]}}function _b(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=db(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=db(t,r.F()),n.structuredQuery.from=[{collectionId:r.k()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ym(t.value))return{unaryFilter:{field:Cb(t.field),op:"IS_NAN"}};if(Km(t.value))return{unaryFilter:{field:Cb(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ym(t.value))return{unaryFilter:{field:Cb(t.field),op:"IS_NOT_NAN"}};if(Km(t.value))return{unaryFilter:{field:Cb(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cb(t.field),op:Eb(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Cb(t.field),direction:Pb(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Ke||$g(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=wb(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wb(e.endAt)),n}function wb(t){return{before:t.before,values:t.position}}function xb(t){return new By(t.values||[],!!t.before)}function Pb(t){return Xm[t]}function Eb(t){return Jm[t]}function Cb(t){return{fieldPath:t.B()}}function Sb(t){return qg.G(t.fieldPath)}function Ob(t){return My.create(Sb(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return wg()}}(t.fieldFilter.op),t.fieldFilter.value)}function Tb(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Sb(t.unaryFilter.field);return My.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Sb(t.unaryFilter.field);return My.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Sb(t.unaryFilter.field);return My.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Sb(t.unaryFilter.field);return My.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return wg()}}function kb(t){var e=[];return t.fields.forEach((function(t){return e.push(t.B())})),{fieldPaths:e}}function Ab(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ib=function(){this.He=void 0};function Db(t,e,n){return t instanceof jb?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Rb?Lb(t,e):t instanceof Fb?Vb(t,e):function(t,e){var n=Nb(t,e),r=Qb(n)+Qb(t.We);return $m(n)&&$m(t.We)?eb(r):nb(t.serializer,r)}(t,e)}function Mb(t,e,n){return t instanceof Rb?Lb(t,e):t instanceof Fb?Vb(t,e):n}function Nb(t,e){return t instanceof Ub?$m(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var jb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(lh.c)(e,t),e}(Ib),Rb=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(lh.c)(e,t),e}(Ib);function Lb(t,e){for(var n=Bb(e),r=function(t){n.some((function(e){return Fm(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Fb=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(lh.c)(e,t),e}(Ib);function Vb(t,e){for(var n=Bb(e),r=function(t){n=n.filter((function(e){return!Fm(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ub=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return Object(lh.c)(e,t),e}(Ib);function Qb(t){return zm(t.integerValue||t.doubleValue)}function Bb(t){return Wm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Hb=function(){function t(t){this.fields=t,t.sort(qg.D)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},t.prototype.isEqual=function(t){return Og(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),zb=function(t,e){this.field=t,this.transform=e},qb=function(t,e){this.version=t,this.transformResults=e},Gb=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function $b(t,e){return void 0!==t.updateTime?e instanceof dy&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof dy}var Wb=function(){};function Kb(t,e,n){return t instanceof ty?function(t,e,n){return new dy(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof ey?function(t,e,n){if(!$b(t.Ge,e))return new py(t.key,n.version);var r=ny(t,e);return new dy(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ry?function(t,e,n){if(xg(null!=n.transformResults),!$b(t.Ge,e))return new py(t.key,n.version);var r=iy(0,e),i=function(t,e,n){var r=[];xg(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof dy&&(a=e.field(s.field)),r.push(Mb(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=sy(t,r.data(),i);return new dy(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new fy(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Yb(t,e,n,r){return t instanceof ty?function(t,e){if(!$b(t.Ge,e))return e;var n=Jb(e);return new dy(t.key,n,t.value,{Je:!0})}(t,e):t instanceof ey?function(t,e){if(!$b(t.Ge,e))return e;var n=Jb(e),r=ny(t,e);return new dy(t.key,n,r,{Je:!0})}(t,e):t instanceof ry?function(t,e,n,r){if(!$b(t.Ge,e))return e;var i=iy(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],c=a.transform,u=null;n instanceof dy&&(u=n.field(a.field)),null===u&&r instanceof dy&&(u=r.field(a.field)),i.push(Db(c,u,e))}return i}(t.fieldTransforms,n,e,r),o=sy(t,i.data(),s);return new dy(t.key,i.version,o,{Je:!0})}(t,e,r,n):function(t,e){return $b(t.Ge,e)?new fy(t.key,Qg.min()):e}(t,e)}function Zb(t,e){return t instanceof ry?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof dy?e.field(s.field):void 0,a=Nb(s.transform,o||null);null!=a&&(n=null==n?(new uy).set(s.field,a):n.set(s.field,a))}return n?n.Xe():null}(t,e):null}function Xb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||Og(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Rb&&e instanceof Rb||t instanceof Fb&&e instanceof Fb?Og(t.elements,e.elements,Fm):t instanceof Ub&&e instanceof Ub?Fm(t.We,e.We):t instanceof jb&&e instanceof jb}(t.transform,e.transform)}(t,e)})))}function Jb(t){return t instanceof dy?t.version:Qg.min()}var ty=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return Object(lh.c)(e,t),e}(Wb),ey=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Qe=r,s.Ge=i,s.type=1,s}return Object(lh.c)(e,t),e}(Wb);function ny(t,e){return function(t,e){var n=new uy(e);return t.Qe.fields.forEach((function(e){if(!e.P()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof dy?e.data():cy.empty())}var ry=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=Gb.exists(!0),r}return Object(lh.c)(e,t),e}(Wb);function iy(t,e){return e}function sy(t,e,n){for(var r=new uy(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var oy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return Object(lh.c)(e,t),e}(Wb),ay=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return Object(lh.c)(e,t),e}(Wb),cy=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Zm(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.k()])||null},t.prototype.isEqual=function(t){return Fm(this.proto,t.proto)},t}(),uy=function(){function t(t){void 0===t&&(t=cy.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Lm(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.k(),e)},t.prototype.Xe=function(){var t=this.nn(qg.U(),this.tn);return null!=t?new cy(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),s=Zm(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.nn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function ly(t){var e=[];return Lg(t.fields||{},(function(t,n){var r=new qg([t]);if(Zm(n)){var i=ly(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Hb(e)}var hy=function(t,e){this.key=t,this.version=e},dy=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).sn=r,s.Je=!!i.Je,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(lh.c)(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(hy),fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(lh.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hy),py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(lh.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hy),gy=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=s,this.startAt=o,this.endAt=a,this.cn=null,this.un=null};function my(t,e,n,r,i,s,o,a){return new gy(t,e,n,r,i,s,o,a)}function by(t){return new gy(t)}function yy(t){return!$g(t.limit)&&"F"===t.an}function vy(t){return!$g(t.limit)&&"L"===t.an}function _y(t){return t.on.length>0?t.on[0].field:null}function wy(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function xy(t){return null!==t.collectionGroup}function Py(t){var e=Pg(t);if(null===e.cn){e.cn=[];var n=wy(e),r=_y(e);if(null!==n&&null===r)n.W()||e.cn.push(new Gy(n)),e.cn.push(new Gy(qg.j(),"asc"));else{for(var i=!1,s=0,o=e.on;s<o.length;s++){var a=o[s];e.cn.push(a),a.field.W()&&(i=!0)}if(!i){var c=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new Gy(qg.j(),c))}}}return e.cn}function Ey(t){var e=Pg(t);if(!e.un)if("F"===e.an)e.un=Zg(e.path,e.collectionGroup,Py(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Py(e);r<i.length;r++){var s=i[r];n.push(new Gy(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new By(e.endAt.position,!e.endAt.before):null,a=e.startAt?new By(e.startAt.position,!e.startAt.before):null;e.un=Zg(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.un}function Cy(t,e,n){return new gy(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sy(t,e){return new gy(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Oy(t,e){return new gy(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Ty(t,e){return Jg(Ey(t),Ey(e))&&t.an===e.an}function ky(t){return Xg(Ey(t))+"|lt:"+t.an}function Ay(t){return"Query(target="+function(t){var e=t.path.B();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.B()+" "+e.op+" "+Bm(e.value);var e})).join(", ")+"]"),$g(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.B()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Hy(t.startAt)),t.endAt&&(e+=", endAt: "+Hy(t.endAt)),"Target("+e+")"}(Ey(t))+"; limitType="+t.an+")"}function Iy(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.J(t.collectionGroup)&&t.path.M(n):Gg.X(t.path)?t.path.isEqual(n):t.path.$(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!zy(t.startAt,Py(t),e)||t.endAt&&zy(t.endAt,Py(t),e))}(t,e)}function Dy(t){return function(e,n){for(var r=!1,i=0,s=Py(t);i<s.length;i++){var o=s[i],a=$y(o,e,n);if(0!==a)return a;r=r||o.field.W()}return 0}}var My=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(lh.c)(e,t),e.create=function(t,n,r){return t.W()?"in"===n||"not-in"===n?this.ln(t,n,r):new Ny(t,n,r):"array-contains"===n?new Fy(t,r):"in"===n?new Vy(t,r):"not-in"===n?new Uy(t,r):"array-contains-any"===n?new Qy(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new jy(t,n):new Ry(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(Um(e,this.value)):null!==e&&Lm(this.value)===Lm(e)&&this._n(Um(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return wg()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ny=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Gg.Y(r.referenceValue),i}return Object(lh.c)(e,t),e.prototype.matches=function(t){var e=Gg.D(t.key,this.key);return this._n(e)},e}(My),jy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ly(0,n),r}return Object(lh.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(My),Ry=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ly(0,n),r}return Object(lh.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(My);function Ly(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Gg.Y(t.referenceValue)}))}var Fy=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(lh.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Wm(e)&&Vm(e.arrayValue,this.value)},e}(My),Vy=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(lh.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Vm(this.value.arrayValue,e)},e}(My),Uy=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(lh.c)(e,t),e.prototype.matches=function(t){if(Vm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Vm(this.value.arrayValue,e)},e}(My),Qy=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(lh.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Vm(e.value.arrayValue,t)}))},e}(My),By=function(t,e){this.position=t,this.before=e};function Hy(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Bm(t)})).join(",")}function zy(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.W()?Gg.D(Gg.Y(o.referenceValue),n.key):Um(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function qy(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Fm(t.position[n],e.position[n]))return!1;return!0}var Gy=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function $y(t,e,n){var r=t.field.W()?Gg.D(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Um(r,i):wg()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return wg()}}function Wy(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ky=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Yy=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.In=0},t.prototype.Rn=function(){this.In=this.Tn},t.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&bg("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},t.prototype.Vn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},t.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},t.prototype.gn=function(){return(Math.random()-.5)*this.In},t}(),Zy=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&wg(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.xn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.On=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.On(r)},t}(),Xy=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.$n(Object(fh.h)())&&yg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return bg("SimpleDb","Removing database:",t),iv(window.indexedDB.deleteDatabase(t)).xn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=Object(fh.h)(),n=t.$n(e),r=0<n&&n<10,i=t.qn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Kn=function(t,e){return t.store(e)},t.$n=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(t){return Object(lh.b)(this,void 0,void 0,(function(){var e,n=this;return Object(lh.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(bg("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new tv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new pg(fg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new tv(t,n))},i.onupgradeneeded=function(t){bg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){bg("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return n.Wn(t)}),this.db)]}}))}))},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(lh.b)(this,void 0,void 0,(function(){var i,s,o,a,c;return Object(lh.d)(this,(function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(lh.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Qn(t)];case 2:return a.db=h.sent(),e=nv.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Zy.reject(t)})).xn(),c={},o.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return bg("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Jy=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return iv(this.zn.delete())},t}(),tv=function(t){function e(e,n){var r=this;return(r=t.call(this,fg.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(lh.c)(e,t),e}(pg);function ev(t){return"IndexedDbTransactionError"===t.name}var nv=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new Ky,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new tv(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=ov(e.target.error);n.Zn.reject(new tv(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new tv(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(bg("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new rv(e)},t}(),rv=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(bg("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(bg("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),iv(n)},t.prototype.add=function(t){return bg("SimpleDb","ADD",this.store.name,t,t),iv(this.store.add(t))},t.prototype.get=function(t){var e=this;return iv(this.store.get(t)).next((function(n){return void 0===n&&(n=null),bg("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return bg("SimpleDb","DELETE",this.store.name,t),iv(this.store.delete(t))},t.prototype.count=function(){return bg("SimpleDb","COUNT",this.store.name),iv(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){bg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new Zy((function(n,r){e.onerror=function(t){var e=ov(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new Zy((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Jy(i),o=e(i.primaryKey,i.value,s);if(o instanceof Zy){var a=o.catch((function(t){return s.done(),Zy.reject(t)}));n.push(a)}s.Sn?r():null===s.Jn?i.continue():i.continue(s.Jn)}else r()}})).next((function(){return Zy.On(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function iv(t){return new Zy((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ov(t.target.error);n(e)}}))}var sv=!1;function ov(t){var e=Xy.$n(Object(fh.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new pg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sv||(sv=!0,setTimeout((function(){throw r}),0)),r}}return t}function av(){return"undefined"!=typeof window?window:null}function cv(){return"undefined"!=typeof document?document:null}var uv=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new Ky,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new pg(fg.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),lv=function(){function t(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.ys=new Yy(this,"async_queue_retry"),this.Vs=function(){var e=cv();e&&bg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ys.Vn()};var e=cv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=cv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Ts.push(t),e.Ns()}))},t.prototype.Ns=function(){return Object(lh.b)(this,void 0,void 0,(function(){var t,e=this;return Object(lh.d)(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.ys.reset(),[3,4];case 3:if(!ev(t=n.sent()))throw t;return bg("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.ys.Pn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Es.then((function(){return e.Ps=!0,t().catch((function(t){throw e.Rs=t,e.Ps=!1,yg("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ps=!1,t}))}));return this.Es=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.gs.indexOf(t)>-1&&(e=0);var i=uv._s(this,t,e,n,(function(t){return r.xs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&wg()},t.prototype.Fs=function(){},t.prototype.Os=function(){return Object(lh.b)(this,void 0,void 0,(function(){var t;return Object(lh.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.Os().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.Os()}))},t.prototype.$s=function(t){this.gs.push(t)},t.prototype.xs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function hv(t,e){if(yg("AsyncQueue",e+": "+t),ev(t))return new pg(fg.UNAVAILABLE,e+": "+t);throw t}var dv=function(){this.Ls=void 0,this.listeners=[]},fv=function(){this.Bs=new Vg((function(t){return ky(t)}),Ty),this.onlineState="Unknown",this.qs=new Set};function pv(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c;return Object(lh.d)(this,(function(u){switch(u.label){case 0:if(n=Pg(t),i=!1,(s=n.Bs.get(r=e.query))||(i=!0,s=new dv),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.Us(r)];case 2:return o.Ls=u.sent(),[3,4];case 3:return a=u.sent(),c=hv(a,"Initialization of query '"+Ay(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(r,s),s.listeners.push(e),e.Ks(n.onlineState),s.Ls&&e.Qs(s.Ls)&&yv(n),[2]}}))}))}function gv(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(lh.d)(this,(function(a){return n=Pg(t),i=!1,(s=n.Bs.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.Bs.delete(r),n.Ws(r))]:[2]}))}))}function mv(t,e){for(var n=Pg(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.Bs.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Qs(o)&&(r=!0);a.Ls=o}}r&&yv(n)}function bv(t,e,n){var r=Pg(t),i=r.Bs.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.Bs.delete(e)}function yv(t){t.qs.forEach((function(t){t.next()}))}var vv=function(){function t(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Em(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var s=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),s=!0):this.Ys(t,this.onlineState)&&(this.Js(t),s=!0),this.zs=t,s},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.P()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.Wt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=Em.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},t}(),_v=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();_v.UNAUTHENTICATED=new _v(null),_v.ei=new _v("google-credentials-uid"),_v.ni=new _v("first-party-uid");var wv=function(t,e){this.user=e,this.type="OAuth",this.si={},this.si.Authorization="Bearer "+t},xv=function(){function t(){this.ii=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ri=function(){},t.prototype.oi=function(t){this.ii=t,t(_v.UNAUTHENTICATED)},t.prototype.ai=function(){this.ii=null},t}(),Pv=function(){function t(t){var e=this;this.ci=null,this.currentUser=_v.UNAUTHENTICATED,this.ui=!1,this.hi=0,this.ii=null,this.forceRefresh=!1,this.ci=function(){e.hi++,e.currentUser=e.li(),e.ui=!0,e.ii&&e.ii(e.currentUser)},this.hi=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ci):(this.ci(null),t.get().then((function(t){e.auth=t,e.ci&&e.auth.addAuthTokenListener(e.ci)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.hi,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.hi!==e?(bg("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(xg("string"==typeof n.accessToken),new wv(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ri=function(){this.forceRefresh=!0},t.prototype.oi=function(t){this.ii=t,this.ui&&t(this.currentUser)},t.prototype.ai=function(){this.auth&&this.auth.removeAuthTokenListener(this.ci),this.ci=null,this.ii=null},t.prototype.li=function(){var t=this.auth&&this.auth.getUid();return xg(null===t||"string"==typeof t),new _v(t)},t}(),Ev=function(){function t(t,e){this._i=t,this.fi=e,this.type="FirstParty",this.user=_v.ni}return Object.defineProperty(t.prototype,"si",{get:function(){var t={"X-Goog-AuthUser":this.fi},e=this._i.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Cv=function(){function t(t,e){this._i=t,this.fi=e}return t.prototype.getToken=function(){return Promise.resolve(new Ev(this._i,this.fi))},t.prototype.oi=function(t){t(_v.ni)},t.prototype.ai=function(){},t.prototype.ri=function(){},t}(),Sv=function(){function t(t,e,n,r){this.batchId=t,this.di=e,this.baseMutations=n,this.mutations=r}return t.prototype.wi=function(t,e,n){for(var r=n.Ei,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Kb(s,e,r[i]))}return e},t.prototype.Ti=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Yb(i,e,e,this.di))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var c=a[o];c.key.isEqual(t)&&(e=Yb(c,e,s,this.di))}return e},t.prototype.Ii=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ti(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),vm())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Og(this.mutations,t.mutations,(function(t,e){return Xb(t,e)}))&&Og(this.baseMutations,t.baseMutations,(function(t,e){return Xb(t,e)}))},t}(),Ov=function(){function t(t,e,n,r){this.batch=t,this.mi=e,this.Ei=n,this.Ai=r}return t.from=function(e,n,r){xg(e.mutations.length===r.length);for(var i=bm,s=e.mutations,o=0;o<s.length;o++)i=i.ot(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Tv=function(){function t(){this.Ri=new Vg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Pi=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.gi},set:function(t){this.gi=t},enumerable:!1,configurable:!0}),t.prototype.yi=function(t,e){this.Vi(),this.readTime=e,this.Ri.set(t.key,t)},t.prototype.pi=function(t,e){this.Vi(),e&&(this.readTime=e),this.Ri.set(t,null)},t.prototype.bi=function(t,e){this.Vi();var n=this.Ri.get(e);return void 0!==n?Zy.resolve(n):this.vi(t,e)},t.prototype.getEntries=function(t,e){return this.Si(t,e)},t.prototype.apply=function(t){return this.Vi(),this.Pi=!0,this.Di(t)},t.prototype.Vi=function(){},t}(),kv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Av=function(){function t(){this.Ci=[]}return t.prototype.Ni=function(t){this.Ci.push(t)},t.prototype.xi=function(){this.Ci.forEach((function(t){return t()}))},t}(),Iv=function(){function t(t,e,n){this.Fi=t,this.Oi=e,this.ki=n}return t.prototype.Mi=function(t,e){var n=this;return this.Oi.$i(t,e).next((function(r){return n.Li(t,e,r)}))},t.prototype.Li=function(t,e,n){return this.Fi.bi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ti(e,t);return t}))},t.prototype.Bi=function(t,e,n){var r=pm();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Ti(t,e);r=r.ot(t,e)})),r},t.prototype.qi=function(t,e){var n=this;return this.Fi.getEntries(t,e).next((function(e){return n.Ui(t,e)}))},t.prototype.Ui=function(t,e){var n=this;return this.Oi.Ki(t,e).next((function(r){var i=n.Bi(t,e,r),s=fm();return i.forEach((function(t,e){e||(e=new fy(t,Qg.min())),s=s.ot(t,e)})),s}))},t.prototype.Qi=function(t,e,n){return function(t){return Gg.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Wi(t,e.path):xy(e)?this.ji(t,e,n):this.Gi(t,e,n)},t.prototype.Wi=function(t,e){return this.Mi(t,new Gg(e)).next((function(t){var e=mm();return t instanceof dy&&(e=e.ot(t.key,t)),e}))},t.prototype.ji=function(t,e,n){var r=this,i=e.collectionGroup,s=mm();return this.ki.zi(t,i).next((function(o){return Zy.forEach(o,(function(o){var a=function(t,e){return new gy(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,o.child(i));return r.Gi(t,a,n).next((function(t){t.forEach((function(t,e){s=s.ot(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Gi=function(t,e,n){var r,i,s=this;return this.Fi.Qi(t,e,n).next((function(n){return r=n,s.Oi.Hi(t,e)})).next((function(e){return s.Yi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u),h=Yb(c,l,l,s.di);r=h instanceof dy?r.ot(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){Iy(e,n)||(r=r.remove(t))})),r}))},t.prototype.Yi=function(t,e,n){for(var r=vm(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof ey&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Fi.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof dy&&(u=u.ot(t,e))})),u}))},t}(),Dv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ji=n,this.Xi=r}return t.Zi=function(e,n){for(var r=vm(),i=vm(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Mv=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.tr=function(t){return n.er(t)},this.nr=function(t){return e.sr(t)})}return t.prototype.er=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.nr&&this.nr(t),t},t}();function Nv(t,e){var n=t[1],r=e[1],i=Sg(t[0],e[0]);return 0===i?Sg(n,r):i}Mv.ir=-1;var jv=function(){function t(t){this.rr=t,this.buffer=new lm(Nv),this.ar=0}return t.prototype.cr=function(){return++this.ar},t.prototype.ur=function(t){var e=[t,this.cr()];if(this.buffer.size<this.rr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Nv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Rv={hr:!1,lr:0,_r:0,dr:0},Lv=function(){function t(t,e,n){this.wr=t,this.Er=e,this.Tr=n}return t.Ir=function(e){return new t(e,t.mr,t.Ar)},t}();Lv.mr=10,Lv.Ar=1e3,Lv.Rr=new Lv(41943040,Lv.mr,Lv.Ar),Lv.Pr=new Lv(-1,0,0);var Fv=function(){function t(t,e){this.gr=t,this.cs=e,this.yr=!1,this.Vr=null}return t.prototype.start=function(t){-1!==this.gr.params.wr&&this.pr(t)},t.prototype.stop=function(){this.Vr&&(this.Vr.cancel(),this.Vr=null)},Object.defineProperty(t.prototype,"br",{get:function(){return null!==this.Vr},enumerable:!1,configurable:!0}),t.prototype.pr=function(t){var e=this,n=this.yr?3e5:6e4;bg("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Vr=this.cs.yn("lru_garbage_collection",n,(function(){return Object(lh.b)(e,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(n){switch(n.label){case 0:this.Vr=null,this.yr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.vr(this.gr)];case 2:return n.sent(),[3,7];case 3:return ev(e=n.sent())?(bg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,iw(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.pr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Vv=function(){function t(t,e){this.Sr=t,this.params=e}return t.prototype.Dr=function(t,e){return this.Sr.Cr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Nr=function(t,e){var n=this;if(0===e)return Zy.resolve(Mv.ir);var r=new jv(e);return this.Sr.Ce(t,(function(t){return r.ur(t.sequenceNumber)})).next((function(){return n.Sr.Fr(t,(function(t){return r.ur(t)}))})).next((function(){return r.maxValue}))},t.prototype.Or=function(t,e,n){return this.Sr.Or(t,e,n)},t.prototype.kr=function(t,e){return this.Sr.kr(t,e)},t.prototype.Mr=function(t,e){var n=this;return-1===this.params.wr?(bg("LruGarbageCollector","Garbage collection skipped; disabled"),Zy.resolve(Rv)):this.$r(t).next((function(r){return r<n.params.wr?(bg("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.wr),Rv):n.Lr(t,e)}))},t.prototype.$r=function(t){return this.Sr.$r(t)},t.prototype.Lr=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.Dr(t,this.params.Er).next((function(e){return e>u.params.Tr?(bg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.Tr+" from "+e),r=u.params.Tr):r=e,s=Date.now(),u.Nr(t,r)})).next((function(r){return n=r,o=Date.now(),u.Or(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.kr(t,n)})).next((function(t){return c=Date.now(),mg()<=dh.a.DEBUG&&bg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Zy.resolve({hr:!0,lr:r,_r:i,dr:t})}))},t}();function Uv(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Bv(e)),e=Qv(t.get(n),e);return Bv(e)}function Qv(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Bv(t){return t+"\x01\x01"}function Hv(t){var e=t.length;if(xg(e>=2),2===e)return xg("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Hg.U();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&wg(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:wg()}s=o+2}return new Hg(r)}var zv=function(t){this.Br=t};function qv(t,e){if(e.document)return function(t,e,n){var r=hb(t,e.name),i=ab(e.updateTime),s=new cy({mapValue:{fields:e.fields}});return new dy(r,i,s,{hasCommittedMutations:!!n})}(t.Br,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Gg.Z(e.noDocument.path),r=Yv(e.noDocument.readTime);return new fy(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Gg.Z(e.unknownDocument.path),s=Yv(e.unknownDocument.version);return new py(i,s)}return wg()}function Gv(t,e,n){var r=$v(n),i=e.key.path.F().L();if(e instanceof dy){var s=function(t,e){return{name:lb(t,e.key),fields:e.rn().mapValue.fields,updateTime:ib(t,e.version.v())}}(t.Br,e);return new x_(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof fy){var o=e.key.path.L(),a=Kv(e.version),c=e.hasCommittedMutations;return new x_(null,new __(o,a),null,c,r,i)}if(e instanceof py){var u=e.key.path.L(),l=Kv(e.version);return new x_(new w_(u,l),null,null,!0,r,i)}return wg()}function $v(t){var e=t.v();return[e.seconds,e.nanoseconds]}function Wv(t){var e=new Ug(t[0],t[1]);return Qg.V(e)}function Kv(t){var e=t.v();return new g_(e.seconds,e.nanoseconds)}function Yv(t){var e=new Ug(t.seconds,t.nanoseconds);return Qg.V(e)}function Zv(t,e){var n=(e.baseMutations||[]).map((function(e){return yb(t.Br,e)})),r=e.mutations.map((function(e){return yb(t.Br,e)})),i=Ug.fromMillis(e.localWriteTimeMs);return new Sv(e.batchId,i,n,r)}function Xv(t){var e,n,r=Yv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Yv(t.lastLimboFreeSnapshotVersion):Qg.min();return void 0!==t.query.documents?(xg(1===(n=t.query).documents.length),e=Ey(by(fb(n.documents[0])))):e=function(t){var e=fb(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xg(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Tb(e)]:void 0!==e.fieldFilter?[Ob(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):wg():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Gy(Sb(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return $g(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=xb(n.startAt));var l=null;return n.endAt&&(l=xb(n.endAt)),Ey(my(e,i,a,o,c,"F",u,l))}(t.query),new rm(e,t.targetId,0,t.lastListenSequenceNumber,r,i,kg.fromBase64String(t.resumeToken))}function Jv(t,e){var n,r=Kv(e.nt),i=Kv(e.lastLimboFreeSnapshotVersion);n=tm(e.target)?vb(t.Br,e.target):_b(t.Br,e.target);var s=e.resumeToken.toBase64();return new E_(e.targetId,Xg(e.target),r,s,e.sequenceNumber,i,n)}var t_=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ki=n,this.qr=r,this.Ur={}}return t.Kr=function(e,n,r,i){return xg(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.Qr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return r_(t).rs({index:y_.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Wr=function(t,e,n,r){var i=this,s=i_(t),o=r_(t);return o.add({}).next((function(a){xg("number"==typeof a);for(var c=new Sv(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return bb(t.Br,e)})),i=n.mutations.map((function(e){return bb(t.Br,e)}));return new y_(e,n.batchId,n.di.toMillis(),r,i)}(i.serializer,i.userId,c),l=[],h=new lm((function(t,e){return Sg(t.B(),e.B())})),d=0,f=r;d<f.length;d++){var p=f[d],g=v_.key(i.userId,p.key.path,a);h=h.add(p.key.path.F()),l.push(o.put(u)),l.push(s.put(g,v_.PLACEHOLDER))}return h.forEach((function(e){l.push(i.ki.jr(t,e))})),t.Ni((function(){i.Ur[a]=c.keys()})),Zy.On(l).next((function(){return c}))}))},t.prototype.Gr=function(t,e){var n=this;return r_(t).get(e).next((function(t){return t?(xg(t.userId===n.userId),Zv(n.serializer,t)):null}))},t.prototype.zr=function(t,e){var n=this;return this.Ur[e]?Zy.resolve(this.Ur[e]):this.Gr(t,e).next((function(t){if(t){var r=t.keys();return n.Ur[e]=r,r}return null}))},t.prototype.Hr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return r_(t).rs({index:y_.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(xg(e.batchId>=r),s=Zv(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Yr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return r_(t).rs({index:y_.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Jr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return r_(t).ts(y_.userMutationsIndex,n).next((function(t){return t.map((function(t){return Zv(e.serializer,t)}))}))},t.prototype.$i=function(t,e){var n=this,r=v_.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return i_(t).rs({range:i},(function(r,i,o){var a=r[0],c=r[2],u=Hv(r[1]);if(a===n.userId&&e.path.isEqual(u))return r_(t).get(c).next((function(t){if(!t)throw wg();xg(t.userId===n.userId),s.push(Zv(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.Ki=function(t,e){var n=this,r=new lm(Sg),i=[];return e.forEach((function(e){var s=v_.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=i_(t).rs({range:o},(function(t,i,s){var o=t[0],a=t[2],c=Hv(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()}));i.push(a)})),Zy.On(i).next((function(){return n.Xr(t,r)}))},t.prototype.Hi=function(t,e){var n=this,r=e.path,i=r.length+1,s=v_.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new lm(Sg);return i_(t).rs({range:o},(function(t,e,s){var o=t[0],c=t[2],u=Hv(t[1]);o===n.userId&&r.M(u)?u.length===i&&(a=a.add(c)):s.done()})).next((function(){return n.Xr(t,a)}))},t.prototype.Xr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(r_(t).get(e).next((function(t){if(null===t)throw wg();xg(t.userId===n.userId),r.push(Zv(n.serializer,t))})))})),Zy.On(i).next((function(){return r}))},t.prototype.Zr=function(t,e){var n=this;return n_(t.eo,this.userId,e).next((function(r){return t.Ni((function(){n.no(e.batchId)})),Zy.forEach(r,(function(e){return n.qr.so(t,e)}))}))},t.prototype.no=function(t){delete this.Ur[t]},t.prototype.io=function(t){var e=this;return this.Qr(t).next((function(n){if(!n)return Zy.resolve();var r=IDBKeyRange.lowerBound(v_.prefixForUser(e.userId)),i=[];return i_(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Hv(t[1]);i.push(s)}else r.done()})).next((function(){xg(0===i.length)}))}))},t.prototype.ro=function(t,e){return e_(t,this.userId,e)},t.prototype.oo=function(t){var e=this;return s_(t).get(this.userId).next((function(t){return t||new b_(e.userId,-1,"")}))},t}();function e_(t,e,n){var r=v_.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return i_(t).rs({range:s,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function n_(t,e,n){var r=t.store(y_.store),i=t.store(v_.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.rs({range:o},(function(t,e,n){return a++,n.delete()}));s.push(c.next((function(){xg(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=v_.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return Zy.On(s).next((function(){return u}))}function r_(t){return U_.Kn(t,y_.store)}function i_(t){return U_.Kn(t,v_.store)}function s_(t){return U_.Kn(t,b_.store)}var o_=function(){function t(t,e){this.serializer=t,this.ki=e}return t.prototype.yi=function(t,e,n){return u_(t).put(l_(e),n)},t.prototype.pi=function(t,e){var n=u_(t),r=l_(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ao(t,r)}))},t.prototype.bi=function(t,e){var n=this;return u_(t).get(l_(e)).next((function(t){return n.co(t)}))},t.prototype.uo=function(t,e){var n=this;return u_(t).get(l_(e)).next((function(t){var e=n.co(t);return e?{ho:e,size:h_(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=pm();return this.lo(t,e,(function(t,e){var i=n.co(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype._o=function(t,e){var n=this,r=pm(),i=new am(Gg.D);return this.lo(t,e,(function(t,e){var s=n.co(e);s?(r=r.ot(t,s),i=i.ot(t,h_(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{fo:r,do:i}}))},t.prototype.lo=function(t,e,n){if(e.P())return Zy.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),s=i.It();return u_(t).rs({range:r},(function(t,e,r){for(var o=Gg.Z(t);s&&Gg.D(s,o)<0;)n(s,null),s=i.It();s&&s.isEqual(o)&&(n(s,e),s=i.At()?i.It():null),s?r.Xn(s.path.L()):r.done()})).next((function(){for(;s;)n(s,null),s=i.At()?i.It():null}))},t.prototype.Qi=function(t,e,n){var r=this,i=mm(),s=e.path.length+1,o={};if(n.isEqual(Qg.min())){var a=e.path.L();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.L(),u=$v(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=x_.collectionReadTimeIndex}return u_(t).rs(o,(function(t,n,o){if(t.length===s){var a=qv(r.serializer,n);e.path.M(a.key.path)?a instanceof dy&&Iy(e,a)&&(i=i.ot(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.wo=function(t){return new a_(this,!!t&&t.Eo)},t.prototype.To=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return c_(t).get(P_.key).next((function(t){return xg(!!t),t}))},t.prototype.ao=function(t,e){return c_(t).put(P_.key,e)},t.prototype.co=function(t){if(t){var e=qv(this.serializer,t);return e instanceof fy&&e.version.isEqual(Qg.min())?null:e}return null},t}(),a_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Io=e,r.Eo=n,r.mo=new Vg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(lh.c)(e,t),e.prototype.Di=function(t){var e=this,n=[],r=0,i=new lm((function(t,e){return Sg(t.B(),e.B())}));return this.Ri.forEach((function(s,o){var a=e.mo.get(s);if(o){var c=Gv(e.Io.serializer,o,e.readTime);i=i.add(s.path.F());var u=h_(c);r+=u-a,n.push(e.Io.yi(t,s,c))}else if(r-=a,e.Eo){var l=Gv(e.Io.serializer,new fy(s,Qg.min()),e.readTime);n.push(e.Io.yi(t,s,l))}else n.push(e.Io.pi(t,s))})),i.forEach((function(r){n.push(e.Io.ki.jr(t,r))})),n.push(this.Io.updateMetadata(t,r)),Zy.On(n)},e.prototype.vi=function(t,e){var n=this;return this.Io.uo(t,e).next((function(t){return null===t?(n.mo.set(e,0),null):(n.mo.set(e,t.size),t.ho)}))},e.prototype.Si=function(t,e){var n=this;return this.Io._o(t,e).next((function(t){var e=t.fo;return t.do.forEach((function(t,e){n.mo.set(t,e)})),e}))},e}(Tv);function c_(t){return U_.Kn(t,P_.store)}function u_(t){return U_.Kn(t,x_.store)}function l_(t){return t.path.L()}function h_(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw wg();e=t.noDocument}return JSON.stringify(e).length}var d_=function(){function t(){this.Ao=new f_}return t.prototype.jr=function(t,e){return this.Ao.add(e),Zy.resolve()},t.prototype.zi=function(t,e){return Zy.resolve(this.Ao.getEntries(e))},t}(),f_=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.k(),n=t.F(),r=this.index[e]||new lm(Hg.D),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.k(),n=t.F(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new lm(Hg.D)).L()},t}(),p_=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;xg(n<r&&n>=0&&r<=10);var s=new nv("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(m_.store)}(t),function(t){t.createObjectStore(b_.store,{keyPath:b_.keyPath}),t.createObjectStore(y_.store,{keyPath:y_.keyPath,autoIncrement:!0}).createIndex(y_.userMutationsIndex,y_.userMutationsKeyPath,{unique:!0}),t.createObjectStore(v_.store)}(t),T_(t),function(t){t.createObjectStore(x_.store)}(t));var o=Zy.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(C_.store),t.deleteObjectStore(E_.store),t.deleteObjectStore(S_.store)}(t),T_(t)),o=o.next((function(){return function(t){var e=t.store(S_.store),n=new S_(0,0,Qg.min().v(),0);return e.put(S_.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(y_.store).ts().next((function(n){t.deleteObjectStore(y_.store),t.createObjectStore(y_.store,{keyPath:y_.keyPath,autoIncrement:!0}).createIndex(y_.userMutationsIndex,y_.userMutationsKeyPath,{unique:!0});var r=e.store(y_.store),i=n.map((function(t){return r.put(t)}));return Zy.On(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(k_.store,{keyPath:k_.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(P_.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(x_.store);e.createIndex(x_.readTimeIndex,x_.readTimeIndexPath,{unique:!1}),e.createIndex(x_.collectionReadTimeIndex,x_.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(x_.store).rs((function(t,n){e+=h_(n)})).next((function(){var n=new P_(e);return t.store(P_.store).put(P_.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(b_.store),r=t.store(y_.store);return n.ts().next((function(n){return Zy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(y_.userMutationsIndex,i).next((function(r){return Zy.forEach(r,(function(r){xg(r.userId===n.userId);var i=Zv(e.serializer,r);return n_(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(C_.store),n=t.store(x_.store);return t.store(S_.store).get(S_.key).next((function(t){var r=[];return n.rs((function(n,i){var s=new Hg(n),o=function(t){return[0,Uv(t)]}(s);r.push(e.get(o).next((function(n){return n?Zy.resolve():function(n){return e.put(new C_(0,Uv(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Zy.On(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(O_.store,{keyPath:O_.keyPath});var n=e.store(O_.store),r=new f_,i=function(t){if(r.add(t)){var e=t.k(),i=t.F();return n.put({collectionId:e,parent:Uv(i)})}};return e.store(x_.store).rs({ss:!0},(function(t,e){var n=new Hg(t);return i(n.F())})).next((function(){return e.store(v_.store).rs({ss:!0},(function(t,e){var n=Hv(t[1]);return i(n.F())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(E_.store);return n.rs((function(t,r){var i=Xv(r),s=Jv(e.serializer,i);return n.put(s)}))},t}(),g_=function(t,e){this.seconds=t,this.nanoseconds=e},m_=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};m_.store="owner",m_.key="owner";var b_=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};b_.store="mutationQueues",b_.keyPath="userId";var y_=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};y_.store="mutations",y_.keyPath="batchId",y_.userMutationsIndex="userMutationsIndex",y_.userMutationsKeyPath=["userId","batchId"];var v_=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Uv(e)]},t.key=function(t,e,n){return[t,Uv(e),n]},t}();v_.store="documentMutations",v_.PLACEHOLDER=new v_;var __=function(t,e){this.path=t,this.readTime=e},w_=function(t,e){this.path=t,this.version=e},x_=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};x_.store="remoteDocuments",x_.readTimeIndex="readTimeIndex",x_.readTimeIndexPath="readTime",x_.collectionReadTimeIndex="collectionReadTimeIndex",x_.collectionReadTimeIndexPath=["parentPath","readTime"];var P_=function(t){this.byteSize=t};P_.store="remoteDocumentGlobal",P_.key="remoteDocumentGlobalKey";var E_=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};E_.store="targets",E_.keyPath="targetId",E_.queryTargetsIndexName="queryTargetsIndex",E_.queryTargetsKeyPath=["canonicalId","targetId"];var C_=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};C_.store="targetDocuments",C_.keyPath=["targetId","path"],C_.documentTargetsIndex="documentTargetsIndex",C_.documentTargetsKeyPath=["path","targetId"];var S_=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};S_.key="targetGlobalKey",S_.store="targetGlobal";var O_=function(t,e){this.collectionId=t,this.parent=e};function T_(t){t.createObjectStore(C_.store,{keyPath:C_.keyPath}).createIndex(C_.documentTargetsIndex,C_.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(E_.store,{keyPath:E_.keyPath}).createIndex(E_.queryTargetsIndexName,E_.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(S_.store)}O_.store="collectionParents",O_.keyPath=["collectionId","parent"];var k_=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};k_.store="clientMetadata",k_.keyPath="clientId";var A_=Object(lh.g)(Object(lh.g)(Object(lh.g)([b_.store,y_.store,v_.store,x_.store,E_.store,m_.store,S_.store,C_.store],[k_.store]),[P_.store]),[O_.store]),I_=function(){function t(){this.Ro=new f_}return t.prototype.jr=function(t,e){var n=this;if(!this.Ro.has(e)){var r=e.k(),i=e.F();t.Ni((function(){n.Ro.add(e)}));var s={collectionId:r,parent:Uv(i)};return D_(t).put(s)}return Zy.resolve()},t.prototype.zi=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Tg(e),""],!1,!0);return D_(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Hv(s.parent))}return n}))},t}();function D_(t){return U_.Kn(t,O_.store)}var M_=function(){function t(t){this.Po=t}return t.prototype.next=function(){return this.Po+=2,this.Po},t.yo=function(){return new t(0)},t.Vo=function(){return new t(-1)},t}(),N_=function(){function t(t,e){this.qr=t,this.serializer=e}return t.prototype.po=function(t){var e=this;return this.bo(t).next((function(n){var r=new M_(n.highestTargetId);return n.highestTargetId=r.next(),e.vo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.So=function(t){return this.bo(t).next((function(t){return Qg.V(new Ug(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Do=function(t){return this.bo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Co=function(t,e,n){var r=this;return this.bo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.vo(t,i)}))},t.prototype.No=function(t,e){var n=this;return this.xo(t,e).next((function(){return n.bo(t).next((function(r){return r.targetCount+=1,n.Fo(e,r),n.vo(t,r)}))}))},t.prototype.Oo=function(t,e){return this.xo(t,e)},t.prototype.ko=function(t,e){var n=this;return this.Mo(t,e.targetId).next((function(){return j_(t).delete(e.targetId)})).next((function(){return n.bo(t)})).next((function(e){return xg(e.targetCount>0),e.targetCount-=1,n.vo(t,e)}))},t.prototype.Or=function(t,e,n){var r=this,i=0,s=[];return j_(t).rs((function(o,a){var c=Xv(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.ko(t,c)))})).next((function(){return Zy.On(s)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return j_(t).rs((function(t,n){var r=Xv(n);e(r)}))},t.prototype.bo=function(t){return R_(t).get(S_.key).next((function(t){return xg(null!==t),t}))},t.prototype.vo=function(t,e){return R_(t).put(S_.key,e)},t.prototype.xo=function(t,e){return j_(t).put(Jv(this.serializer,e))},t.prototype.Fo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.$o=function(t){return this.bo(t).next((function(t){return t.targetCount}))},t.prototype.Lo=function(t,e){var n=Xg(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return j_(t).rs({range:r,index:E_.queryTargetsIndexName},(function(t,n,r){var s=Xv(n);Jg(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Bo=function(t,e,n){var r=this,i=[],s=L_(t);return e.forEach((function(e){var o=Uv(e.path);i.push(s.put(new C_(n,o))),i.push(r.qr.qo(t,n,e))})),Zy.On(i)},t.prototype.Uo=function(t,e,n){var r=this,i=L_(t);return Zy.forEach(e,(function(e){var s=Uv(e.path);return Zy.On([i.delete([n,s]),r.qr.Ko(t,n,e)])}))},t.prototype.Mo=function(t,e){var n=L_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Qo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=L_(t),i=vm();return r.rs({range:n,ss:!0},(function(t,e,n){var r=Hv(t[1]),s=new Gg(r);i=i.add(s)})).next((function(){return i}))},t.prototype.ro=function(t,e){var n=Uv(e.path),r=IDBKeyRange.bound([n],[Tg(n)],!1,!0),i=0;return L_(t).rs({index:C_.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return j_(t).get(e).next((function(t){return t?Xv(t):null}))},t}();function j_(t){return U_.Kn(t,E_.store)}function R_(t){return U_.Kn(t,S_.store)}function L_(t){return U_.Kn(t,C_.store)}var F_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",V_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).eo=e,r.Wo=n,r}return Object(lh.c)(e,t),e}(Av),U_=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=s,this.window=o,this.document=a,this.jo=u,this.Go=l,this.zo=null,this.Ho=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Yo=null,this.inForeground=!1,this.Jo=null,this.Xo=null,this.Zo=Number.NEGATIVE_INFINITY,this.ta=function(t){return Promise.resolve()},!t.Ln())throw new pg(fg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.qr=new H_(this,i),this.ea=n+"main",this.serializer=new zv(c),this.na=new Xy(this.ea,10,new p_(this.serializer)),this.sa=new N_(this.qr,this.serializer),this.ki=new I_,this.Fi=function(t,e){return new o_(t,e)}(this.serializer,this.ki),this.window&&this.window.localStorage?this.ia=this.window.localStorage:(this.ia=null,!1===l&&yg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Kn=function(t,e){if(t instanceof V_)return Xy.Kn(t.eo,e);throw wg()},t.prototype.start=function(){var t=this;return this.ra().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new pg(fg.FAILED_PRECONDITION,F_);return t.oa(),t.aa(),t.ca(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.sa.Do(e)}))})).then((function(e){t.zo=new Mv(e,t.jo)})).then((function(){t.Ho=!0})).catch((function(e){return t.na&&t.na.close(),Promise.reject(e)}))},t.prototype.ua=function(t){var e=this;return this.ta=function(n){return Object(lh.b)(e,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){return this.br?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ha=function(t){var e=this;this.na.jn((function(n){return Object(lh.b)(e,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.la=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return Object(lh.b)(e,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){switch(t.label){case 0:return this.br?[4,this.ra()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ra=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return B_(e).put(new k_(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t._a(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.ta(!1)})))}))})).next((function(){return t.fa(e)})).next((function(n){return t.isPrimary&&!n?t.da(e).next((function(){return!1})):!!n&&t.wa(e).next((function(){return!0}))}))})).catch((function(e){if(ev(e))return bg("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return bg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.ta(e)})),t.isPrimary=e}))},t.prototype._a=function(t){var e=this;return Q_(t).get(m_.key).next((function(t){return Zy.resolve(e.Ea(t))}))},t.prototype.Ta=function(t){return B_(t).delete(this.clientId)},t.prototype.Ia=function(){return Object(lh.b)(this,void 0,void 0,(function(){var e,n,r,i=this;return Object(lh.d)(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.ma(this.Zo,18e5)?[3,2]:(this.Zo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Kn(e,k_.store);return n.ts().next((function(t){var e=i.Aa(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Zy.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.ia)for(n=0,r=e;n<r.length;n++)this.ia.removeItem(this.Ra(r[n].clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.ca=function(){var t=this;this.Xo=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.ra().then((function(){return t.Ia()})).then((function(){return t.ca()}))}))},t.prototype.Ea=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.fa=function(t){var e=this;return this.Go?Zy.resolve(!0):Q_(t).get(m_.key).next((function(n){if(null!==n&&e.ma(n.leaseTimestampMs,5e3)&&!e.Pa(n.ownerId)){if(e.Ea(n)&&e.networkEnabled)return!0;if(!e.Ea(n)){if(!n.allowTabSynchronization)throw new pg(fg.FAILED_PRECONDITION,F_);return!1}}return!(!e.networkEnabled||!e.inForeground)||B_(t).ts().next((function(t){return void 0===e.Aa(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&bg("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ga=function(){return Object(lh.b)(this,void 0,void 0,(function(){var t=this;return Object(lh.d)(this,(function(e){switch(e.label){case 0:return this.Ho=!1,this.ya(),this.Xo&&(this.Xo.cancel(),this.Xo=null),this.Va(),this.pa(),[4,this.na.runTransaction("shutdown","readwrite",[m_.store,k_.store],(function(e){var n=new V_(e,Mv.ir);return t.da(n).next((function(){return t.Ta(n)}))}))];case 1:return e.sent(),this.na.close(),this.ba(),[2]}}))}))},t.prototype.Aa=function(t,e){var n=this;return t.filter((function(t){return n.ma(t.updateTimeMs,e)&&!n.Pa(t.clientId)}))},t.prototype.va=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return B_(e).ts().next((function(e){return t.Aa(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.Sa=function(t){return t_.Kr(t,this.serializer,this.ki,this.qr)},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.Na=function(){return this.ki},t.prototype.runTransaction=function(t,e,n){var r,i=this;return bg("IndexedDbPersistence","Starting transaction:",t),this.na.runTransaction(t,"readonly"===e?"readonly":"readwrite",A_,(function(s){return r=new V_(s,i.zo?i.zo.next():Mv.ir),"readwrite-primary"===e?i._a(r).next((function(t){return!!t||i.fa(r)})).next((function(e){if(!e)throw yg("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.ta(!1)})),new pg(fg.FAILED_PRECONDITION,kv);return n(r)})).next((function(t){return i.wa(r).next((function(){return t}))})):i.xa(r).next((function(){return n(r)}))})).then((function(t){return r.xi(),t}))},t.prototype.xa=function(t){var e=this;return Q_(t).get(m_.key).next((function(t){if(null!==t&&e.ma(t.leaseTimestampMs,5e3)&&!e.Pa(t.ownerId)&&!e.Ea(t)&&!(e.Go||e.allowTabSynchronization&&t.allowTabSynchronization))throw new pg(fg.FAILED_PRECONDITION,F_)}))},t.prototype.wa=function(t){var e=new m_(this.clientId,this.allowTabSynchronization,Date.now());return Q_(t).put(m_.key,e)},t.Ln=function(){return Xy.Ln()},t.prototype.da=function(t){var e=this,n=Q_(t);return n.get(m_.key).next((function(t){return e.Ea(t)?(bg("IndexedDbPersistence","Releasing primary lease."),n.delete(m_.key)):Zy.resolve()}))},t.prototype.ma=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(yg("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.oa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Jo=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.ra()}))},this.document.addEventListener("visibilitychange",this.Jo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Va=function(){this.Jo&&(this.document.removeEventListener("visibilitychange",this.Jo),this.Jo=null)},t.prototype.aa=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Yo=function(){e.ya(),e.fn.ws((function(){return e.ga()}))},this.window.addEventListener("unload",this.Yo))},t.prototype.pa=function(){this.Yo&&(this.window.removeEventListener("unload",this.Yo),this.Yo=null)},t.prototype.Pa=function(t){var e;try{var n=null!==(null===(e=this.ia)||void 0===e?void 0:e.getItem(this.Ra(t)));return bg("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return yg("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.ya=function(){if(this.ia)try{this.ia.setItem(this.Ra(this.clientId),String(Date.now()))}catch(t){yg("Failed to set zombie client id.",t)}},t.prototype.ba=function(){if(this.ia)try{this.ia.removeItem(this.Ra(this.clientId))}catch(t){}},t.prototype.Ra=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Q_(t){return U_.Kn(t,m_.store)}function B_(t){return U_.Kn(t,k_.store)}var H_=function(){function t(t,e){this.db=t,this.gr=new Vv(this,e)}return t.prototype.Cr=function(t){var e=this.Fa(t);return this.db.Da().$o(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Fa=function(t){var e=0;return this.Fr(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Da().Ce(t,e)},t.prototype.Fr=function(t,e){return this.Oa(t,(function(t,n){return e(n)}))},t.prototype.qo=function(t,e,n){return z_(t,n)},t.prototype.Ko=function(t,e,n){return z_(t,n)},t.prototype.Or=function(t,e,n){return this.db.Da().Or(t,e,n)},t.prototype.so=function(t,e){return z_(t,e)},t.prototype.ka=function(t,e){return function(t,e){var n=!1;return s_(t).os((function(r){return e_(t,r,e).next((function(t){return t&&(n=!0),Zy.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.kr=function(t,e){var n=this,r=this.db.Ca().wo(),i=[],s=0;return this.Oa(t,(function(o,a){if(a<=e){var c=n.ka(t,o).next((function(e){if(!e)return s++,r.bi(t,o).next((function(){return r.pi(o),L_(t).delete([0,Uv(o.path)])}))}));i.push(c)}})).next((function(){return Zy.On(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.Wo);return this.db.Da().Oo(t,n)},t.prototype.Ma=function(t,e){return z_(t,e)},t.prototype.Oa=function(t,e){var n,r=L_(t),i=Mv.ir;return r.rs({index:C_.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Mv.ir&&e(new Gg(Hv(n)),i),i=o,n=s):i=Mv.ir})).next((function(){i!==Mv.ir&&e(new Gg(Hv(n)),i)}))},t.prototype.$r=function(t){return this.db.Ca().To(t)},t}();function z_(t,e){return L_(t).put(function(t,e){return new C_(0,Uv(t.path),e)}(e,t.Wo))}function q_(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var G_=function(){function t(t,e,n){this.persistence=t,this.$a=e,this.La=new am(Sg),this.Ba=new Vg((function(t){return Xg(t)}),Jg),this.qa=Qg.min(),this.Oi=t.Sa(n),this.Ua=t.Ca(),this.sa=t.Da(),this.Ka=new Iv(this.Ua,this.Oi,this.persistence.Na()),this.$a.Qa(this.Ka)}return t.prototype.vr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Mr(n,e.La)}))},t}();function $_(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(lh.d)(this,(function(o){switch(o.label){case 0:return n=Pg(t),r=n.Oi,i=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.Oi.Jr(t).next((function(o){return s=o,r=n.persistence.Sa(e),i=new Iv(n.Ua,r,n.persistence.Na()),r.Jr(t)})).next((function(e){for(var n=[],r=[],o=vm(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.qi(t,o).next((function(t){return{Wa:t,ja:n,Ga:r}}))}))}))];case 1:return s=o.sent(),[2,(n.Oi=r,n.Ka=i,n.$a.Qa(n.Ka),s)]}}))}))}function W_(t,e){var n=Pg(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ua.wo({Eo:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Zy.resolve();return s.forEach((function(t){o=o.next((function(){return r.bi(e,t)})).next((function(e){var s=e,o=n.Ai.get(t);xg(null!==o),(!s||s.version.u(o)<0)&&(s=i.wi(t,s,n))&&r.yi(s,n.mi)}))})),o.next((function(){return t.Oi.Zr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Oi.io(t)})).next((function(){return n.Ka.qi(t,r)}))}))}function K_(t){var e=Pg(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.sa.So(t)}))}function Y_(t,e){var n=Pg(t),r=e.nt,i=n.La;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Ua.wo({Eo:!0});i=n.La;var o=[];e.zt.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.sa.Uo(t,e.se,s).next((function(){return n.sa.Bo(t,e.ee,s)})));var c=e.resumeToken;if(c.o()>0){var u=a.it(c,r).st(t.Wo);i=i.ot(s,u),function(t,e,n){return xg(e.resumeToken.o()>0),0===t.resumeToken.o()||e.nt.p()-t.nt.p()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,u,e)&&o.push(n.sa.Oo(t,u))}}}));var a=fm(),c=vm();if(e.Yt.forEach((function(t,e){c=c.add(t)})),o.push(s.getEntries(t,c).next((function(i){e.Yt.forEach((function(c,u){var l=i.get(c);u instanceof fy&&u.version.isEqual(Qg.min())?(s.pi(c,r),a=a.ot(c,u)):null==l||u.version.u(l.version)>0||0===u.version.u(l.version)&&l.hasPendingWrites?(s.yi(u,r),a=a.ot(c,u)):bg("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version),e.Jt.has(c)&&o.push(n.persistence.qr.Ma(t,c))}))}))),!r.isEqual(Qg.min())){var u=n.sa.So(t).next((function(e){return n.sa.Co(t,t.Wo,r)}));o.push(u)}return Zy.On(o).next((function(){return s.apply(t)})).next((function(){return n.Ka.Ui(t,a)}))})).then((function(t){return n.La=i,t}))}function Z_(t,e){var n=Pg(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Oi.Hr(t,e)}))}function X_(t,e){var n=Pg(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.sa.Lo(t,e).next((function(i){return i?Zy.resolve(r=i):n.sa.po(t).next((function(i){return r=new rm(e,i,0,t.Wo),n.sa.No(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.La.get(t.targetId);return(null===r||t.nt.u(r.nt)>0)&&(n.La=n.La.ot(t.targetId,t),n.Ba.set(e,t.targetId)),t}))}function J_(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(lh.d)(this,(function(a){switch(a.label){case 0:r=Pg(t),i=r.La.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.qr.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ev(o=a.sent()))throw o;return bg("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.La=r.La.remove(e),r.Ba.delete(i.target),[2]}}))}))}function tw(t,e,n){var r=Pg(t),i=Qg.min(),s=vm();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Pg(t),i=r.Ba.get(n);return void 0!==i?Zy.resolve(r.La.get(i)):r.sa.Lo(e,n)}(r,t,Ey(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.sa.Qo(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.$a.Qi(t,e,n?i:Qg.min(),n?s:vm())})).next((function(t){return{documents:t,za:s}}))}))}function ew(t,e){var n=Pg(t),r=Pg(n.sa),i=n.La.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function nw(t){var e=Pg(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Pg(t),i=fm(),s=$v(n),o=u_(e),a=IDBKeyRange.lowerBound(s,!0);return o.rs({index:x_.readTimeIndex,range:a},(function(t,e){var n=qv(r.serializer,e);i=i.ot(n.key,n),s=e.readTime})).next((function(){return{Ha:i,readTime:Wv(s)}}))}(e.Ua,t,e.qa)})).then((function(t){var n=t.Ha;return e.qa=t.readTime,n}))}function rw(t){return Object(lh.b)(this,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(n){return[2,(e=Pg(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=u_(t),n=Qg.min();return e.rs({index:x_.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Wv(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.qa=t}))]}))}))}function iw(t){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){if(t.code!==fg.FAILED_PRECONDITION||t.message!==kv)throw t;return bg("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var sw=function(){function t(t,e,n,r,i,s){this.fn=t,this.Ya=n,this.Ja=r,this.Xa=i,this.listener=s,this.state=0,this.Za=0,this.tc=null,this.stream=null,this.ys=new Yy(t,e)}return t.prototype.ec=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.nc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sc()},t.prototype.stop=function(){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){switch(t.label){case 0:return this.ec()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ic=function(){this.state=0,this.ys.reset()},t.prototype.rc=function(){var t=this;this.nc()&&null===this.tc&&(this.tc=this.fn.yn(this.Ya,6e4,(function(){return t.oc()})))},t.prototype.ac=function(t){this.cc(),this.stream.send(t)},t.prototype.oc=function(){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){return this.nc()?[2,this.close(0)]:[2]}))}))},t.prototype.cc=function(){this.tc&&(this.tc.cancel(),this.tc=null)},t.prototype.close=function(t,e){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(n){switch(n.label){case 0:return this.cc(),this.ys.cancel(),this.Za++,3!==t?this.ys.reset():e&&e.code===fg.RESOURCE_EXHAUSTED?(yg(e.toString()),yg("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===fg.UNAUTHENTICATED&&this.Xa.ri(),null!==this.stream&&(this.uc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.hc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.uc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.lc(this.Za),n=this.Za;this.Xa.getToken().then((function(e){t.Za===n&&t._c(e)}),(function(n){e((function(){var e=new pg(fg.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fc(e)}))}))},t.prototype._c=function(t){var e=this,n=this.lc(this.Za);this.stream=this.dc(t),this.stream.wc((function(){n((function(){return e.state=2,e.listener.wc()}))})),this.stream.hc((function(t){n((function(){return e.fc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.sc=function(){var t=this;this.state=4,this.ys.Pn((function(){return Object(lh.b)(t,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fc=function(t){return bg("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.lc=function(t){var e=this;return function(n){e.fn.ws((function(){return e.Za===t?n():(bg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ow=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(lh.c)(e,t),e.prototype.dc=function(t){return this.Ja.Ec("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:wg()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Ke?(xg(void 0===e||"string"==typeof e),kg.fromBase64String(e||"")):(xg(void 0===e||e instanceof Uint8Array),kg.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?fg.UNKNOWN:om(t.code);return new pg(e,t.message||"")}(o);n=new km(r,i,s,a||null)}else if("documentChange"in e){var c=e.documentChange,u=hb(t,c.document.name),l=ab(c.document.updateTime),h=new cy({mapValue:{fields:c.document.fields}}),d=new dy(u,l,h,{});n=new Om(c.targetIds||[],c.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=hb(t,f.document),g=f.readTime?ab(f.readTime):Qg.min(),m=new fy(p,g);n=new Om([],f.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var b=e.documentRemove,y=hb(t,b.document);n=new Om([],b.removedTargetIds||[],y,null)}else{if(!("filter"in e))return wg();var v=e.filter,_=new im(v.count||0);n=new Tm(v.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Qg.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Qg.min():e.readTime?ab(e.readTime):Qg.min()}(t);return this.listener.Tc(e,n)},e.prototype.Ic=function(t){var e={};e.database=pb(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=tm(r)?{documents:vb(t,r)}:{query:_b(t,r)}).targetId=e.targetId,e.resumeToken.o()>0&&(n.resumeToken=sb(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wg()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.ac(e)},e.prototype.mc=function(t){var e={};e.database=pb(this.serializer),e.removeTarget=t,this.ac(e)},e}(sw),aw=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Ac=!1,o}return Object(lh.c)(e,t),Object.defineProperty(e.prototype,"Rc",{get:function(){return this.Ac},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Ac=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.uc=function(){this.Ac&&this.Pc([])},e.prototype.dc=function(t){return this.Ja.Ec("Write",t)},e.prototype.onMessage=function(t){if(xg(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ac){this.ys.reset();var e=function(t,e){return t&&t.length>0?(xg(void 0!==e),t.map((function(t){return function(t,e){var n=ab(t.updateTime?t.updateTime:e);n.isEqual(Qg.min())&&(n=ab(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new qb(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ab(t.commitTime);return this.listener.gc(n,e)}return xg(!t.writeResults||0===t.writeResults.length),this.Ac=!0,this.listener.yc()},e.prototype.Vc=function(){var t={};t.database=pb(this.serializer),this.ac(t)},e.prototype.Pc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return bb(e.serializer,t)}))};this.ac(n)},e}(sw),cw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ja=n,i.serializer=r,i.bc=!1,i}return Object(lh.c)(e,t),e.prototype.vc=function(){if(this.bc)throw new pg(fg.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Sc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Sc(t,e,n,i)})).catch((function(t){throw t.code===fg.UNAUTHENTICATED&&r.credentials.ri(),t}))},e.prototype.Dc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Dc(t,e,n,i)})).catch((function(t){throw t.code===fg.UNAUTHENTICATED&&r.credentials.ri(),t}))},e.prototype.terminate=function(){this.bc=!1},e}((function(){})),uw=function(){function t(t,e){this.cs=t,this.Cc=e,this.state="Unknown",this.Nc=0,this.xc=null,this.Fc=!0}return t.prototype.Oc=function(){var t=this;0===this.Nc&&(this.kc("Unknown"),this.xc=this.cs.yn("online_state_timeout",1e4,(function(){return t.xc=null,t.Mc("Backend didn't respond within 10 seconds."),t.kc("Offline"),Promise.resolve()})))},t.prototype.$c=function(t){"Online"===this.state?this.kc("Unknown"):(this.Nc++,this.Nc>=1&&(this.Lc(),this.Mc("Connection failed 1 times. Most recent error: "+t.toString()),this.kc("Offline")))},t.prototype.set=function(t){this.Lc(),this.Nc=0,"Online"===t&&(this.Fc=!1),this.kc(t)},t.prototype.kc=function(t){t!==this.state&&(this.state=t,this.Cc(t))},t.prototype.Mc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fc?(yg(e),this.Fc=!1):bg("OnlineStateTracker",e)},t.prototype.Lc=function(){null!==this.xc&&(this.xc.cancel(),this.xc=null)},t}(),lw=function(t,e,n,r,i){var s=this;this.Bc=t,this.qc=e,this.cs=n,this.Uc={},this.Kc=[],this.Qc=new Map,this.Wc=new Set,this.jc=[],this.Gc=i,this.Gc.zc((function(t){n.ws((function(){return Object(lh.b)(s,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){switch(t.label){case 0:return vw(this)?(bg("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(lh.b)(this,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(n){switch(n.label){case 0:return(e=Pg(t)).Wc.add(4),[4,dw(e)];case 1:return n.sent(),e.Hc.set("Unknown"),e.Wc.delete(4),[4,hw(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Hc=new uw(n,r)};function hw(t){return Object(lh.b)(this,void 0,void 0,(function(){var e,n;return Object(lh.d)(this,(function(r){switch(r.label){case 0:if(!vw(t))return[3,4];e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function dw(t){return Object(lh.b)(this,void 0,void 0,(function(){var e,n;return Object(lh.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function fw(t,e){var n=Pg(t);n.Qc.has(e.targetId)||(n.Qc.set(e.targetId,e),yw(n)?bw(n):Nw(n).nc()&&gw(n,e))}function pw(t,e){var n=Pg(t),r=Nw(n);n.Qc.delete(e),r.nc()&&mw(n,e),0===n.Qc.size&&(r.nc()?r.rc():vw(n)&&n.Hc.set("Unknown"))}function gw(t,e){t.Yc.me(e.targetId),Nw(t).Ic(e)}function mw(t,e){t.Yc.me(e),Nw(t).mc(e)}function bw(t){t.Yc=new Im({qe:function(e){return t.Uc.qe(e)},Ue:function(e){return t.Qc.get(e)||null}}),Nw(t).start(),t.Hc.Oc()}function yw(t){return vw(t)&&!Nw(t).ec()&&t.Qc.size>0}function vw(t){return 0===Pg(t).Wc.size}function _w(t){t.Yc=void 0}function ww(t){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){return t.Qc.forEach((function(e,n){gw(t,e)})),[2]}))}))}function xw(t,e){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(n){return _w(t),yw(t)?(t.Hc.$c(e),bw(t)):t.Hc.set("Unknown"),[2]}))}))}function Pw(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i,s;return Object(lh.d)(this,(function(o){switch(o.label){case 0:if(t.Hc.set("Online"),!(e instanceof km&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(lh.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Qc.has(s=i[r])?[4,t.Uc.Jc(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Qc.delete(s),t.Yc.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),bg("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ew(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Om?t.Yc.be(e):e instanceof Tm?t.Yc.Oe(e):t.Yc.De(e),n.isEqual(Qg.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,K_(t.Bc)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Yc.$e(e);return n.zt.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Qc.get(r);i&&t.Qc.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Qc.get(e);if(n){t.Qc.set(e,n.it(kg.h,n.nt)),mw(t,e);var r=new rm(n.target,e,1,n.sequenceNumber);gw(t,r)}})),t.Uc.Xc(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return bg("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Ew(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function Ew(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r=this;return Object(lh.d)(this,(function(i){switch(i.label){case 0:if(!ev(e))throw e;return t.Wc.add(1),[4,dw(t)];case 1:return i.sent(),t.Hc.set("Offline"),n||(n=function(){return K_(t.Bc)}),t.cs.Cs((function(){return Object(lh.b)(r,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return bg("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Wc.delete(1),[4,hw(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Cw(t,e){return e().catch((function(n){return Ew(t,n,e)}))}function Sw(t){return Object(lh.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(lh.d)(this,(function(o){switch(o.label){case 0:e=Pg(t),n=jw(e),r=e.Kc.length>0?e.Kc[e.Kc.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return vw(t)&&t.Kc.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Z_(e.Bc,r)];case 3:return null===(i=o.sent())?(0===e.Kc.length&&n.rc(),[3,7]):(r=i.batchId,function(t,e){t.Kc.push(e);var n=jw(t);n.nc()&&n.Rc&&n.Pc(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Ew(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Ow(e)&&Tw(e),[2]}}))}))}function Ow(t){return vw(t)&&!jw(t).ec()&&t.Kc.length>0}function Tw(t){jw(t).start()}function kw(t){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){return jw(t).Vc(),[2]}))}))}function Aw(t){return Object(lh.b)(this,void 0,void 0,(function(){var e,n,r;return Object(lh.d)(this,(function(i){for(e=jw(t),n=0,r=t.Kc;n<r.length;n++)e.Pc(r[n].mutations);return[2]}))}))}function Iw(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i;return Object(lh.d)(this,(function(s){switch(s.label){case 0:return r=t.Kc.shift(),i=Ov.from(r,e,n),[4,Cw(t,(function(){return t.Uc.Zc(i)}))];case 1:return s.sent(),[4,Sw(t)];case 2:return s.sent(),[2]}}))}))}function Dw(t,e){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(n){switch(n.label){case 0:return e&&jw(t).Rc?[4,function(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return sm(r=e.code)&&r!==fg.ABORTED?(n=t.Kc.shift(),jw(t).ic(),[4,Cw(t,(function(){return t.Uc.tu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Sw(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ow(t)&&Tw(t),[2]}}))}))}function Mw(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n;return Object(lh.d)(this,(function(r){switch(r.label){case 0:return n=Pg(t),e?(n.Wc.delete(2),[4,hw(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Wc.add(2),[4,dw(n)]);case 3:r.sent(),n.Hc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Nw(t){var e=this;return t.eu||(t.eu=function(t,e,n){var r=Pg(t);return r.vc(),new ow(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:ww.bind(null,t),hc:xw.bind(null,t),Tc:Pw.bind(null,t)}),t.jc.push((function(n){return Object(lh.b)(e,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return n?(t.eu.ic(),yw(t)?bw(t):t.Hc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.eu.stop()];case 2:e.sent(),_w(t),e.label=3;case 3:return[2]}}))}))}))),t.eu}function jw(t){var e=this;return t.nu||(t.nu=function(t,e,n){var r=Pg(t);return r.vc(),new aw(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:kw.bind(null,t),hc:Dw.bind(null,t),yc:Aw.bind(null,t),gc:Iw.bind(null,t)}),t.jc.push((function(n){return Object(lh.b)(e,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return n?(t.nu.ic(),[4,Sw(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.nu.stop()];case 3:e.sent(),t.Kc.length>0&&(bg("RemoteStore","Stopping write stream with "+t.Kc.length+" pending writes"),t.Kc=[]),e.label=4;case 4:return[2]}}))}))}))),t.nu}var Rw=function(){function t(){this.su=new lm(Lw.iu),this.ru=new lm(Lw.ou)}return t.prototype.P=function(){return this.su.P()},t.prototype.qo=function(t,e){var n=new Lw(t,e);this.su=this.su.add(n),this.ru=this.ru.add(n)},t.prototype.au=function(t,e){var n=this;t.forEach((function(t){return n.qo(t,e)}))},t.prototype.Ko=function(t,e){this.cu(new Lw(t,e))},t.prototype.uu=function(t,e){var n=this;t.forEach((function(t){return n.Ko(t,e)}))},t.prototype.hu=function(t){var e=this,n=new Gg(new Hg([])),r=new Lw(n,t),i=new Lw(n,t+1),s=[];return this.ru.xt([r,i],(function(t){e.cu(t),s.push(t.key)})),s},t.prototype.lu=function(){var t=this;this.su.forEach((function(e){return t.cu(e)}))},t.prototype.cu=function(t){this.su=this.su.delete(t),this.ru=this.ru.delete(t)},t.prototype._u=function(t){var e=new Gg(new Hg([])),n=new Lw(e,t),r=new Lw(e,t+1),i=vm();return this.ru.xt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ro=function(t){var e=new Lw(t,0),n=this.su.Ot(e);return null!==n&&t.isEqual(n.key)},t}(),Lw=function(){function t(t,e){this.key=t,this.fu=e}return t.iu=function(t,e){return Gg.D(t.key,e.key)||Sg(t.fu,e.fu)},t.ou=function(t,e){return Sg(t.fu,e.fu)||Gg.D(t.key,e.key)},t}();function Fw(t,e){return"firestore_clients_"+t+"_"+e}function Vw(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Uw(t,e){return"firestore_targets_"+t+"_"+e}var Qw=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.du=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new pg(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(yg("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bw=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.du=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new pg(r.error.code,r.error.message)),i?new t(e,r.state,s):(yg("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hw=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.du=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=wm(),o=0;i&&o<r.activeTargetIds.length;++o)i=Kg(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(yg("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zw=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.du=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(yg("SharedClientState","Failed to parse online state: "+e),null)},t}(),qw=function(){function t(){this.activeTargetIds=wm()}return t.prototype.Eu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Tu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.wu=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Gw=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this.Iu=r,this.mu=null,this.Cc=null,this.tr=null,this.Au=this.Ru.bind(this),this.Pu=new am(Sg),this.br=!1,this.gu=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.yu=Fw(this.persistenceKey,this.Iu),this.Vu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Pu=this.Pu.ot(this.Iu,new qw),this.pu=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.bu=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.vu=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Su=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Au)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(lh.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(lh.d)(this,(function(h){switch(h.label){case 0:return[4,this.mu.va()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Iu&&(i=this.getItem(Fw(this.persistenceKey,r)))&&(s=Hw.du(r,i))&&(this.Pu=this.Pu.ot(s.clientId,s));for(this.Du(),(o=this.storage.getItem(this.Su))&&(a=this.Cu(o))&&this.Nu(a),c=0,u=this.gu;c<u.length;c++)this.Ru(u[c]);return this.gu=[],this.window.addEventListener("unload",(function(){return l.ga()})),this.br=!0,[2]}}))}))},t.prototype.sr=function(t){this.setItem(this.Vu,JSON.stringify(t))},t.prototype.xu=function(){return this.Fu(this.Pu)},t.prototype.Ou=function(t){var e=!1;return this.Pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.ku=function(t){this.Mu(t,"pending")},t.prototype.$u=function(t,e,n){this.Mu(t,e,n),this.Lu(t)},t.prototype.Bu=function(t){var e="not-current";if(this.Ou(t)){var n=this.storage.getItem(Uw(this.persistenceKey,t));if(n){var r=Bw.du(t,n);r&&(e=r.state)}}return this.qu.Eu(t),this.Du(),e},t.prototype.Uu=function(t){this.qu.Tu(t),this.Du()},t.prototype.Ku=function(t){return this.qu.activeTargetIds.has(t)},t.prototype.Qu=function(t){this.removeItem(Uw(this.persistenceKey,t))},t.prototype.Wu=function(t,e,n){this.ju(t,e,n)},t.prototype.Gu=function(t,e,n){var r=this;e.forEach((function(t){r.Lu(t)})),this.currentUser=t,n.forEach((function(t){r.ku(t)}))},t.prototype.zu=function(t){this.Hu(t)},t.prototype.ga=function(){this.br&&(this.window.removeEventListener("storage",this.Au),this.removeItem(this.yu),this.br=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return bg("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){bg("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){bg("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ru=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(bg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yu)return void yg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return Object(lh.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(lh.d)(this,(function(a){if(this.br){if(null!==n.key)if(this.pu.test(n.key)){if(null==n.newValue)return t=this.Yu(n.key),[2,this.Ju(t,null)];if(e=this.Xu(n.key,n.newValue))return[2,this.Ju(e.clientId,e)]}else if(this.bu.test(n.key)){if(null!==n.newValue&&(r=this.Zu(n.key,n.newValue)))return[2,this.th(r)]}else if(this.vu.test(n.key)){if(null!==n.newValue&&(i=this.eh(n.key,n.newValue)))return[2,this.nh(i)]}else if(n.key===this.Su){if(null!==n.newValue&&(s=this.Cu(n.newValue)))return[2,this.Nu(s)]}else n.key===this.Vu&&(o=function(t){var e=Mv.ir;if(null!=t)try{var n=JSON.parse(t);xg("number"==typeof n),e=n}catch(t){yg("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Mv.ir&&this.tr(o)}else this.gu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Pu.get(this.Iu)},enumerable:!1,configurable:!0}),t.prototype.Du=function(){this.setItem(this.yu,this.qu.wu())},t.prototype.Mu=function(t,e,n){var r=new Qw(this.currentUser,t,e,n),i=Vw(this.persistenceKey,this.currentUser,t);this.setItem(i,r.wu())},t.prototype.Lu=function(t){var e=Vw(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Hu=function(t){this.storage.setItem(this.Su,JSON.stringify({clientId:this.Iu,onlineState:t}))},t.prototype.ju=function(t,e,n){var r=Uw(this.persistenceKey,t),i=new Bw(t,e,n);this.setItem(r,i.wu())},t.prototype.Yu=function(t){var e=this.pu.exec(t);return e?e[1]:null},t.prototype.Xu=function(t,e){var n=this.Yu(t);return Hw.du(n,e)},t.prototype.Zu=function(t,e){var n=this.bu.exec(t),r=Number(n[1]);return Qw.du(new _v(void 0!==n[2]?n[2]:null),r,e)},t.prototype.eh=function(t,e){var n=this.vu.exec(t),r=Number(n[1]);return Bw.du(r,e)},t.prototype.Cu=function(t){return zw.du(t)},t.prototype.th=function(t){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.mu.sh(t.batchId,t.state,t.error)]:(bg("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.nh=function(t){return this.mu.ih(t.targetId,t.state,t.error)},t.prototype.Ju=function(t,e){var n=this,r=e?this.Pu.ot(t,e):this.Pu.remove(t),i=this.Fu(this.Pu),s=this.Fu(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.mu.rh(o,a).then((function(){n.Pu=r}))},t.prototype.Nu=function(t){this.Pu.get(t.clientId)&&this.Cc(t.onlineState)},t.prototype.Fu=function(t){var e=wm();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),$w=function(){function t(){this.oh=new qw,this.ah={},this.Cc=null,this.tr=null}return t.prototype.ku=function(t){},t.prototype.$u=function(t,e,n){},t.prototype.Bu=function(t){return this.oh.Eu(t),this.ah[t]||"not-current"},t.prototype.Wu=function(t,e,n){this.ah[t]=e},t.prototype.Uu=function(t){this.oh.Tu(t)},t.prototype.Ku=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.Qu=function(t){delete this.ah[t]},t.prototype.xu=function(){return this.oh.activeTargetIds},t.prototype.Ou=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.start=function(){return this.oh=new qw,Promise.resolve()},t.prototype.Gu=function(t,e,n){},t.prototype.zu=function(t){},t.prototype.ga=function(){},t.prototype.sr=function(t){},t}(),Ww=function(t){this.key=t},Kw=function(t){this.key=t},Yw=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=vm(),this.Qt=vm(),this._h=Dy(t),this.fh=new xm(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.Eh:new Pm,i=e?e.fh:this.fh,s=e?e.Qt:this.Qt,o=i,a=!1,c=yy(this.query)&&i.size===this.query.limit?i.last():null,u=vy(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof dy?e:null;h&&(h=Iy(n.query,h)?h:null);var d=!!l&&n.Qt.has(l.key),f=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Th(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n._h(h,c)>0||u&&n._h(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),yy(this.query)||vy(this.query))for(;o.size>this.query.limit;){var l=yy(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fh:o,Eh:r,Ih:a,Qt:s}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.Di=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Qt=t.Qt;var s=t.Eh.Ut();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wg()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.mh(n);var o=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,c=a!==this.hh;return this.hh=a,0!==s.length||c?{snapshot:new Em(this.query,t.fh,i,s,t.Qt,0===a,c,!1),Rh:o}:{Rh:o}},t.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Di({fh:this.fh,Eh:new Pm,Qt:this.Qt,Ih:!1},!1)):{Rh:[]}},t.prototype.Ph=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.mh=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=vm(),this.fh.forEach((function(e){t.Ph(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new Kw(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new Ww(t))})),n},t.prototype.gh=function(t){this.uh=t.za,this.lh=vm();var e=this.wh(t.documents);return this.Di(e,!0)},t.prototype.yh=function(){return Em.Gt(this.query,this.fh,this.Qt,0===this.hh)},t}(),Zw=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Xw=function(t){this.key=t,this.Vh=!1},Jw=function(){function t(t,e,n,r,i,s){this.Bc=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=s,this.Ch={},this.Nh=new Vg((function(t){return ky(t)}),Ty),this.xh=new Map,this.Fh=[],this.Oh=new am(Gg.D),this.kh=new Map,this.Mh=new Rw,this.$h={},this.Lh=new Map,this.Bh=M_.Vo(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function tx(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(lh.d)(this,(function(a){switch(a.label){case 0:return n=Tx(t),(i=n.Nh.get(e))?(n.Sh.Bu(i.targetId),r=i.view.yh(),[3,4]):[3,1];case 1:return[4,X_(n.Bc,Ey(e))];case 2:return s=a.sent(),o=n.Sh.Bu(s.targetId),[4,ex(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Uh&&fw(n.ph,s),a.label=4;case 4:return[2,r]}}))}))}function ex(t,e,n,r){return Object(lh.b)(this,void 0,void 0,(function(){var i,s,o,a,c,u;return Object(lh.d)(this,(function(l){switch(l.label){case 0:return t.Kh=function(e,n,r){return function(t,e,n,r){return Object(lh.b)(this,void 0,void 0,(function(){var i,s,o;return Object(lh.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.wh(n)).Ih?[4,tw(t.Bc,e.query,!1).then((function(t){return e.view.wh(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.zt.get(e.targetId),o=e.view.Di(i,t.Uh,s),[2,(px(t,e.targetId,o.Rh),o.snapshot)]}}))}))}(t,e,n,r)},[4,tw(t.Bc,e,!0)];case 1:return i=l.sent(),s=new Yw(e,i.za),o=s.wh(i.documents),a=Sm.Zt(n,r&&"Offline"!==t.onlineState),c=s.Di(o,t.Uh,a),px(t,n,c.Rh),u=new Zw(e,n,s),[2,(t.Nh.set(e,u),t.xh.has(n)?t.xh.get(n).push(e):t.xh.set(n,[e]),c.snapshot)]}}))}))}function nx(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i;return Object(lh.d)(this,(function(s){switch(s.label){case 0:return n=Pg(t),r=n.Nh.get(e),(i=n.xh.get(r.targetId)).length>1?[2,(n.xh.set(r.targetId,i.filter((function(t){return!Ty(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Uu(r.targetId),n.Sh.Ou(r.targetId)?[3,2]:[4,J_(n.Bc,r.targetId,!1).then((function(){n.Sh.Qu(r.targetId),pw(n.ph,r.targetId),dx(n,r.targetId)})).catch(iw)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return dx(n,r.targetId),[4,J_(n.Bc,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function rx(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(lh.d)(this,(function(a){switch(a.label){case 0:r=kx(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Pg(t),i=Ug.now(),s=e.reduce((function(t,e){return t.add(e.key)}),vm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ka.qi(t,s).next((function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=Zb(u,n.get(u.key));null!=l&&o.push(new ey(u.key,l,ly(l.proto.mapValue),Gb.exists(!0)))}return r.Oi.Wr(t,i,o,e)}))})).then((function(t){var e=t.Ii(n);return{batchId:t.batchId,Ri:e}}))}(r.Bc,e)];case 2:return i=a.sent(),r.Sh.ku(i.batchId),function(t,e,n){var r=t.$h[t.currentUser.ti()];r||(r=new am(Sg)),r=r.ot(e,n),t.$h[t.currentUser.ti()]=r}(r,i.batchId,n),[4,bx(r,i.Ri)];case 3:return a.sent(),[4,Sw(r.ph)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=hv(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function ix(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r;return Object(lh.d)(this,(function(i){switch(i.label){case 0:n=Pg(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Y_(n.Bc,e)];case 2:return r=i.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(xg(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?xg(r.Vh):t.se.size>0&&(xg(r.Vh),r.Vh=!1))})),[4,bx(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,iw(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function sx(t,e,n){var r=Pg(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Ks(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Pg(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Ks(e)&&(r=!0)})),r&&yv(n)}(r.bh,e),i.length&&r.Ch.Tc(i),r.onlineState=e,r.Uh&&r.Sh.zu(e)}}function ox(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i,s,o,a,c;return Object(lh.d)(this,(function(u){switch(u.label){case 0:return(r=Pg(t)).Sh.Wu(e,"rejected",n),i=r.kh.get(e),(s=i&&i.key)?(o=(o=new am(Gg.D)).ot(s,new fy(s,Qg.min())),a=vm().add(s),c=new Cm(Qg.min(),new Map,new lm(Sg),o,a),[4,ix(r,c)]):[3,2];case 1:return u.sent(),r.Oh=r.Oh.remove(s),r.kh.delete(e),mx(r),[3,4];case 2:return[4,J_(r.Bc,e,!1).then((function(){return dx(r,e,n)})).catch(iw)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function ax(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i;return Object(lh.d)(this,(function(s){switch(s.label){case 0:n=Pg(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,W_(n.Bc,e)];case 2:return i=s.sent(),hx(n,r,null),lx(n,r),n.Sh.$u(r,"acknowledged"),[4,bx(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,iw(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function cx(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i;return Object(lh.d)(this,(function(s){switch(s.label){case 0:r=Pg(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Pg(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Oi.Gr(t,e).next((function(e){return xg(null!==e),r=e.keys(),n.Oi.Zr(t,e)})).next((function(){return n.Oi.io(t)})).next((function(){return n.Ka.qi(t,r)}))}))}(r.Bc,e)];case 2:return i=s.sent(),hx(r,e,n),lx(r,e),r.Sh.$u(e,"rejected",n),[4,bx(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,iw(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function ux(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(lh.d)(this,(function(a){switch(a.label){case 0:vw((n=Pg(t)).ph)||bg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Pg(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Oi.Yr(t)}))}(n.Bc)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Lh.get(r)||[]).push(e),n.Lh.set(r,i),[3,4]);case 3:return s=a.sent(),o=hv(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function lx(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function hx(t,e,n){var r=Pg(t),i=r.$h[r.currentUser.ti()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$h[r.currentUser.ti()]=i}}function dx(t,e,n){void 0===n&&(n=null),t.Sh.Uu(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var s=i[r];t.Nh.delete(s),n&&t.Ch.Qh(s,n)}t.xh.delete(e),t.Uh&&t.Mh.hu(e).forEach((function(e){t.Mh.ro(e)||fx(t,e)}))}function fx(t,e){var n=t.Oh.get(e);null!==n&&(pw(t.ph,n),t.Oh=t.Oh.remove(e),t.kh.delete(n),mx(t))}function px(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Ww?(t.Mh.qo(s.key,e),gx(t,s)):s instanceof Kw?(bg("SyncEngine","Document no longer in limbo: "+s.key),t.Mh.Ko(s.key,e),t.Mh.ro(s.key)||fx(t,s.key)):wg()}}function gx(t,e){var n=e.key;t.Oh.get(n)||(bg("SyncEngine","New document in limbo: "+n),t.Fh.push(n),mx(t))}function mx(t){for(;t.Fh.length>0&&t.Oh.size<t.Dh;){var e=t.Fh.shift(),n=t.Bh.next();t.kh.set(n,new Xw(e)),t.Oh=t.Oh.ot(e,n),fw(t.ph,new rm(Ey(by(e.path)),n,2,Mv.ir))}}function bx(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(lh.d)(this,(function(a){switch(a.label){case 0:return r=Pg(t),i=[],s=[],o=[],r.Nh.P()?[3,3]:(r.Nh.forEach((function(t,a){o.push(r.Kh(a,e,n).then((function(t){if(t){r.Uh&&r.Sh.Wu(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Dv.Zi(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.Ch.Tc(i),[4,function(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c,u;return Object(lh.d)(this,(function(l){switch(l.label){case 0:n=Pg(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Zy.forEach(e,(function(e){return Zy.forEach(e.Ji,(function(r){return n.persistence.qr.qo(t,e.targetId,r)})).next((function(){return Zy.forEach(e.Xi,(function(r){return n.persistence.qr.Ko(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!ev(r=l.sent()))throw r;return bg("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.La.get(a),u=c.rt(c.nt),n.La=n.La.ot(a,u));return[2]}}))}))}(r.Bc,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function yx(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return(n=Pg(t)).currentUser.isEqual(e)?[3,3]:(bg("SyncEngine","User change. New user:",e.ti()),[4,$_(n.Bc,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new pg(fg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.Gu(e,r.ja,r.Ga),[4,bx(n,r.Wa)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function vx(t,e){var n=Pg(t),r=n.kh.get(e);if(r&&r.Vh)return vm().add(r.key);var i=vm(),s=n.xh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Nh.get(a[o]);i=i.kt(c.view.dh)}return i}function _x(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i;return Object(lh.d)(this,(function(s){switch(s.label){case 0:return[4,tw((n=Pg(t)).Bc,e.query,!0)];case 1:return r=s.sent(),i=e.view.gh(r),[2,(n.Uh&&px(n,e.targetId,i.Rh),i)]}}))}))}function wx(t,e,n,r){return Object(lh.b)(this,void 0,void 0,(function(){var i,s;return Object(lh.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=Pg(t),r=Pg(n.Oi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.zr(t,e).next((function(e){return e?n.Ka.qi(t,e):Zy.resolve(null)}))}))}((i=Pg(t)).Bc,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Sw(i.ph)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(hx(i,e,r||null),lx(i,e),function(t,e){Pg(Pg(t).Oi).no(e)}(i.Bc,e)):wg(),o.label=4;case 4:return[4,bx(i,s)];case 5:return o.sent(),[3,7];case 6:bg("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function xx(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c;return Object(lh.d)(this,(function(u){switch(u.label){case 0:return Tx(n=Pg(t)),kx(n),!0!==e||!0===n.qh?[3,3]:(r=n.Sh.xu(),[4,Px(n,r.L())]);case 1:return i=u.sent(),n.qh=!0,[4,Mw(n.ph,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)fw(n.ph,o[s]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(a=[],c=Promise.resolve(),n.xh.forEach((function(t,e){n.Sh.Ku(e)?a.push(e):c=c.then((function(){return dx(n,e),J_(n.Bc,e,!0)})),pw(n.ph,e)})),[4,c]);case 4:return u.sent(),[4,Px(n,a)];case 5:return u.sent(),function(t){var e=Pg(t);e.kh.forEach((function(t,n){pw(e.ph,n)})),e.Mh.lu(),e.kh=new Map,e.Oh=new am(Gg.D)}(n),n.qh=!1,[4,Mw(n.ph,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function Px(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(lh.d)(this,(function(g){switch(g.label){case 0:n=Pg(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(c=void 0,(u=n.xh.get(a=o[s]))&&0!==u.length?[4,X_(n.Bc,Ey(u[0]))]:[3,7]):[3,13];case 2:c=g.sent(),l=0,h=u,g.label=3;case 3:return l<h.length?(d=n.Nh.get(h[l]),[4,_x(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ew(n.Bc,a)];case 8:return p=g.sent(),[4,X_(n.Bc,p)];case 9:return c=g.sent(),[4,ex(n,Ex(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(c),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Ch.Tc(i),r)]}}))}))}function Ex(t){return my(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cx(t){var e=Pg(t);return Pg(Pg(e.Bc).persistence).va()}function Sx(t,e,n,r){return Object(lh.b)(this,void 0,void 0,(function(){var i,s,o;return Object(lh.d)(this,(function(a){switch(a.label){case 0:return(i=Pg(t)).qh?(bg("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.xh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,nw(i.Bc)];case 3:return s=a.sent(),o=Cm.Xt(e,"current"===n),[4,bx(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,J_(i.Bc,e,!0)];case 6:return a.sent(),dx(i,e,r),[3,8];case 7:wg(),a.label=8;case 8:return[2]}}))}))}function Ox(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i,s,o,a,c,u,l,h;return Object(lh.d)(this,(function(d){switch(d.label){case 0:if(!(r=Tx(t)).qh)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.xh.has(o=s[i])?(bg("SyncEngine","Adding an already active target "+o),[3,5]):[4,ew(r.Bc,o)]:[3,6];case 2:return a=d.sent(),[4,X_(r.Bc,a)];case 3:return c=d.sent(),[4,ex(r,Ex(a),c.targetId,!1)];case 4:d.sent(),fw(r.ph,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return r.xh.has(t)?[4,J_(r.Bc,t,!1).then((function(){pw(r.ph,t),dx(r,t)})).catch(iw)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Tx(t){var e=Pg(t);return e.ph.Uc.Xc=ix.bind(null,e),e.ph.Uc.qe=vx.bind(null,e),e.ph.Uc.Jc=ox.bind(null,e),e.Ch.Tc=mv.bind(null,e.bh),e.Ch.Qh=bv.bind(null,e.bh),e}function kx(t){var e=Pg(t);return e.ph.Uc.Zc=ax.bind(null,e),e.ph.Uc.tu=cx.bind(null,e),e}var Ax=function(){function t(){}return t.prototype.Qa=function(t){this.Wh=t},t.prototype.Qi=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.W())}(e)||n.isEqual(Qg.min())?this.jh(t,e):this.Wh.qi(t,r).next((function(s){var o=i.Gh(e,s);return(yy(e)||vy(e))&&i.Ih(e.an,o,r,n)?i.jh(t,e):(mg()<=dh.a.DEBUG&&bg("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ay(e)),i.Wh.Qi(t,e,n).next((function(t){return o.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Gh=function(t,e){var n=new lm(Dy(t));return e.forEach((function(e,r){r instanceof dy&&Iy(t,r)&&(n=n.add(r))})),n},t.prototype.Ih=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.jh=function(t,e){return mg()<=dh.a.DEBUG&&bg("IndexFreeQueryEngine","Using full collection scan to execute query:",Ay(e)),this.Wh.Qi(t,e,Qg.min())},t}(),Ix=function(){function t(t,e){this.ki=t,this.qr=e,this.Oi=[],this.zh=1,this.Hh=new lm(Lw.iu)}return t.prototype.Qr=function(t){return Zy.resolve(0===this.Oi.length)},t.prototype.Wr=function(t,e,n,r){var i=this.zh;this.zh++;var s=new Sv(i,e,n,r);this.Oi.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.Hh=this.Hh.add(new Lw(c.key,i)),this.ki.jr(t,c.key.path.F())}return Zy.resolve(s)},t.prototype.Gr=function(t,e){return Zy.resolve(this.Yh(e))},t.prototype.Hr=function(t,e){var n=this.Jh(e+1),r=n<0?0:n;return Zy.resolve(this.Oi.length>r?this.Oi[r]:null)},t.prototype.Yr=function(){return Zy.resolve(0===this.Oi.length?-1:this.zh-1)},t.prototype.Jr=function(t){return Zy.resolve(this.Oi.slice())},t.prototype.$i=function(t,e){var n=this,r=new Lw(e,0),i=new Lw(e,Number.POSITIVE_INFINITY),s=[];return this.Hh.xt([r,i],(function(t){var e=n.Yh(t.fu);s.push(e)})),Zy.resolve(s)},t.prototype.Ki=function(t,e){var n=this,r=new lm(Sg);return e.forEach((function(t){var e=new Lw(t,0),i=new Lw(t,Number.POSITIVE_INFINITY);n.Hh.xt([e,i],(function(t){r=r.add(t.fu)}))})),Zy.resolve(this.Xh(r))},t.prototype.Hi=function(t,e){var n=e.path,r=n.length+1,i=n;Gg.X(i)||(i=i.child(""));var s=new Lw(new Gg(i),0),o=new lm(Sg);return this.Hh.Ft((function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(o=o.add(t.fu)),!0)}),s),Zy.resolve(this.Xh(o))},t.prototype.Xh=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Yh(t);null!==r&&n.push(r)})),n},t.prototype.Zr=function(t,e){var n=this;xg(0===this.Zh(e.batchId,"removed")),this.Oi.shift();var r=this.Hh;return Zy.forEach(e.mutations,(function(i){var s=new Lw(i.key,e.batchId);return r=r.delete(s),n.qr.so(t,i.key)})).next((function(){n.Hh=r}))},t.prototype.no=function(t){},t.prototype.ro=function(t,e){var n=new Lw(e,0),r=this.Hh.Ot(n);return Zy.resolve(e.isEqual(r&&r.key))},t.prototype.io=function(t){return Zy.resolve()},t.prototype.Zh=function(t,e){return this.Jh(t)},t.prototype.Jh=function(t){return 0===this.Oi.length?0:t-this.Oi[0].batchId},t.prototype.Yh=function(t){var e=this.Jh(t);return e<0||e>=this.Oi.length?null:this.Oi[e]},t}(),Dx=function(){function t(t,e){this.ki=t,this.tl=e,this.docs=new am(Gg.D),this.size=0}return t.prototype.yi=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.tl(e);return this.docs=this.docs.ot(r,{ho:e,size:o,readTime:n}),this.size+=o-s,this.ki.jr(t,r.path.F())},t.prototype.pi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.bi=function(t,e){var n=this.docs.get(e);return Zy.resolve(n?n.ho:null)},t.prototype.getEntries=function(t,e){var n=this,r=pm();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ho:null)})),Zy.resolve(r)},t.prototype.Qi=function(t,e,n){for(var r=mm(),i=new Gg(e.path.child("")),s=this.docs.ft(i);s.At();){var o=s.It(),a=o.value,c=a.ho,u=a.readTime;if(!e.path.M(o.key.path))break;u.u(n)<=0||c instanceof dy&&Iy(e,c)&&(r=r.ot(c.key,c))}return Zy.resolve(r)},t.prototype.el=function(t,e){return Zy.forEach(this.docs,(function(t){return e(t)}))},t.prototype.wo=function(t){return new Mx(this)},t.prototype.To=function(t){return Zy.resolve(this.size)},t}(),Mx=function(t){function e(e){var n=this;return(n=t.call(this)||this).Io=e,n}return Object(lh.c)(e,t),e.prototype.Di=function(t){var e=this,n=[];return this.Ri.forEach((function(r,i){i?n.push(e.Io.yi(t,i,e.readTime)):e.Io.pi(r)})),Zy.On(n)},e.prototype.vi=function(t,e){return this.Io.bi(t,e)},e.prototype.Si=function(t,e){return this.Io.getEntries(t,e)},e}(Tv),Nx=function(){function t(t){this.persistence=t,this.nl=new Vg((function(t){return Xg(t)}),Jg),this.lastRemoteSnapshotVersion=Qg.min(),this.highestTargetId=0,this.sl=0,this.il=new Rw,this.targetCount=0,this.rl=M_.yo()}return t.prototype.Ce=function(t,e){return this.nl.forEach((function(t,n){return e(n)})),Zy.resolve()},t.prototype.So=function(t){return Zy.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Do=function(t){return Zy.resolve(this.sl)},t.prototype.po=function(t){return this.highestTargetId=this.rl.next(),Zy.resolve(this.highestTargetId)},t.prototype.Co=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.sl&&(this.sl=e),Zy.resolve()},t.prototype.xo=function(t){this.nl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.rl=new M_(e),this.highestTargetId=e),t.sequenceNumber>this.sl&&(this.sl=t.sequenceNumber)},t.prototype.No=function(t,e){return this.xo(e),this.targetCount+=1,Zy.resolve()},t.prototype.Oo=function(t,e){return this.xo(e),Zy.resolve()},t.prototype.ko=function(t,e){return this.nl.delete(e.target),this.il.hu(e.targetId),this.targetCount-=1,Zy.resolve()},t.prototype.Or=function(t,e,n){var r=this,i=0,s=[];return this.nl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.nl.delete(o),s.push(r.Mo(t,a.targetId)),i++)})),Zy.On(s).next((function(){return i}))},t.prototype.$o=function(t){return Zy.resolve(this.targetCount)},t.prototype.Lo=function(t,e){var n=this.nl.get(e)||null;return Zy.resolve(n)},t.prototype.Bo=function(t,e,n){return this.il.au(e,n),Zy.resolve()},t.prototype.Uo=function(t,e,n){this.il.uu(e,n);var r=this.persistence.qr,i=[];return r&&e.forEach((function(e){i.push(r.so(t,e))})),Zy.On(i)},t.prototype.Mo=function(t,e){return this.il.hu(e),Zy.resolve()},t.prototype.Qo=function(t,e){var n=this.il._u(e);return Zy.resolve(n)},t.prototype.ro=function(t,e){return Zy.resolve(this.il.ro(e))},t}(),jx=function(){function t(t){var e=this;this.ol={},this.zo=new Mv(0),this.Ho=!1,this.Ho=!0,this.qr=t(this),this.sa=new Nx(this),this.ki=new d_,this.Fi=function(t,n){return new Dx(t,(function(t){return e.qr.al(t)}))}(this.ki)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ga=function(){return this.Ho=!1,Promise.resolve()},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.ha=function(){},t.prototype.la=function(){},t.prototype.Na=function(){return this.ki},t.prototype.Sa=function(t){var e=this.ol[t.ti()];return e||(e=new Ix(this.ki,this.qr),this.ol[t.ti()]=e),e},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.runTransaction=function(t,e,n){var r=this;bg("MemoryPersistence","Starting transaction:",t);var i=new Rx(this.zo.next());return this.qr.cl(),n(i).next((function(t){return r.qr.ul(i).next((function(){return t}))})).xn().then((function(t){return i.xi(),t}))},t.prototype.hl=function(t,e){return Zy.kn(Object.values(this.ol).map((function(n){return function(){return n.ro(t,e)}})))},t}(),Rx=function(t){function e(e){var n=this;return(n=t.call(this)||this).Wo=e,n}return Object(lh.c)(e,t),e}(Av),Lx=function(){function t(t){this.persistence=t,this.ll=new Rw,this._l=null}return t.fl=function(e){return new t(e)},Object.defineProperty(t.prototype,"dl",{get:function(){if(this._l)return this._l;throw wg()},enumerable:!1,configurable:!0}),t.prototype.qo=function(t,e,n){return this.ll.qo(n,e),this.dl.delete(n.toString()),Zy.resolve()},t.prototype.Ko=function(t,e,n){return this.ll.Ko(n,e),this.dl.add(n.toString()),Zy.resolve()},t.prototype.so=function(t,e){return this.dl.add(e.toString()),Zy.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.ll.hu(e.targetId).forEach((function(t){return n.dl.add(t.toString())}));var r=this.persistence.Da();return r.Qo(t,e.targetId).next((function(t){t.forEach((function(t){return n.dl.add(t.toString())}))})).next((function(){return r.ko(t,e)}))},t.prototype.cl=function(){this._l=new Set},t.prototype.ul=function(t){var e=this,n=this.persistence.Ca().wo();return Zy.forEach(this.dl,(function(r){var i=Gg.H(r);return e.wl(t,i).next((function(t){t||n.pi(i)}))})).next((function(){return e._l=null,n.apply(t)}))},t.prototype.Ma=function(t,e){var n=this;return this.wl(t,e).next((function(t){t?n.dl.delete(e.toString()):n.dl.add(e.toString())}))},t.prototype.al=function(t){return 0},t.prototype.wl=function(t,e){var n=this;return Zy.kn([function(){return Zy.resolve(n.ll.ro(e))},function(){return n.persistence.Da().ro(t,e)},function(){return n.persistence.hl(t,e)}])},t}(),Fx=function(){function t(t){this.El=t.El,this.Tl=t.Tl}return t.prototype.wc=function(t){this.Il=t},t.prototype.hc=function(t){this.ml=t},t.prototype.onMessage=function(t){this.Al=t},t.prototype.close=function(){this.Tl()},t.prototype.send=function(t){this.El(t)},t.prototype.Rl=function(){this.Il()},t.prototype.Pl=function(t){this.ml(t)},t.prototype.gl=function(t){this.Al(t)},t}(),Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ux=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.T=e.T,n}return Object(lh.c)(e,t),e.prototype.Sl=function(t,e,n,r){return new Promise((function(i,s){var o=new hg;o.listenOnce(ug.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case cg.NO_ERROR:var e=o.getResponseJson();bg("Connection","XHR received:",JSON.stringify(e)),i(e);break;case cg.TIMEOUT:bg("Connection",'RPC "'+t+'" timed out'),s(new pg(fg.DEADLINE_EXCEEDED,"Request time out"));break;case cg.HTTP_ERROR:var n=o.getStatus();if(bg("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(fg).indexOf(e)>=0?e:fg.UNKNOWN}(r.status);s(new pg(a,r.message))}else s(new pg(fg.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new pg(fg.UNAVAILABLE,"Connection failed."));break;default:wg()}}finally{bg("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.Ec=function(t,e){var n=[this.Vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new rg,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.vl(i.initMessageHeaders,e),Object(fh.m)()||Object(fh.o)()||Object(fh.k)()||Object(fh.l)()||Object(fh.p)()||Object(fh.j)()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");bg("Connection","Creating WebChannel: "+s,i);var o=r.createWebChannel(s,i),a=!1,c=!1,u=new Fx({El:function(t){c?bg("Connection","Not sending because WebChannel is closed:",t):(a||(bg("Connection","Opening WebChannel transport."),o.open(),a=!0),bg("Connection","WebChannel sending:",t),o.send(t))},Tl:function(){return o.close()}}),l=function(t,e){o.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(lg.EventType.OPEN,(function(){c||bg("Connection","WebChannel transport opened.")})),l(lg.EventType.CLOSE,(function(){c||(c=!0,bg("Connection","WebChannel transport closed"),u.Pl())})),l(lg.EventType.ERROR,(function(t){c||(c=!0,vg("Connection","WebChannel transport errored:",t),u.Pl(new pg(fg.UNAVAILABLE,"The operation could not be completed")))})),l(lg.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];xg(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){bg("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=em[t];if(void 0!==e)return om(e)}(i),a=r.message;void 0===s&&(s=fg.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,u.Pl(new pg(s,a)),o.close()}else bg("Connection","WebChannel received:",n),u.gl(n)}})),setTimeout((function(){u.Rl()}),0),u},e}(function(){function t(t){this.yl=t,this._=t._,this.Vl=(t.ssl?"https":"http")+"://"+t.host,this.pl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return t.prototype.Sc=function(t,e,n,r){var i=this.bl(t,e);bg("RestConnection","Sending: ",i,n);var s={};return this.vl(s,r),this.Sl(t,i,s,n).then((function(t){return bg("RestConnection","Received: ",t),t}),(function(e){throw vg("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Dc=function(t,e,n,r){return this.Sc(t,e,n,r)},t.prototype.vl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.1",t["Content-Type"]="text/plain",e)for(var n in e.si)e.si.hasOwnProperty(n)&&(t[n]=e.si[n])},t.prototype.bl=function(t,e){return this.Vl+"/v1/"+e+":"+Vx[t]},t}()),Qx=function(){function t(){var t=this;this.Dl=function(){return t.Cl()},this.Nl=function(){return t.xl()},this.Fl=[],this.Ol()}return t.prototype.zc=function(t){this.Fl.push(t)},t.prototype.ga=function(){window.removeEventListener("online",this.Dl),window.removeEventListener("offline",this.Nl)},t.prototype.Ol=function(){window.addEventListener("online",this.Dl),window.addEventListener("offline",this.Nl)},t.prototype.Cl=function(){bg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(0)},t.prototype.xl=function(){bg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Bx=function(){function t(){}return t.prototype.zc=function(t){},t.prototype.ga=function(){},t}();function Hx(t){return new tb(t,!0)}var zx=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return this.Sh=this.kl(t),this.persistence=this.Ml(t),[4,this.persistence.start()];case 1:return e.sent(),this.$l=this.Ll(t),this.Bc=this.Bl(t),[2]}}))}))},t.prototype.Ll=function(t){return null},t.prototype.Bl=function(t){return e=this.persistence,n=new Ax,new G_(e,n,t.ql);var e,n},t.prototype.Ml=function(t){return new jx(Lx.fl)},t.prototype.kl=function(t){return new $w},t.prototype.terminate=function(){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){switch(t.label){case 0:return this.$l&&this.$l.stop(),[4,this.Sh.ga()];case 1:return t.sent(),[4,this.persistence.ga()];case 2:return t.sent(),[2]}}))}))},t}(),qx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ul=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(lh.c)(e,t),e.prototype.initialize=function(e){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,rw(this.Bc)];case 2:return n.sent(),[4,this.Ul.initialize(this,e)];case 3:return n.sent(),[4,kx(this.Ul.mu)];case 4:return n.sent(),[4,Sw(this.Ul.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ll=function(t){return new Fv(this.persistence.qr.gr,t.cs)},e.prototype.Ml=function(t){var e=q_(t.yl._,t.yl.persistenceKey),n=void 0!==this.cacheSizeBytes?Lv.Ir(this.cacheSizeBytes):Lv.Rr,r=Hx(t.yl._);return new U_(this.synchronizeTabs,e,t.clientId,n,t.cs,av(),cv(),r,this.Sh,!!this.forceOwnership)},e.prototype.kl=function(t){return new $w},e}(zx),Gx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ul=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(lh.c)(e,t),e.prototype.initialize=function(e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r=this;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ul.mu,this.Sh instanceof Gw?(this.Sh.mu={sh:wx.bind(null,n),ih:Sx.bind(null,n),rh:Ox.bind(null,n),va:Cx.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ua((function(t){return Object(lh.b)(r,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return[4,xx(this.Ul.mu,t)];case 1:return e.sent(),this.$l&&(t&&!this.$l.br?this.$l.start(this.Bc):t||this.$l.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.kl=function(t){var e=av();if(!Gw.Ln(e))throw new pg(fg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=q_(t.yl._,t.yl.persistenceKey);return new Gw(e,t.cs,n,t.clientId,t.ql)},e}(qx),$x=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n=this;return Object(lh.d)(this,(function(r){switch(r.label){case 0:return this.Bc?[3,2]:(this.Bc=t.Bc,this.Sh=t.Sh,this.qc=this.Kl(e),this.ph=this.Ql(e),this.bh=this.Wl(e),this.mu=this.jl(e,!t.synchronizeTabs),this.Sh.Cc=function(t){return sx(n.mu,t,1)},this.ph.Uc.Gl=yx.bind(null,this.mu),[4,Mw(this.ph,this.mu.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Wl=function(t){return new fv},t.prototype.Kl=function(t){var e=Hx(t.yl._),n=new Ux(t.yl);return function(t,e,n){return new cw(t,e,n)}(t.credentials,n,e)},t.prototype.Ql=function(t){var e,n,r,i,s,o=this;return e=this.Bc,n=this.qc,r=t.cs,i=function(t){return sx(o.mu,t,0)},s=Qx.Ln()?new Qx:new Bx,new lw(e,n,r,i,s)},t.prototype.jl=function(t,e){return function(t,e,n,r,i,s,o){var a=new Jw(t,e,n,r,i,s);return o&&(a.qh=!0),a}(this.Bc,this.ph,this.bh,this.Sh,t.ql,t.Dh,e)},t.prototype.terminate=function(){return function(t){return Object(lh.b)(this,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(n){switch(n.label){case 0:return e=Pg(t),bg("RemoteStore","RemoteStore shutting down."),e.Wc.add(5),[4,dw(e)];case 1:return n.sent(),e.Gc.ga(),e.Hc.set("Unknown"),[2]}}))}))}(this.ph)},t}(),Wx=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.zl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.zl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Hl=function(){this.muted=!0},t.prototype.zl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Kx(t,e,n){if(!n)throw new pg(fg.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Yx(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new pg(fg.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Zx(t,e,n,r){if(!0===e&&!0===r)throw new pg(fg.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Xx(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":wg()}function Jx(t,e){if(e<=0)throw new pg(fg.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var tP=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new pg(fg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Yl=new qg(t)},eP=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return Object(lh.c)(e,t),e.documentId=function(){return new e(qg.j().B())},e.prototype.isEqual=function(t){return t instanceof e&&this.Yl.isEqual(t.Yl)},e}(tP),nP=new RegExp("[~\\*/\\[\\]]"),rP=function(t){this.Jl=t},iP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(lh.c)(e,t),e.prototype.Xl=function(t){if(2!==t.Zl)throw t.t_(1===t.Zl?this.Jl+"() can only appear at the top level of your update data":this.Jl+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(rP);function sP(t,e,n){return new bP({Zl:3,e_:e.settings.e_,methodName:t.Jl,n_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var oP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(lh.c)(e,t),e.prototype.Xl=function(t){return new zb(t.path,new jb)},e.prototype.isEqual=function(t){return t instanceof e},e}(rP),aP=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return Object(lh.c)(e,t),e.prototype.Xl=function(t){var e=sP(this,t,!0),n=this.s_.map((function(t){return PP(t,e)})),r=new Rb(n);return new zb(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rP),cP=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return Object(lh.c)(e,t),e.prototype.Xl=function(t){var e=sP(this,t,!0),n=this.s_.map((function(t){return PP(t,e)})),r=new Fb(n);return new zb(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rP),uP=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).i_=n,r}return Object(lh.c)(e,t),e.prototype.Xl=function(t){var e=new Ub(t.serializer,rb(t.serializer,this.i_));return new zb(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(rP),lP=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new pg(fg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pg(fg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.r_=t,this.o_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.r_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.o_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.r_===t.r_&&this.o_===t.o_},t.prototype.toJSON=function(){return{latitude:this.r_,longitude:this.o_}},t.prototype.g=function(t){return Sg(this.r_,t.r_)||Sg(this.o_,t.o_)},t}(),hP=function(t){this.a_=t},dP=/^__.*__$/,fP=function(t,e,n){this.c_=t,this.u_=e,this.h_=n},pP=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[];return n.push(null!==this.Qe?new ey(t,this.data,this.Qe,e):new ty(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ry(t,this.fieldTransforms)),n},t}(),gP=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[new ey(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new ry(t,this.fieldTransforms)),n},t}();function mP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wg()}}var bP=function(){function t(t,e,n,r,i,s){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.__(),this.fieldTransforms=i||[],this.Qe=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Zl",{get:function(){return this.settings.Zl},enumerable:!1,configurable:!0}),t.prototype.f_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.d_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.w_(t),r},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.__(),r},t.prototype.T_=function(t){return this.f_({path:void 0,n_:!0})},t.prototype.t_=function(t){return kP(t,this.settings.methodName,this.settings.I_||!1,this.path,this.settings.e_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.M(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.M(e.field)}))},t.prototype.__=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.w_(this.path.get(t))},t.prototype.w_=function(t){if(0===t.length)throw this.t_("Document fields must not be empty");if(mP(this.Zl)&&dP.test(t))throw this.t_('Document fields cannot begin and end with "__"')},t}(),yP=function(){function t(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||Hx(t)}return t.prototype.m_=function(t,e,n,r){return void 0===r&&(r=!1),new bP({Zl:t,methodName:e,e_:n,path:qg.U(),n_:!1,I_:r},this._,this.serializer,this.ignoreUndefinedProperties)},t}();function vP(t,e,n,r,i,s){void 0===s&&(s={});var o=t.m_(s.merge||s.mergeFields?2:0,e,n,i);SP("Data must be an object, but it was:",o,r);var a,c,u=EP(r,o);if(s.merge)a=new Hb(o.Qe),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=d[h],p=void 0;if(f instanceof tP)p=f.Yl;else{if("string"!=typeof f)throw wg();p=TP(e,f,n)}if(!o.contains(p))throw new pg(fg.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");AP(l,p)||l.push(p)}a=new Hb(l),c=o.fieldTransforms.filter((function(t){return a.Ye(t.field)}))}else a=null,c=o.fieldTransforms;return new pP(new cy(u),a,c)}function _P(t,e,n,r){var i=t.m_(1,e,n);SP("Data must be an object, but it was:",i,r);var s=[],o=new uy;Lg(r,(function(t,r){var a=TP(e,t,n),c=i.E_(a);if(r instanceof iP||r instanceof hP&&r.a_ instanceof iP)s.push(a);else{var u=PP(r,c);null!=u&&(s.push(a),o.set(a,u))}}));var a=new Hb(s);return new gP(o.Xe(),a,i.fieldTransforms)}function wP(t,e,n,r,i,s){var o=t.m_(1,e,n),a=[OP(e,r,n)],c=[i];if(s.length%2!=0)throw new pg(fg.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(OP(e,s[u])),c.push(s[u+1]);for(var l=[],h=new uy,d=a.length-1;d>=0;--d)if(!AP(l,a[d])){var f=a[d],p=c[d],g=o.E_(f);if(p instanceof iP||p instanceof hP&&p.a_ instanceof iP)l.push(f);else{var m=PP(p,g);null!=m&&(l.push(f),h.set(f,m))}}var b=new Hb(l);return new gP(h.Xe(),b,o.fieldTransforms)}function xP(t,e,n,r){return void 0===r&&(r=!1),PP(n,t.m_(r?4:3,e))}function PP(t,e){if(t instanceof hP&&(t=t.a_),CP(t))return SP("Unsupported field value:",e,t),EP(t,e);if(t instanceof rP)return function(t,e){if(!mP(e.Zl))throw e.t_(t.Jl+"() can only be used with update() and set()");if(!e.path)throw e.t_(t.Jl+"() is not currently supported inside arrays");var n=t.Xl(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.n_&&4!==e.Zl)throw e.t_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=PP(s[i],e.T_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rb(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ug.fromDate(t);return{timestampValue:ib(e.serializer,n)}}if(t instanceof Ug){var r=new Ug(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ib(e.serializer,r)}}if(t instanceof lP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ag)return{bytesValue:sb(e.serializer,t.l)};if(t instanceof fP){var i=e._,s=t.c_;if(!s.isEqual(i))throw e.t_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:cb(t.c_||e._,t.u_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.t_("Unsupported field value: "+Xx(t))}(t,e)}function EP(t,e){var n={};return Fg(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):Lg(t,(function(t,r){var i=PP(r,e.d_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function CP(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ug||t instanceof lP||t instanceof Ag||t instanceof fP||t instanceof rP)}function SP(t,e,n){if(!CP(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Xx(n);throw e.t_("an object"===r?t+" a custom object":t+" "+r)}}function OP(t,e,n){if(e instanceof tP)return e.Yl;if("string"==typeof e)return TP(t,e);throw kP("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function TP(t,e,n){try{return function(t){if(t.search(nP)>=0)throw new pg(fg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(eP.bind.apply(eP,Object(lh.g)([void 0],t.split("."))))}catch(e){throw new pg(fg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Yl}catch(e){throw kP((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function kP(t,e,n,r,i){var s=r&&!r.P(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new pg(fg.INVALID_ARGUMENT,(a+=". ")+t+c)}function AP(t,e){return t.some((function(t){return t.isEqual(e)}))}var IP=function(){function t(t){this.qc=t,this.A_=new Map,this.mutations=[],this.R_=!1,this.P_=null,this.g_=new Set}return t.prototype.y_=function(t){return Object(lh.b)(this,void 0,void 0,(function(){var e,n=this;return Object(lh.d)(this,(function(r){switch(r.label){case 0:if(this.V_(),this.mutations.length>0)throw new pg(fg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(lh.d)(this,(function(c){switch(c.label){case 0:return n=Pg(t),r=pb(n.serializer)+"/documents",i={documents:e.map((function(t){return lb(n.serializer,t)}))},[4,n.Dc("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){xg(!!e.found);var n=hb(t,e.found.name),r=ab(e.found.updateTime),i=new cy({mapValue:{fields:e.found.fields}});return new dy(n,r,i,{})}(t,e):"missing"in e?function(t,e){xg(!!e.missing),xg(!!e.readTime);var n=hb(t,e.missing),r=ab(e.readTime);return new fy(n,r)}(t,e):wg()}(n.serializer,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());xg(!!e),a.push(e)})),a)]}}))}))}(this.qc,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof fy||t instanceof dy?n.p_(t):wg()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.l_(t,this.Ge(t))),this.g_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.l_(t,this.b_(t)))}catch(t){this.P_=t}this.g_.add(t.toString())},t.prototype.delete=function(t){this.write([new oy(t,this.Ge(t))]),this.g_.add(t.toString())},t.prototype.commit=function(){return Object(lh.b)(this,void 0,void 0,(function(){var t,e=this;return Object(lh.d)(this,(function(n){switch(n.label){case 0:if(this.V_(),this.P_)throw this.P_;return t=this.A_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Gg.H(n);e.mutations.push(new ay(r,e.Ge(r)))})),[4,function(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i;return Object(lh.d)(this,(function(s){switch(s.label){case 0:return n=Pg(t),r=pb(n.serializer)+"/documents",i={writes:e.map((function(t){return bb(n.serializer,t)}))},[4,n.Sc("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.qc,this.mutations)];case 1:return n.sent(),this.R_=!0,[2]}}))}))},t.prototype.p_=function(t){var e;if(t instanceof dy)e=t.version;else{if(!(t instanceof fy))throw wg();e=Qg.min()}var n=this.A_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new pg(fg.ABORTED,"Document version changed between two reads.")}else this.A_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.A_.get(t.toString());return!this.g_.has(t.toString())&&e?Gb.updateTime(e):Gb.ze()},t.prototype.b_=function(t){var e=this.A_.get(t.toString());if(!this.g_.has(t.toString())&&e){if(e.isEqual(Qg.min()))throw new pg(fg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gb.updateTime(e)}return Gb.exists(!0)},t.prototype.write=function(t){this.V_(),this.mutations=this.mutations.concat(t)},t.prototype.V_=function(){},t}(),DP=function(){function t(t,e,n,r){this.cs=t,this.qc=e,this.updateFunction=n,this.ls=r,this.v_=5,this.ys=new Yy(this.cs,"transaction_retry")}return t.prototype.run=function(){this.S_()},t.prototype.S_=function(){var t=this;this.ys.Pn((function(){return Object(lh.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(lh.d)(this,(function(r){return t=new IP(this.qc),(e=this.D_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.C_(t)}))}))})).catch((function(t){n.C_(t)})),[2]}))}))}))},t.prototype.D_=function(t){try{var e=this.updateFunction(t);return!$g(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.C_=function(t){var e=this;this.v_>0&&this.N_(t)?(this.v_-=1,this.cs.ws((function(){return e.S_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.N_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!sm(e)}return!1},t}(),MP=function(){function t(t,e,n){var r=this;this.credentials=t,this.cs=e,this.yl=n,this.user=_v.UNAUTHENTICATED,this.clientId=Cg.t(),this.x_=function(){},this.ui=new Ky,this.credentials.oi((function(t){bg("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.x_(t)),r.ui.resolve()}))}return t.prototype.getConfiguration=function(){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){switch(t.label){case 0:return[4,this.ui.promise];case 1:return[2,(t.sent(),{cs:this.cs,yl:this.yl,clientId:this.clientId,credentials:this.credentials,ql:this.user,Dh:100})]}}))}))},t.prototype.F_=function(t){var e=this;this.x_=t,this.ui.promise.then((function(){return e.x_(e.user)}))},t.prototype.O_=function(){if(this.cs.ps)throw new pg(fg.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new Ky;return this.cs.bs((function(){return Object(lh.b)(t,void 0,void 0,(function(){var t,n;return Object(lh.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.k_?[4,this.k_.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.M_?[4,this.M_.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ai(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function NP(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r=this;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return t.cs.Fs(),bg("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.F_((function(n){return t.cs.Cs((function(){return Object(lh.b)(r,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){switch(t.label){case 0:return[4,$_(e.Bc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.ha((function(){return t.terminate()})),t.M_=e,[2]}}))}))}function jP(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return t.cs.Fs(),[4,RP(t)];case 1:return n=i.sent(),bg("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.F_((function(n){return t.cs.Cs((function(){return function(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return(n=Pg(t)).cs.Fs(),bg("RemoteStore","RemoteStore received new credentials"),r=vw(n),n.Wc.add(3),[4,dw(n)];case 1:return i.sent(),r&&n.Hc.set("Unknown"),[4,n.Uc.Gl(e)];case 2:return i.sent(),n.Wc.delete(3),[4,hw(n)];case 3:return i.sent(),[2]}}))}))}(e.ph,n)}))})),t.k_=e,[2]}}))}))}function RP(t){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return t.M_?[3,2]:(bg("FirestoreClient","Using default OfflineComponentProvider"),[4,NP(t,new zx)]);case 1:e.sent(),e.label=2;case 2:return[2,t.M_]}}))}))}function LP(t){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return t.k_?[3,2]:(bg("FirestoreClient","Using default OnlineComponentProvider"),[4,jP(t,new $x)]);case 1:e.sent(),e.label=2;case 2:return[2,t.k_]}}))}))}function FP(t){return RP(t).then((function(t){return t.persistence}))}function VP(t){return RP(t).then((function(t){return t.Bc}))}function UP(t){return LP(t).then((function(t){return t.ph}))}function QP(t){return LP(t).then((function(t){return t.mu}))}function BP(t){return Object(lh.b)(this,void 0,void 0,(function(){var e,n;return Object(lh.d)(this,(function(r){switch(r.label){case 0:return[4,LP(t)];case 1:return e=r.sent(),[2,((n=e.bh).Us=tx.bind(null,e.mu),n.Ws=nx.bind(null,e.mu),n)]}}))}))}function HP(t,e,n,r){var i=this,s=new Wx(r),o=new vv(e,s,n);return t.cs.ws((function(){return Object(lh.b)(i,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(n){switch(n.label){case 0:return e=pv,[4,BP(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.Hl(),t.cs.ws((function(){return Object(lh.b)(i,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(n){switch(n.label){case 0:return e=gv,[4,BP(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}function zP(t,e){var n=this,r=new Ky;return t.cs.ws((function(){return Object(lh.b)(n,void 0,void 0,(function(){var n;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return n=rx,[4,QP(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}function qP(t,e){var n=this,r=new Wx(e);return t.cs.ws((function(){return Object(lh.b)(n,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pg(t).qs.add(e),e.next()},[4,BP(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Hl(),t.cs.ws((function(){return Object(lh.b)(n,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pg(t).qs.delete(e)},[4,BP(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}function GP(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var $P=function(){function t(t,e,n,r){this._=t,this.L_=e,this.B_=n,this.q_=r}return t.prototype.U_=function(t){switch(Lm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zm(t.integerValue||t.doubleValue);case 3:return this.K_(t.timestampValue);case 4:return this.Q_(t);case 5:return t.stringValue;case 6:return this.q_(qm(t.bytesValue));case 7:return this.W_(t.referenceValue);case 8:return this.j_(t.geoPointValue);case 9:return this.G_(t.arrayValue);case 10:return this.z_(t.mapValue);default:throw wg()}},t.prototype.z_=function(t){var e=this,n={};return Lg(t.fields||{},(function(t,r){n[t]=e.U_(r)})),n},t.prototype.j_=function(t){return new lP(zm(t.latitude),zm(t.longitude))},t.prototype.G_=function(t){var e=this;return(t.values||[]).map((function(t){return e.U_(t)}))},t.prototype.Q_=function(t){switch(this.L_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Nm(n)?t(n):n}(t);return null==e?null:this.U_(e);case"estimate":return this.K_(jm(t));default:return null}},t.prototype.K_=function(t){var e=Hm(t);return new Ug(e.seconds,e.nanos)},t.prototype.W_=function(t){var e=Hg.q(t);xg(Ab(e));var n=new jg(e.get(1),e.get(3)),r=new Gg(e.N(5));return n.isEqual(this._)||yg("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.B_(r)},t}(),WP=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new pg(fg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new pg(fg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Zx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function KP(t){XP(t);var e=rE(t),n=t.H_(),r=new $x;return YP(e,r,new Gx(r,n.cacheSizeBytes))}function YP(t,e,n){var r=this,i=new Ky;return t.cs.enqueue((function(){return Object(lh.b)(r,void 0,void 0,(function(){var r;return Object(lh.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,NP(t,n)];case 1:return s.sent(),[4,jP(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===fg.FAILED_PRECONDITION||t.code===fg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ZP(t){var e=this;if(t.Y_&&!t.J_)throw new pg(fg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ky;return t.X_.bs((function(){return Object(lh.b)(e,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(e){switch(e.label){case 0:return Xy.Ln()?[4,Xy.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(q_(t.c_,t.Z_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}function XP(t){if(t.Y_||t.J_)throw new pg(fg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var JP="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",tE=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){throw new pg(fg.FAILED_PRECONDITION,JP)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new pg(fg.FAILED_PRECONDITION,JP)},t.prototype.clearIndexedDbPersistence=function(t){throw new pg(fg.FAILED_PRECONDITION,JP)},t}(),eE=function(){function t(){this.enableMultiTabIndexedDbPersistence=KP.bind(null),this.clearIndexedDbPersistence=ZP.bind(null)}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){XP(t);var n=rE(t),r=t.H_(),i=new $x;return YP(n,i,new qx(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t,{forceOwnership:e})},t}(),nE=function(){function t(e,n,r){var i=this;if(void 0===r&&(r=new tE),this.tf=r,this.ef=null,this.X_=new lv,this.INTERNAL={delete:function(){return Object(lh.b)(i,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){switch(t.label){case 0:return this.nf||iE(this),[4,this.nf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.ef=s,this.c_=t.sf(s),this.Z_=s.name,this.if=new Pv(n)}else{var o=e;if(!o.projectId)throw new pg(fg.INVALID_ARGUMENT,"Must provide projectId");this.c_=new jg(o.projectId,o.database),this.Z_="[DEFAULT]",this.if=new xv}this.rf=new WP({})}return Object.defineProperty(t.prototype,"Y_",{get:function(){return!!this.nf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"J_",{get:function(){return this.X_.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"af",{get:function(){return this.cf||(this.cf=new yP(this.c_,this.rf.ignoreUndefinedProperties)),this.cf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.rf),t)).merge;var e=new WP(t);if(this.nf&&!this.rf.isEqual(e))throw new pg(fg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.rf=e,void 0!==e.credentials&&(this.if=function(t){if(!t)return new xv;switch(t.type){case"gapi":var e=t.client;return xg(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Cv(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new pg(fg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.rf.host&&vg("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return rE(this),function(t){var e=this;return t.cs.enqueue((function(){return Object(lh.b)(e,void 0,void 0,(function(){var e,n;return Object(lh.d)(this,(function(r){switch(r.label){case 0:return[4,FP(t)];case 1:return e=r.sent(),[4,UP(t)];case 2:return n=r.sent(),[2,(e.la(!0),function(t){var e=Pg(t);return e.Wc.delete(0),hw(e)}(n))]}}))}))}))}(this.nf)},t.prototype.disableNetwork=function(){return rE(this),function(t){var e=this;return t.cs.enqueue((function(){return Object(lh.b)(e,void 0,void 0,(function(){var e,n;return Object(lh.d)(this,(function(r){switch(r.label){case 0:return[4,FP(t)];case 1:return e=r.sent(),[4,UP(t)];case 2:return n=r.sent(),[2,(e.la(!1),function(t){return Object(lh.b)(this,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(n){switch(n.label){case 0:return(e=Pg(t)).Wc.add(0),[4,dw(e)];case 1:return n.sent(),e.Hc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(this.nf)},t.prototype.enablePersistence=function(t){if(this.nf)throw new pg(fg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&Zx("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tf.enableMultiTabIndexedDbPersistence(this):this.tf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return Object(lh.b)(this,void 0,void 0,(function(){return Object(lh.d)(this,(function(t){return[2,this.tf.clearIndexedDbPersistence(this)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},t.prototype.waitForPendingWrites=function(){return rE(this),function(t){var e=this,n=new Ky;return t.cs.ws((function(){return Object(lh.b)(e,void 0,void 0,(function(){var e;return Object(lh.d)(this,(function(r){switch(r.label){case 0:return e=ux,[4,QP(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(this.nf)},t.prototype.onSnapshotsInSync=function(t){return rE(this),GP(t)?qP(this.nf,t):qP(this.nf,{next:t})},t.sf=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new pg(fg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new pg(fg.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new jg(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ef)throw new pg(fg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ef},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Kx("Firestore.collection","path",t),rE(this),new bE(Hg.q(t),this,null)},t.prototype.doc=function(t){return Kx("Firestore.doc","path",t),rE(this),aE.uf(Hg.q(t),this,null)},t.prototype.collectionGroup=function(t){if(Kx("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new pg(fg.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return rE(this),new gE(function(t){return new gy(Hg.U(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,r=new Ky;return t.cs.ws((function(){return Object(lh.b)(n,void 0,void 0,(function(){var n;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return LP(t).then((function(t){return t.qc}))}(t)];case 1:return n=i.sent(),new DP(t.cs,n,e,r).run(),[2]}}))}))})),r.promise}(rE(this),(function(n){return t(new sE(e,n))}))},t.prototype.batch=function(){return rE(this),new oE(this)},t.prototype.H_=function(){return this.rf},t}();function rE(t){return t.nf||iE(t),t.nf.O_(),t.nf}function iE(t){var e=t.H_(),n=function(t,e,n){return new Ng(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.c_,t.Z_,e);t.nf=new MP(t.if,t.X_,n)}var sE=function(){function t(t,e){this.hf=t,this.lf=e}return t.prototype.get=function(t){var e=this,n=yE(0,t,this.hf);return this.lf.y_([n.u_]).then((function(t){if(!t||1!==t.length)return wg();var r=t[0];if(r instanceof fy)return new uE(e.hf,n.u_,null,!1,!1,n.h_);if(r instanceof dy)return new uE(e.hf,n.u_,r,!1,!1,n.h_);throw wg()}))},t.prototype.set=function(t,e,n){var r=yE(0,t,this.hf);n=Yx("Transaction.set",n);var i=_E(r.h_,e,n),s=vP(this.hf.af,"Transaction.set",r.u_,i,null!==r.h_,n);return this.lf.set(r.u_,s),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof eP?(r=yE(0,t,this.hf),i=wP(this.hf.af,"Transaction.update",r.u_,e,n,s)):(r=yE(0,t,this.hf),i=_P(this.hf.af,"Transaction.update",r.u_,e)),this.lf.update(r.u_,i),this},t.prototype.delete=function(t){var e=yE(0,t,this.hf);return this.lf.delete(e.u_),this},t}(),oE=function(){function t(t){this.hf=t,this._f=[],this.ff=!1}return t.prototype.set=function(t,e,n){this.df();var r=yE(0,t,this.hf);n=Yx("WriteBatch.set",n);var i=_E(r.h_,e,n),s=vP(this.hf.af,"WriteBatch.set",r.u_,i,null!==r.h_,n);return this._f=this._f.concat(s.l_(r.u_,Gb.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.df(),"string"==typeof e||e instanceof eP?(r=yE(0,t,this.hf),i=wP(this.hf.af,"WriteBatch.update",r.u_,e,n,s)):(r=yE(0,t,this.hf),i=_P(this.hf.af,"WriteBatch.update",r.u_,e)),this._f=this._f.concat(i.l_(r.u_,Gb.exists(!0))),this},t.prototype.delete=function(t){this.df();var e=yE(0,t,this.hf);return this._f=this._f.concat(new oy(e.u_,Gb.ze())),this},t.prototype.commit=function(){return this.df(),this.ff=!0,this._f.length>0?zP(rE(this.hf),this._f):Promise.resolve()},t.prototype.df=function(){if(this.ff)throw new pg(fg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),aE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.c_,e,r)||this).u_=e,i.firestore=n,i.h_=r,i.nf=rE(n),i}return Object(lh.c)(e,t),e.uf=function(t,n,r){if(t.length%2!=0)throw new pg(fg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new e(new Gg(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new bE(this.u_.path.F(),this.firestore,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.u_.path.B()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Kx("DocumentReference.collection","path",t),!t)throw new pg(fg.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Hg.q(t);return new bE(this.u_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof e&&this.firestore===t.firestore&&this.u_.isEqual(t.u_)&&this.h_===t.h_},e.prototype.set=function(t,e){e=Yx("DocumentReference.set",e);var n=_E(this.h_,t,e),r=vP(this.firestore.af,"DocumentReference.set",this.u_,n,null!==this.h_,e);return zP(this.nf,r.l_(this.u_,Gb.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof eP?wP(this.firestore.af,"DocumentReference.update",this.u_,t,e,r):_P(this.firestore.af,"DocumentReference.update",this.u_,t),zP(this.nf,n.l_(this.u_,Gb.exists(!0)))},e.prototype.delete=function(){return zP(this.nf,[new oy(this.u_,Gb.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||GP(i[a])||(o=i[a],a++);var c={includeMetadataChanges:o.includeMetadataChanges};if(GP(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}var l={next:function(t){i[a]&&i[a](r.wf(t))},error:i[a+1],complete:i[a+2]};return HP(this.nf,by(this.u_.path),c,l)},e.prototype.get=function(t){var e=this;return t&&"cache"===t.source?function(t,e){var n=this,r=new Ky;return t.cs.ws((function(){return Object(lh.b)(n,void 0,void 0,(function(){var n;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i,s;return Object(lh.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Pg(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ka.Mi(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof dy?n.resolve(r):r instanceof fy?n.resolve(null):n.reject(new pg(fg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=hv(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,VP(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(this.nf,this.u_).then((function(t){return new uE(e.firestore,e.u_,t,!0,t instanceof dy&&t.Je,e.h_)})):function(t,e,n){var r=this;void 0===n&&(n={});var i=new Ky;return t.cs.ws((function(){return Object(lh.b)(r,void 0,void 0,(function(){var r;return Object(lh.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Wx({next:function(s){e.ws((function(){return gv(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new pg(fg.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new pg(fg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new vv(by(n.path),s,{includeMetadataChanges:!0,Xs:!0});return pv(t,o)},[4,BP(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.cs,e,n,i])]}}))}))})),i.promise}(this.nf,this.u_,t).then((function(t){return e.wf(t)}))},e.prototype.withConverter=function(t){return new e(this.u_,this.firestore,t)},e.prototype.wf=function(t){var e=t.docs.get(this.u_);return new uE(this.firestore,this.u_,e,t.fromCache,t.hasPendingWrites,this.h_)},e}(fP),cE=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),uE=function(){function t(t,e,n,r,i,s){this.hf=t,this.u_=e,this.Ef=n,this.Tf=r,this.If=i,this.h_=s}return t.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.Ef){if(this.h_){var n=new lE(this.hf,this.u_,this.Ef,this.Tf,this.If,null);return this.h_.fromFirestore(n,t)}return new $P(this.hf.c_,t.serverTimestamps||"none",(function(t){return new aE(t,e.hf,null)}),(function(t){return new Mg(t)})).U_(this.Ef.rn())}},t.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.Ef){var r=this.Ef.data().field(OP("DocumentSnapshot.get",t,this.u_));if(null!==r)return new $P(this.hf.c_,e.serverTimestamps||"none",(function(t){return new aE(t,n.hf,n.h_)}),(function(t){return new Mg(t)})).U_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new aE(this.u_,this.hf,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new cE(this.If,this.Tf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&this.Tf===e.Tf&&this.u_.isEqual(e.u_)&&(null===this.Ef?null===e.Ef:this.Ef.isEqual(e.Ef))&&this.h_===e.h_},t}(),lE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(lh.c)(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(uE);function hE(t,e,n){if("string"==typeof n){if(""===n)throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xy(e)&&-1!==n.indexOf("/"))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Hg.q(n));if(!Gg.X(r))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Gm(t,new Gg(r))}if(n instanceof fP)return Gm(t,n.u_);throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xx(n)+".")}function dE(t,e){if(!Array.isArray(t)||0===t.length)throw new pg(fg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new pg(fg.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function fE(t,e,n){if(!n.isEqual(e))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function pE(t){if(vy(t)&&0===t.on.length)throw new pg(fg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gE=function(){function t(t,e,n){this.mf=t,this.firestore=e,this.h_=n}return t.prototype.where=function(e,n,r){var i=OP("Query.where",e),s=function(t,e,n,r,i,s,o){var a;if(i.W()){if("array-contains"===s||"array-contains-any"===s)throw new pg(fg.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){dE(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(hE(r,t,l[u]));a={arrayValue:{values:c}}}else a=hE(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||dE(o,s),a=xP(n,"Query.where",o,"in"===s||"not-in"===s);var h=My.create(i,s,a);return function(t,e){if(e.hn()){var n=wy(t);if(null!==n&&!n.isEqual(e.field))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=_y(t);null!==r&&fE(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new pg(fg.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.mf,0,this.firestore.af,this.firestore.c_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new gy(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.mf,s),this.firestore,this.h_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new pg(fg.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=OP("Query.orderBy",e),s=function(t,e,n){if(null!==t.startAt)throw new pg(fg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new pg(fg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gy(e,n);return function(t,e){if(null===_y(t)){var n=wy(t);null!==n&&fE(0,n,e.field)}}(t,r),r}(this.mf,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new gy(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.mf,s),this.firestore,this.h_)},t.prototype.limit=function(e){return Jx("Query.limit",e),new t(Cy(this.mf,e,"F"),this.firestore,this.h_)},t.prototype.limitToLast=function(e){return Jx("Query.limitToLast",e),new t(Cy(this.mf,e,"L"),this.firestore,this.h_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAt",e,n,!0);return new t(Sy(this.mf,i),this.firestore,this.h_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAfter",e,n,!1);return new t(Sy(this.mf,i),this.firestore,this.h_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endBefore",e,n,!0);return new t(Oy(this.mf,i),this.firestore,this.h_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endAt",e,n,!1);return new t(Oy(this.mf,i),this.firestore,this.h_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&Ty(this.mf,e.mf)&&this.h_===e.h_},t.prototype.withConverter=function(e){return new t(this.mf,this.firestore,e)},t.prototype.Af=function(t,e,n,r){if(e instanceof uE)return function(t,e,n,r,i){if(!r)throw new pg(fg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Py(t);o<a.length;o++){var c=a[o];if(c.field.W())s.push(Gm(e,r.key));else{var u=r.field(c.field);if(Nm(u))throw new pg(fg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.B();throw new pg(fg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new By(s,i)}(this.mf,this.firestore.c_,t,e.Ef,r);var i=[e].concat(n);return function(t,e,n,r,i,s){var o=t.on;if(i.length>o.length)throw new pg(fg.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.W()){if("string"!=typeof u)throw new pg(fg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!xy(t)&&-1!==u.indexOf("/"))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(Hg.q(u));if(!Gg.X(l))throw new pg(fg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Gg(l);a.push(Gm(e,h))}else{var d=xP(n,r,u);a.push(d)}}return new By(a,s)}(this.mf,this.firestore.c_,this.firestore.af,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o={},a=0;if("object"!=typeof i[a]||GP(i[a])||(o=i[a],a++),GP(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var u={next:function(t){i[a]&&i[a](new mE(r.firestore,r.mf,t,r.h_))},error:i[a+1],complete:i[a+2]};return pE(this.mf),HP(rE(this.firestore),this.mf,o,u)},t.prototype.get=function(t){var e=this;pE(this.mf);var n=rE(this.firestore);return(t&&"cache"===t.source?function(t,e){var n=this,r=new Ky;return t.cs.ws((function(){return Object(lh.b)(n,void 0,void 0,(function(){var n;return Object(lh.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(lh.b)(this,void 0,void 0,(function(){var r,i,s,o,a,c;return Object(lh.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,tw(t,e,!0)];case 1:return r=u.sent(),i=new Yw(e,r.za),s=i.wh(r.documents),o=i.Di(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),c=hv(a,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))},[4,VP(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,this.mf):function(t,e,n){var r=this;void 0===n&&(n={});var i=new Ky;return t.cs.ws((function(){return Object(lh.b)(r,void 0,void 0,(function(){var r;return Object(lh.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Wx({next:function(n){e.ws((function(){return gv(t,o)})),n.fromCache&&"server"===r.source?i.reject(new pg(fg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new vv(n,s,{includeMetadataChanges:!0,Xs:!0});return pv(t,o)},[4,BP(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.cs,e,n,i])]}}))}))})),i.promise}(n,this.mf,t)).then((function(t){return new mE(e.firestore,e.mf,t,e.h_)}))},t}(),mE=function(){function t(t,e,n,r){this.hf=t,this.Rf=e,this.Pf=n,this.h_=r,this.gf=null,this.yf=null,this.metadata=new cE(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Pf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Pf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Pf.docs.forEach((function(r){t.call(e,n.Vf(r,n.metadata.fromCache,n.Pf.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new gE(this.Rf,this.hf,this.h_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=!(!t||!t.includeMetadataChanges);if(e&&this.Pf.jt)throw new pg(fg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.gf&&this.yf===e||(this.gf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Kt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:vE(e.type),doc:r,oldIndex:s,newIndex:o}}))}(this.Pf,e,this.Vf.bind(this)),this.yf=e),this.gf},t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&Ty(this.Rf,e.Rf)&&this.Pf.isEqual(e.Pf)&&this.h_===e.h_},t.prototype.Vf=function(t,e,n){return new lE(this.hf,t.key,t,e,n,this.h_)},t}(),bE=function(t){function e(e,n,r){var i=this;if((i=t.call(this,by(e),n,r)||this).pf=e,e.length%2!=1)throw new pg(fg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.B()+" has "+e.length);return i}return Object(lh.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.mf.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.mf.path.F();return t.P()?null:new aE(new Gg(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.mf.path.B()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=Cg.t()),Kx("CollectionReference.doc","path",t);var e=Hg.q(t);return aE.uf(this.mf.path.child(e),this.firestore,this.h_)},e.prototype.add=function(t){var e=this.h_?this.h_.toFirestore(t):t,n=this.doc();return new aE(n.u_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.pf,this.firestore,t)},e}(gE);function yE(t,e,n){var r=function(t,e){if(!(t instanceof e)){if(e.name===t.constructor.name)throw new pg(fg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Xx(t);throw new pg(fg.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}(e,aE);if(r.firestore!==n)throw new pg(fg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function vE(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wg()}}function _E(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var wE,xE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(lh.c)(e,t),e.serverTimestamp=function(){var t=new oP("serverTimestamp");return t.Jl="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new iP("deleteField");return t.Jl="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new aP("arrayUnion",t)}).apply(void 0,t);return r.Jl="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cP("arrayRemove",t)}).apply(void 0,t);return r.Jl="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new uP("increment",t)}(t);return n.Jl="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.a_.isEqual(t.a_)},e}(hP),PE={Firestore:nE,GeoPoint:lP,Timestamp:Ug,Blob:Mg,Transaction:sE,WriteBatch:oE,DocumentReference:aE,DocumentSnapshot:uE,Query:gE,QueryDocumentSnapshot:lE,QuerySnapshot:mE,CollectionReference:bE,FieldPath:eP,FieldValue:xE,setLogLevel:function(t){gg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new dg.a("firestore",(function(t){return function(t,e){return new nE(t,e,new eE)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},PE)))})(wE=hh.a),wE.registerVersion("@firebase/firestore","2.0.1"),n("VRyK"),n("qgXg"),n("Ylt2"),n("tf+s");const EE=new r.q("angularfire2.auth.use-emulator");function CE(t,e){return function(t,e=nh.a){return new ne.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function SE(t,e){return CE(t,e).pipe(Object(pe.a)(t=>({payload:t,type:"query"})))}function OE(t,e){return SE(t,e).pipe(Ke(void 0),rh(),Object(pe.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function TE(t,e,n){return OE(t,n).pipe(Ye((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return kE(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return kE(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kE(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new oh(void 0,void 0)),Object(pe.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function kE(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function AE(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class IE{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=OE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(pe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ke(void 0),rh(),ye(([t,e])=>e.length>0||!t),Object(pe.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ye((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=AE(t);return TE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return SE(this.query,this.afs.schedulers.outsideAngular).pipe(Object(pe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Xt.a)(this.query.get(t)).pipe(Object(ch.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new DE(this.ref.doc(t),this.afs)}}class DE{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=FE(n,e);return new IE(r,i,this.afs)}snapshotChanges(){return CE(this.ref,this.afs.schedulers.outsideAngular).pipe(Ke(void 0),rh(),Object(pe.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(pe.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Xt.a)(this.ref.get(t)).pipe(Object(ch.b)(this.afs.schedulers.insideAngular))}}class ME{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?OE(this.query,this.afs.schedulers.outsideAngular).pipe(Object(pe.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ye(t=>t.length>0),this.afs.keepUnstableUntilFirst):OE(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ye((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=AE(t);return TE(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return SE(this.query,this.afs.schedulers.outsideAngular).pipe(Object(pe.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Xt.a)(this.query.get(t)).pipe(Object(ch.b)(this.afs.schedulers.insideAngular))}}const NE=new r.q("angularfire2.enableFirestorePersistence"),jE=new r.q("angularfire2.firestore.persistenceSettings"),RE=new r.q("angularfire2.firestore.settings"),LE=new r.q("angularfire2.firestore.use-emulator");function FE(t,e=(t=>t)){return{query:e(t),ref:t}}let VE=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new eh.d(s),this.keepUnstableUntilFirst=Object(eh.h)(this.schedulers);const u=Object(eh.g)(t,s,e);!uh.a.auth&&c&&Object(eh.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(eh.f)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(Xt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Zt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Zt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=FE(n,e),s=this.schedulers.ngZone.run(()=>r);return new IE(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ME(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new DE(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(eh.c),r.Ub(eh.b,8),r.Ub(NE,8),r.Ub(RE,8),r.Ub(r.B),r.Ub(r.z),r.Ub(jE,8),r.Ub(LE,8),r.Ub(EE,8))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Ub(eh.c),r.Ub(eh.b,8),r.Ub(NE,8),r.Ub(RE,8),r.Ub(r.B),r.Ub(r.z),r.Ub(jE,8),r.Ub(LE,8),r.Ub(EE,8))},token:t,providedIn:"any"}),t})(),UE=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:NE,useValue:!0},{provide:jE,useValue:e}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[VE]}),t})();const QE=`${i}`;let BE=(()=>{class t{constructor(t){this.http=t}getAll(t,e){return this.http.get(QE+"/storage/page?page="+t+"&keyWord="+e)}getAllS(){return this.http.get(QE+"/storage/list")}saveStorage(t){return this.http.post(`${QE}/storage/create`,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function HE(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.tc(2),r.Pb(),r.Qb(3,"td"),r.tc(4),r.Pb(),r.Qb(5,"td"),r.tc(6),r.Pb(),r.Qb(7,"td"),r.tc(8),r.Pb(),r.Qb(9,"td"),r.tc(10),r.dc(11,"date"),r.Pb(),r.Pb()),2&t){const t=e.$implicit,n=e.index,i=r.cc();r.Ab(2),r.uc(n+1+5*i.number),r.Ab(2),r.uc(t.foodType),r.Ab(2),r.uc(t.amount),r.Ab(2),r.uc(t.unit),r.Ab(2),r.uc(r.ec(11,5,t.date,"dd/MM/yyyy"))}}function zE(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",27),r.Qb(1,"a",28),r.Yb("click",(function(){return r.mc(t),r.cc().goPrevious()})),r.tc(2,"Previous"),r.Pb(),r.Pb()}}function qE(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",27),r.Qb(1,"a",29),r.Yb("click",(function(){return r.mc(t),r.cc().goPrevious()})),r.tc(2),r.Pb(),r.Pb()}if(2&t){const t=r.cc();r.Ab(2),r.uc(t.number)}}function GE(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",27),r.Qb(1,"a",29),r.Yb("click",(function(){return r.mc(t),r.cc().goNext()})),r.tc(2),r.Pb(),r.Pb()}if(2&t){const t=r.cc();r.Ab(2),r.uc(t.number+2)}}function $E(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",27),r.Qb(1,"a",29),r.Yb("click",(function(){return r.mc(t),r.cc().goNext()})),r.tc(2,"Next"),r.Pb(),r.Pb()}}function WE(t,e){1&t&&(r.Qb(0,"p",28),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function KE(t,e){1&t&&(r.Qb(0,"p",28),r.tc(1," Nh\u1eadp s\u1ed1 d\u01b0\u01a1ng"),r.Pb())}function YE(t,e){1&t&&(r.Qb(0,"p",28),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function ZE(t,e){1&t&&(r.Qb(0,"p",28),r.tc(1," Ph\u1ea3i nh\u1eadp s\u1ed1 > 0"),r.Pb())}function XE(t,e){1&t&&(r.Qb(0,"p",28),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function JE(t,e){1&t&&(r.Qb(0,"p",28),r.tc(1," Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}const tC=[{path:"storage/page",component:(()=>{class t{constructor(t){this.storageService=t,this.searchForm=new io({foodType:new ro("")}),this.storageList=[],this.foodType=""}ngOnInit(){this.getAll(0,"")}getAll(t,e){this.storageService.getAll(t,e).subscribe(t=>{var e,n;this.number=null===(e=t)||void 0===e?void 0:e.number,this.storageList=null===(n=t)||void 0===n?void 0:n.content,this.checkNext=!t.last,this.checkPreview=!t.first},t=>{console.log(t)})}goPrevious(){this.number--,this.getAll(this.number,this.foodType)}goNext(){this.number++,this.getAll(this.number,this.foodType)}searchStorage(){this.foodType=this.searchForm.value.foodType,this.getAll(0,this.foodType)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(BE))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-storage-employee-list"]],decls:51,vars:7,consts:[[1,"vc_empty_space",2,"height","10px"],[1,"vc_empty_space_inner"],[1,"bg"],[1,"container","mt-4","pb-2"],[1,"mt-3",2,"text-align","center","font-size","30px"],[1,"row","mt-3"],[1,"col-3"],["routerLink","/storage/create",1,"ms-3","btn","btn-outline-success",2,"width","auto"],[1,"col-9",3,"formGroup"],[1,"row"],[1,"col-4"],[1,"col-3","position-relative","mx-auto"],["formControlName","foodType","type","text","placeholder","Lo\u1ea1i th\u1ee9c \u0103n",1,"form-control","bg-transparent","py-2","w-100",3,"keydown.enter"],[1,"col-2","position-relative","mx-auto",2,"text-align","left"],[1,"btn","btn-outline-success",3,"click"],[1,"table","table-striped","table-hover","mt-3","mb-3",2,"border-radius","20px"],[2,"background-color","#017428"],[1,"text-light"],[4,"ngFor","ngForOf"],[2,"text-align","center","display","flex","justify-content","center"],["aria-label","..."],[1,"pagination","justify-content-end"],["class","page-item",4,"ngIf"],[1,"page-item","active"],["href","#",1,"page-link"],[1,"sr-only"],[1,"vc_empty_space",2,"height","30px"],[1,"page-item"],["tabindex","-1",1,"page-link",3,"click"],[1,"page-link",3,"click"]],template:function(t,e){1&t&&(r.tc(0,"<<<<<<< HEAD\n"),r.Qb(1,"div",0),r.Mb(2,"span",1),r.Pb(),r.tc(3," =======\n>>>>>>> developer\n"),r.Qb(4,"div",2),r.Qb(5,"div",0),r.Mb(6,"span",1),r.Pb(),r.Qb(7,"div",3),r.Qb(8,"div",4),r.tc(9,"Danh S\xe1ch Kh\u1ed1i L\u01b0\u1ee3ng Th\u1ee9c \u0102n Trong Kho"),r.Pb(),r.Qb(10,"div",5),r.Qb(11,"div",6),r.Qb(12,"a",7),r.tc(13,"Nh\u1eadp"),r.Pb(),r.Pb(),r.Qb(14,"div",8),r.Qb(15,"div",9),r.Mb(16,"div",10),r.Mb(17,"div",6),r.Qb(18,"div",11),r.Qb(19,"input",12),r.Yb("keydown.enter",(function(){return e.searchStorage()})),r.Pb(),r.Pb(),r.Qb(20,"div",13),r.Qb(21,"button",14),r.Yb("click",(function(){return e.searchStorage()})),r.tc(22," T\xecm ki\u1ebfm "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(23,"table",15),r.Qb(24,"thead"),r.Qb(25,"tr",16),r.Qb(26,"th",17),r.tc(27,"STT"),r.Pb(),r.Qb(28,"th",17),r.tc(29,"LO\u1ea0I TH\u1ee8C \u0102N"),r.Pb(),r.Qb(30,"th",17),r.tc(31,"S\u1ed0 L\u01af\u1ee2NG"),r.Pb(),r.Qb(32,"th",17),r.tc(33,"\u0110\u01a0N V\u1eca"),r.Pb(),r.Qb(34,"th",17),r.tc(35,"NG\xc0Y NH\u1eacP"),r.Pb(),r.Pb(),r.Pb(),r.Qb(36,"tbody"),r.rc(37,HE,12,8,"tr",18),r.Pb(),r.Pb(),r.Mb(38,"div",19),r.Qb(39,"nav",20),r.Qb(40,"ul",21),r.rc(41,zE,3,0,"li",22),r.rc(42,qE,3,1,"li",22),r.Qb(43,"li",23),r.Qb(44,"a",24),r.Qb(45,"span",25),r.tc(46),r.Pb(),r.Pb(),r.Pb(),r.rc(47,GE,3,1,"li",22),r.rc(48,$E,3,0,"li",22),r.Pb(),r.Pb(),r.Pb(),r.Qb(49,"div",26),r.Mb(50,"span",1),r.Pb(),r.Pb()),2&t&&(r.Ab(14),r.gc("formGroup",e.searchForm),r.Ab(23),r.gc("ngForOf",e.storageList),r.Ab(4),r.gc("ngIf",e.checkPreview),r.Ab(1),r.gc("ngIf",e.checkPreview),r.Ab(4),r.uc(e.number+1),r.Ab(1),r.gc("ngIf",e.checkNext),r.Ab(1),r.gc("ngIf",e.checkNext))},directives:[Ei,ls,wo,ns,us,To,ot,ct],pipes:[ft],styles:[".bg[_ngcontent-%COMP%]{margin:0 auto;background-image:url(pig-backgroup.d8b17fba1977e353057d.jpeg);background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:20px;opacity:1%}"]}),t})()},{path:"storage/employee-create",component:(()=>{class t{constructor(t,e,n){this.storageService=t,this.router=e,this.toastrService=n,this.storageForm=new io({id:new ro(""),foodType:new ro("",[gs.required]),amount:new ro("",[gs.required,gs.pattern("[1-9][0-9]*")]),unit:new ro("",[gs.required]),date:new ro("",[gs.required])})}ngOnInit(){this.getAll()}getAll(){return this.storageService.getAll(0,this.foodType).subscribe(t=>{this.storageList=t})}submit(){this.storageService.saveStorage(this.storageForm.value).subscribe(()=>{this.router.navigateByUrl("/storage/page"),this.toastrService.success("Th\xeam th\xe0nh c\xf4ng"),this.storageForm.reset()},t=>console.log(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(BE),r.Lb(xi),r.Lb(wu))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-storage-employee-create"]],decls:63,vars:7,consts:[[1,"container-fluid"],[1,"vc_empty_space",2,"height","64px"],[1,"vc_empty_space_inner"],[1,"container"],[1,"row","formRow"],[1,"col-lg-6","formRow_create",3,"formGroup","ngSubmit"],[1,"mb-3","formRow_create_title"],[1,"formRow_create_content"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","foodType",1,"form-control"],["style","color:red",4,"ngIf"],[1,"row"],[1,"col-md"],["type","number","formControlName","amount",1,"form-control"],["formControlName","unit",1,"form-control"],["value","","disabled",""],["value","Kg"],["value","T\u1ea5n"],["type","date","id","myText","formControlName","date",1,"form-control"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-around"],["routerLink","/storage/page",1,"btn","btn-outline-danger"],[1,"bi","bi-backspace"],["type","submit",1,"btn","btn-outline-success"],[1,"bi","bi-plus-circle"],["type","reset",1,"btn","btn-outline-secondary"],[1,"bi","bi-x-octagon"],[2,"color","red"]],template:function(t,e){1&t&&(r.Qb(0,"body"),r.Qb(1,"div",0),r.Qb(2,"div",1),r.Mb(3,"span",2),r.Pb(),r.Qb(4,"div",3),r.Qb(5,"div",4),r.Qb(6,"form",5),r.Yb("ngSubmit",(function(){return e.submit()})),r.Qb(7,"div",6),r.Qb(8,"h5"),r.Qb(9,"b"),r.tc(10,"Nh\u1eadp v\xe0o kho"),r.Pb(),r.Pb(),r.Pb(),r.Mb(11,"hr"),r.Qb(12,"div",7),r.Qb(13,"div",8),r.Qb(14,"label",9),r.tc(15,"Lo\u1ea1i th\u1ee9c \u0103n "),r.Qb(16,"span",10),r.tc(17,"*"),r.Pb(),r.Pb(),r.Mb(18,"input",11),r.rc(19,WE,2,0,"p",12),r.rc(20,KE,2,0,"p",12),r.Pb(),r.Qb(21,"div",8),r.Qb(22,"div",13),r.Qb(23,"div",14),r.Qb(24,"label",9),r.tc(25,"S\u1ed1 l\u01b0\u1ee3ng "),r.Qb(26,"span",10),r.tc(27,"*"),r.Pb(),r.Pb(),r.Mb(28,"input",15),r.rc(29,YE,2,0,"p",12),r.rc(30,ZE,2,0,"p",12),r.Pb(),r.Qb(31,"div",14),r.Qb(32,"label",9),r.tc(33,"\u0110\u01a1n v\u1ecb "),r.Qb(34,"span",10),r.tc(35,"*"),r.Pb(),r.Pb(),r.Qb(36,"select",16),r.Qb(37,"option",17),r.tc(38,"-----Ch\u1ecdn-----"),r.Pb(),r.Qb(39,"option",18),r.tc(40,"Kg"),r.Pb(),r.Qb(41,"option",19),r.tc(42,"T\u1ea5n"),r.Pb(),r.Pb(),r.rc(43,XE,2,0,"p",12),r.Pb(),r.Pb(),r.Pb(),r.Qb(44,"div",8),r.Qb(45,"label",9),r.tc(46,"Ng\xe0y nh\u1eadp "),r.Qb(47,"span",10),r.tc(48,"*"),r.Pb(),r.Pb(),r.Mb(49,"input",20),r.rc(50,JE,2,0,"p",12),r.Pb(),r.Qb(51,"div",21),r.Qb(52,"button",22),r.Mb(53,"i",23),r.tc(54," Quay L\u1ea1i"),r.Pb(),r.Qb(55,"button",24),r.Mb(56,"i",25),r.tc(57," Th\xeam m\u1edbi"),r.Pb(),r.Qb(58,"button",26),r.Mb(59,"i",27),r.tc(60," Nh\u1eadp l\u1ea1i"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(61,"div",1),r.Mb(62,"span",2),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(6),r.gc("formGroup",e.storageForm),r.Ab(13),r.gc("ngIf",e.storageForm.controls.foodType.hasError("required")&&e.storageForm.controls.foodType.touched),r.Ab(1),r.gc("ngIf",e.storageForm.controls.foodType.hasError("pattern")&&e.storageForm.controls.foodType.touched),r.Ab(9),r.gc("ngIf",e.storageForm.controls.amount.hasError("required")&&e.storageForm.controls.amount.touched),r.Ab(1),r.gc("ngIf",e.storageForm.controls.amount.hasError("pattern")&&e.storageForm.controls.amount.touched),r.Ab(13),r.gc("ngIf",e.storageForm.controls.unit.hasError("required")&&e.storageForm.controls.unit.touched),r.Ab(7),r.gc("ngIf",e.storageForm.controls.date.hasError("required")&&e.storageForm.controls.date.touched))},directives:[yo,ls,wo,ns,us,To,ct,xs,Ns,js,Vs,Pi],styles:[".formRow[_ngcontent-%COMP%]{display:flex;justify-content:center}.formRow_create[_ngcontent-%COMP%]{border-radius:15px;padding:15px;box-shadow:2px 7px 9px 3px rgba(27,25,25,.2);background:#fff;opacity:1%}body[_ngcontent-%COMP%]{margin:0 auto;background-image:url(storage-warehouse.97aab16c412fb0ed0979.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%}hr[_ngcontent-%COMP%]{width:90%;height:50px;border:none;border-bottom:2px solid #1f1209;box-shadow:0 20px 20px -20px #242323;margin:-50px auto 10px}.formRow_create_title[_ngcontent-%COMP%]{text-align:center;background-color:#198754;border-radius:7px;color:#fff}button[_ngcontent-%COMP%]{margin-bottom:2%}label[_ngcontent-%COMP%]{font-weight:700}h5[_ngcontent-%COMP%]{font-size:2vw;padding:1% 0}"]}),t})()}];let eC=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fi.forChild(tC)],Fi]}),t})(),nC=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[gt,eC,No,rl]]}),t})();function rC(t){return t instanceof Date&&!isNaN(+t)}const iC="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function sC(t,e,n){const r=n||(t=>Array.prototype.slice.call(t));let i=!1,s=[];return function(...n){s=r(n),i||(i=!0,iC.call(window,()=>{i=!1,t.apply(e,s)}))}}const oC=t=>"start"===t?"left":"end"===t?"right":"center",aC=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function cC(){}const uC=function(){let t=0;return function(){return t++}}();function lC(t){return null==t}function hC(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function dC(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const fC=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function pC(t,e){return fC(t)?t:e}function gC(t,e){return void 0===t?e:t}const mC=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function bC(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)}function yC(t,e,n,r){let i,s,o;if(hC(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(dC(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function vC(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function _C(t){if(hC(t))return t.map(_C);if(dC(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=_C(t[n[i]]);return e}return t}function wC(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function xC(t,e,n,r){if(!wC(t))return;const i=e[t],s=n[t];dC(i)&&dC(s)?PC(i,s,r):e[t]=_C(s)}function PC(t,e,n){const r=hC(e)?e:[e],i=r.length;if(!dC(t))return t;const s=(n=n||{}).merger||xC;for(let o=0;o<i;++o){if(!dC(e=r[o]))continue;const i=Object.keys(e);for(let r=0,o=i.length;r<o;++r)s(i[r],t,e,n)}return t}function EC(t,e){return PC(t,e,{merger:CC})}function CC(t,e,n){if(!wC(t))return;const r=e[t],i=n[t];dC(r)&&dC(i)?EC(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_C(i))}function SC(t,e){const n=t.indexOf(".",e);return-1===n?t.length:n}function OC(t,e){if(""===e)return t;let n=0,r=SC(e,n);for(;t&&r>n;)t=t[e.slice(n,r)],n=r+1,r=SC(e,n);return t}function TC(t){return t.charAt(0).toUpperCase()+t.slice(1)}const kC=t=>void 0!==t,AC=t=>"function"==typeof t,IC=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0},DC=Math.PI,MC=2*DC,NC=MC+DC,jC=Number.POSITIVE_INFINITY,RC=DC/180,LC=DC/2,FC=DC/4,VC=2*DC/3,UC=Math.log10,QC=Math.sign;function BC(t){const e=Math.round(t);t=zC(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(UC(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function HC(t){return!isNaN(parseFloat(t))&&isFinite(t)}function zC(t,e,n){return Math.abs(t-e)<n}function qC(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function GC(t){return t*(DC/180)}function $C(t){return t*(180/DC)}function WC(t){if(!fC(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function KC(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*DC&&(s+=MC),{angle:s,distance:i}}function YC(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ZC(t,e){return(t-e+NC)%MC-DC}function XC(t){return(t%MC+MC)%MC}function JC(t,e,n,r){const i=XC(t),s=XC(e),o=XC(n),a=XC(s-i),c=XC(o-i),u=XC(i-s),l=XC(i-o);return i===s||i===o||r&&s===o||a>c&&u<l}function tS(t,e,n){return Math.max(e,Math.min(n,t))}function eS(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}const nS=t=>0===t||1===t,rS=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*MC/n),iS=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*MC/n)+1,sS={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*LC),easeOutSine:t=>Math.sin(t*LC),easeInOutSine:t=>-.5*(Math.cos(DC*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>nS(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>nS(t)?t:rS(t,.075,.3),easeOutElastic:t=>nS(t)?t:iS(t,.075,.3),easeInOutElastic:t=>nS(t)?t:t<.5?.5*rS(2*t,.1125,.45):.5+.5*iS(2*t-1,.1125,.45),easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-sS.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*sS.easeInBounce(2*t):.5*sS.easeOutBounce(2*t-1)+.5};function oS(t){return t+.5|0}const aS=(t,e,n)=>Math.max(Math.min(t,n),e);function cS(t){return aS(oS(2.55*t),0,255)}function uS(t){return aS(oS(255*t),0,255)}function lS(t){return aS(oS(t/2.55)/100,0,1)}function hS(t){return aS(oS(100*t),0,100)}const dS={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fS=[..."0123456789ABCDEF"],pS=t=>fS[15&t],gS=t=>fS[(240&t)>>4]+fS[15&t],mS=t=>(240&t)>>4==(15&t),bS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yS(t,e,n){const r=e*Math.min(n,1-n),i=(e,i=(e+t/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function vS(t,e,n){const r=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function _S(t,e,n){const r=yS(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function wS(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=(i+s)/2;let a,c,u;return i!==s&&(u=i-s,c=o>.5?u/(2-i-s):u/(i+s),a=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,u,i),a=60*a+.5),[0|a,c||0,o]}function xS(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(uS)}function PS(t,e,n){return xS(yS,t,e,n)}function ES(t){return(t%360+360)%360}const CS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let OS;const TS=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,kS=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,AS=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function IS(t,e,n){if(t){let r=wS(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=PS(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function DS(t,e){return t?Object.assign(e||{},t):t}function MS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=uS(t[3]))):(e=DS(t,{r:0,g:0,b:0,a:1})).a=uS(e.a),e}class NS{constructor(t){if(t instanceof NS)return t;const e=typeof t;let n;var r,i,s;"object"===e?n=MS(t):"string"===e&&(s=(r=t).length,"#"===r[0]&&(4===s||5===s?i={r:255&17*dS[r[1]],g:255&17*dS[r[2]],b:255&17*dS[r[3]],a:5===s?17*dS[r[4]]:255}:7!==s&&9!==s||(i={r:dS[r[1]]<<4|dS[r[2]],g:dS[r[3]]<<4|dS[r[4]],b:dS[r[5]]<<4|dS[r[6]],a:9===s?dS[r[7]]<<4|dS[r[8]]:255})),n=i||function(t){OS||(OS=function(){const t={},e=Object.keys(SS),n=Object.keys(CS);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,CS[s]);s=parseInt(SS[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),OS.transparent=[0,0,0,0]);const e=OS[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(t)||function(t){return"r"===t.charAt(0)?function(t){const e=TS.exec(t);let n,r,i,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?cS(t):aS(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?cS(n):aS(n,0,255)),r=255&(e[4]?cS(r):aS(r,0,255)),i=255&(e[6]?cS(i):aS(i,0,255)),{r:n,g:r,b:i,a:s}}}(t):function(t){const e=bS.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?cS(+e[5]):uS(+e[5]));const i=ES(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return xS(_S,t,e,n)}(i,s,o):"hsv"===e[1]?function(t,e,n){return xS(vS,t,e,n)}(i,s,o):PS(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}(t)}(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=DS(this._rgb);return t&&(t.a=lS(t.a)),t}set rgb(t){this._rgb=MS(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${lS(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?(e=(t=>mS(t.r)&&mS(t.g)&&mS(t.b)&&mS(t.a))(t=this._rgb)?pS:gS,t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0):void 0;var t,e}hslString(){return this._valid?function(t){if(!t)return;const e=wS(t),n=e[0],r=hS(e[1]),i=hS(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${lS(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const s=e===i?.5:e,o=2*s-1,a=n.a-r.a,c=((o*a==-1?o:(o+a)/(1+o*a))+1)/2;i=1-c,n.r=255&c*n.r+i*r.r+.5,n.g=255&c*n.g+i*r.g+.5,n.b=255&c*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=AS(lS(t.r)),i=AS(lS(t.g)),s=AS(lS(t.b));return{r:uS(kS(r+n*(AS(lS(e.r))-r))),g:uS(kS(i+n*(AS(lS(e.g))-i))),b:uS(kS(s+n*(AS(lS(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new NS(this.rgb)}alpha(t){return this._rgb.a=uS(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=oS(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return IS(this._rgb,2,t),this}darken(t){return IS(this._rgb,2,-t),this}saturate(t){return IS(this._rgb,1,t),this}desaturate(t){return IS(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=wS(t);n[0]=ES(n[0]+e),n=PS(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function jS(t){return new NS(t)}function RS(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function LS(t){return RS(t)?t:jS(t)}function FS(t){return RS(t)?t:jS(t).saturate(.5).darken(.1).hexString()}const VS=Object.create(null),US=Object.create(null);function QS(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function BS(t,e,n){return"string"==typeof e?PC(QS(t,e),n):PC(QS(t,""),e)}var HS=new class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>FS(e.backgroundColor),this.hoverBorderColor=(t,e)=>FS(e.borderColor),this.hoverColor=(t,e)=>FS(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return BS(this,t,e)}get(t){return QS(this,t)}describe(t,e){return BS(US,t,e)}override(t,e){return BS(VS,t,e)}route(t,e,n,r){const i=QS(this,t),s=QS(this,n),o="_"+e;Object.defineProperties(i,{[o]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[r];return dC(t)?Object.assign({},e,t):gC(t,e)},set(t){this[o]=t}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function zS(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function qS(t,e,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let c,u,l,h,d;for(c=0;c<a;c++)if(h=n[c],null!=h&&!0!==hC(h))o=zS(t,i,s,o,h);else if(hC(h))for(u=0,l=h.length;u<l;u++)d=h[u],null==d||hC(d)||(o=zS(t,i,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(c=0;c<f;c++)delete i[s[c]];s.splice(0,f)}return o}function GS(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function $S(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function WS(t,e,n,r){let i,s,o,a,c;const u=e.pointStyle,l=e.rotation,h=e.radius;let d=(l||0)*RC;if(u&&"object"==typeof u&&(i=u.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return t.save(),t.translate(n,r),t.rotate(d),t.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),void t.restore();if(!(isNaN(h)||h<=0)){switch(t.beginPath(),u){default:t.arc(n,r,h,0,MC),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(d)*h,r-Math.cos(d)*h),d+=VC,t.lineTo(n+Math.sin(d)*h,r-Math.cos(d)*h),d+=VC,t.lineTo(n+Math.sin(d)*h,r-Math.cos(d)*h),t.closePath();break;case"rectRounded":c=.516*h,a=h-c,s=Math.cos(d+FC)*a,o=Math.sin(d+FC)*a,t.arc(n-s,r-o,c,d-DC,d-LC),t.arc(n+o,r-s,c,d-LC,d),t.arc(n+s,r+o,c,d,d+LC),t.arc(n-o,r+s,c,d+LC,d+DC),t.closePath();break;case"rect":if(!l){a=Math.SQRT1_2*h,t.rect(n-a,r-a,2*a,2*a);break}d+=FC;case"rectRot":s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,r-o),t.lineTo(n+o,r-s),t.lineTo(n+s,r+o),t.lineTo(n-o,r+s),t.closePath();break;case"crossRot":d+=FC;case"cross":s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,r-o),t.lineTo(n+s,r+o),t.moveTo(n+o,r-s),t.lineTo(n-o,r+s);break;case"star":s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,r-o),t.lineTo(n+s,r+o),t.moveTo(n+o,r-s),t.lineTo(n-o,r+s),d+=FC,s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,r-o),t.lineTo(n+s,r+o),t.moveTo(n+o,r-s),t.lineTo(n-o,r+s);break;case"line":s=Math.cos(d)*h,o=Math.sin(d)*h,t.moveTo(n-s,r-o),t.lineTo(n+s,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(d)*h,r+Math.sin(d)*h)}t.fill(),e.borderWidth>0&&t.stroke()}}function KS(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function YS(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ZS(t){t.restore()}function XS(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function JS(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function tO(t,e,n,r,i,s={}){const o=hC(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let c,u;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),lC(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),c=0;c<o.length;++c)u=o[c],a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),lC(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),eO(t,n,r,u,s),r+=i.lineHeight;t.restore()}function eO(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,c=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,l=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,l),t.lineTo(a,l),t.stroke()}}function nO(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,-LC,DC,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,DC,LC,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,LC,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-LC,!0),t.lineTo(n+o.topLeft,r)}const rO=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),iO=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function sO(t,e){const n=(""+t).match(rO);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}function oO(t,e){const n={},r=dC(e),i=r?Object.keys(e):e,s=dC(t)?r?n=>gC(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of i)n[o]=+s(o)||0;return n}function aO(t){return oO(t,{top:"y",right:"x",bottom:"y",left:"x"})}function cO(t){return oO(t,["topLeft","topRight","bottomLeft","bottomRight"])}function uO(t){const e=aO(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function lO(t,e){let n=gC((t=t||{}).size,(e=e||HS.font).size);"string"==typeof n&&(n=parseInt(n,10));let r=gC(t.style,e.style);r&&!(""+r).match(iO)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:gC(t.family,e.family),lineHeight:sO(gC(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:gC(t.weight,e.weight),string:""};return i.string=function(t){return!t||lC(t.size)||lC(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function hO(t,e,n,r){let i,s,o,a=!0;for(i=0,s=t.length;i<s;++i)if(o=t[i],void 0!==o&&(void 0!==e&&"function"==typeof o&&(o=o(e),a=!1),void 0!==n&&hC(o)&&(o=o[n%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function dO(t,e){return Object.assign(Object.create(t),e)}function fO(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const pO=(t,e,n)=>fO(t,n,r=>t[r][e]<n),gO=(t,e,n)=>fO(t,n,r=>t[r][e]>=n),mO=["push","pop","shift","splice","unshift"];function bO(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(mO.forEach(e=>{delete t[e]}),delete t._chartjs)}function yO(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}function vO(t,e=[""],n=t,r,i=(()=>t[0])){kC(r)||(r=AO("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:i=>vO([i,...t],e,n,r)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>EO(n,r,()=>function(t,e,n,r){let i;for(const s of e)if(i=AO(xO(s,t),n),kC(i))return PO(t,i)?TO(n,r,t,i):i}(r,e,t,n)),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>IO(t).includes(e),ownKeys:t=>IO(t),set(t,e,n){const r=t._storage||(t._storage=i());return t[e]=r[e]=n,delete t._keys,!0}})}function _O(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:wO(t,r),setContext:e=>_O(t,e,n,r),override:i=>_O(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>EO(t,e,()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return AC(a)&&o.isScriptable(e)&&(a=function(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(s,o||r),a.delete(t),PO(t,e)&&(e=TO(i._scopes,i,t,e)),e}(e,a,t,n)),hC(a)&&a.length&&(a=function(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(kC(s.index)&&r(t))e=e[s.index%e.length];else if(dC(e[0])){const n=e,r=i._scopes.filter(t=>t!==n);e=[];for(const c of n){const n=TO(r,i,t,c);e.push(_O(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable)),PO(e,a)&&(a=_O(a,i,s&&s[e],o)),a}(t,e,n)),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function wO(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:AC(n)?n:()=>n,isIndexable:AC(r)?r:()=>r}}const xO=(t,e)=>t?t+TC(e):e,PO=(t,e)=>dC(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function EO(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function CO(t,e,n){return AC(t)?t(e,n):t}const SO=(t,e)=>!0===t?e:"string"==typeof t?OC(e,t):void 0;function OO(t,e,n,r,i){for(const s of e){const e=SO(n,s);if(e){t.add(e);const s=CO(e._fallback,n,i);if(kC(s)&&s!==n&&s!==r)return s}else if(!1===e&&kC(r)&&n!==r)return null}return!1}function TO(t,e,n,r){const i=e._rootScopes,s=CO(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let c=kO(a,o,n,s||n,r);return null!==c&&(!kC(s)||s===n||(c=kO(a,o,s,c,r),null!==c))&&vO(Array.from(a),[""],i,s,()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return hC(i)&&dC(n)?n:i}(e,n,r))}function kO(t,e,n,r,i){for(;n;)n=OO(t,e,n,r,i);return n}function AO(t,e){for(const n of e){if(!n)continue;const e=n[t];if(kC(e))return e}}function IO(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter(t=>!t.startsWith("_")))e.add(t);return Array.from(e)}(t._scopes)),e}function DO(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,c,u,l;for(a=0,c=r;a<c;++a)u=a+n,l=e[u],o[a]={r:i.parse(OC(l,s),u)};return o}const MO=Number.EPSILON||1e-14,NO=(t,e)=>e<t.length&&!t[e].skip&&t[e],jO=t=>"x"===t?"y":"x";function RO(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=YC(s,i),c=YC(o,s);let u=a/(a+c),l=c/(a+c);u=isNaN(u)?0:u,l=isNaN(l)?0:l;const h=r*u,d=r*l;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function LO(t,e,n){return Math.max(Math.min(t,n),e)}function FO(){return"undefined"!=typeof window&&"undefined"!=typeof document}function VO(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function UO(t,e,n){let r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const QO=t=>window.getComputedStyle(t,null),BO=["top","right","bottom","left"];function HO(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=BO[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function zO(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=QO(n),s="border-box"===i.boxSizing,o=HO(i,"padding"),a=HO(i,"border","width"),{x:c,y:u,box:l}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o,a,c=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(i,s,t.target))o=i,a=s;else{const t=e.getBoundingClientRect();o=r.clientX-t.left,a=r.clientY-t.top,c=!0}return{x:o,y:a,box:c}}(t,n),h=o.left+(l&&a.left),d=o.top+(l&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((c-h)/f*n.width/r),y:Math.round((u-d)/p*n.height/r)}}const qO=t=>Math.round(10*t)/10;function GO(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=i/r,t.width=s/r;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0)}const $O=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function WO(t,e){const n=function(t,e){return QO(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function KO(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function YO(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function ZO(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=KO(t,i,n),a=KO(i,s,n),c=KO(s,e,n),u=KO(o,a,n),l=KO(a,c,n);return KO(u,l,n)}const XO=new Map;function JO(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=XO.get(n);return r||(r=new Intl.NumberFormat(t,e),XO.set(n,r)),r}(e,n).format(t)}function tT(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function eT(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function nT(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function rT(t){return"angle"===t?{between:JC,compare:ZC,normalize:XC}:{between:eS,compare:(t,e)=>t-e,normalize:t=>t}}function iT({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n==0,style:i}}function sT(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:c,normalize:u}=rT(r),{start:l,end:h,loop:d,style:f}=function(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=rT(r),c=e.length;let u,l,{start:h,end:d,loop:f}=t;if(f){for(h+=c,d+=c,u=0,l=c;u<l&&o(a(e[h%c][r]),i,s);++u)h--,d--;h%=c,d%=c}return d<h&&(d+=c),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let g,m,b,y=!1,v=null;for(let _=l,w=l;_<=h;++_)m=e[_%o],m.skip||(g=u(m[r]),g!==b&&(y=c(g,i,s),null===v&&(y||c(i,b,g)&&0!==a(i,b))&&(v=0===a(g,i)?_:w),null!==v&&(!y||0===a(s,g)||c(s,b,g))&&(p.push(iT({start:v,end:_,loop:d,count:o,style:f})),v=null),w=_,b=g));return null!==v&&p.push(iT({start:v,end:h,loop:d,count:o,style:f})),p}function oT(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=sT(r[i],t.points,e);s.length&&n.push(...s)}return n}function aT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function cT(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}var uT=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.duration;e.listeners[r].forEach(r=>r({chart:t,initial:e.initial,numSteps:i,currentStep:Math.min(n-e.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=iC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,o=i.length-1,a=!1;for(;o>=0;--o)s=i[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const lT={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=LS(t||"transparent"),i=r.valid&&LS(e||"transparent");return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class hT{constructor(t,e,n,r){const i=e[n];r=hO([t.to,r,i,t.from]);const s=hO([t.from,i,r]);this._active=!0,this._fn=t.fn||lT[t.type||typeof s],this._easing=sS[t.easing]||sS.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=hO([t.to,e,r,t.from]),this._from=hO([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let a;if(this._active=i!==o&&(s||e<n),!this._active)return this._target[r]=o,void this._notify(!0);e<0?this._target[r]=i:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}HS.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const dT=Object.keys(HS.animation);HS.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),HS.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),HS.describe("animations",{_fallback:"animation"}),HS.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class fT{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!dC(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const r=t[n];if(!dC(r))return;const i={};for(const t of dT)i[t]=r[t];(hC(r.properties)&&r.properties||[n]).forEach(t=>{t!==n&&e.has(t)||e.set(t,i)})})}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then(()=>{t.options=n},()=>{}),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const c=s[a];if("$"===c.charAt(0))continue;if("options"===c){r.push(...this._animateOptions(t,e));continue}const u=e[c];let l=i[c];const h=n.get(c);if(l){if(h&&l.active()){l.update(h,u,o);continue}l.cancel()}h&&h.duration?(i[c]=l=new hT(h,t,c,u),r.push(l)):t[c]=u}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(uT.add(this._chart,n),!0):void 0}}function pT(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:r?s:i,end:r?i:s}}function gT(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function mT(t,e,n,r={}){const i=t.keys,s="single"===r.mode;let o,a,c,u;if(null!==e){for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(r.all)continue;break}u=t.values[c],fC(u)&&(s||0===e||QC(e)===QC(u))&&(e+=u)}return e}}function bT(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function yT(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function vT(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function _T(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,c=s.axis,u=o.axis,l=function(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[c]:n,[u]:s}=t;d=(t._stacks||(t._stacks={}))[u]=yT(i,l,n),d[a]=s,d._top=vT(d,o,!0,r.type),d._bottom=vT(d,o,!1,r.type)}}function wT(t,e){const n=t.scales;return Object.keys(n).filter(t=>n[t].axis===e).shift()}function xT(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n]}}}const PT=t=>"reset"===t||"none"===t,ET=(t,e)=>e?t:Object.assign({},t);class CT{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=bT(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&xT(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=gC(n.xAxisID,wT(t,"x")),s=e.yAxisID=gC(n.yAxisID,wT(t,"y")),o=e.rAxisID=gC(n.rAxisID,wT(t,"r")),a=e.indexAxis,c=e.iAxisID=r(a,i,s,o),u=e.vAxisID=r(a,s,i,o);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&bO(this._data,this),t._stacked&&xT(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(dC(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}(e);else if(n!==e){if(n){bO(n,this);const t=this._cachedMeta;xT(t),t._parsed=[]}e&&Object.isExtensible(e)&&((r=e)._chartjs?r._chartjs.listeners.push(this):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),mO.forEach(t=>{const e="_onData"+TC(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...t){const i=n.apply(this,t);return r._chartjs.listeners.forEach(n=>{"function"==typeof n[e]&&n[e](...t)}),i}})}))),this._syncList=[],this._data=e}var r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=bT(e.vScale,e),e.stack!==n.stack&&(r=!0,xT(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&_T(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,o=i.axis;let a,c,u,l=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,u=r;else{u=hC(r[t])?this.parseArrayData(n,r,t,e):dC(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===c[o]||h&&c[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=c=u[a],l&&(i()&&(l=!1),h=c);n._sorted=l}s&&_T(this,u)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:s}=t,o=i.axis,a=s.axis,c=i.getLabels(),u=i===s,l=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,l[h]={[o]:u||i.parse(c[f],f),[a]:s.parse(e[f],f)};return l}parseArrayData(t,e,n,r){const{xScale:i,yScale:s}=t,o=new Array(r);let a,c,u,l;for(a=0,c=r;a<c;++a)u=a+n,l=e[u],o[a]={x:i.parse(l[0],u),y:s.parse(l[1],u)};return o}parseObjectData(t,e,n,r){const{xScale:i,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,c=new Array(r);let u,l,h,d;for(u=0,l=r;u<l;++u)h=u+n,d=e[h],c[u]={x:i.parse(OC(d,o),h),y:s.parse(OC(d,a),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this._cachedMeta,i=e[t.axis];return mT({keys:gT(this.chart,!0),values:e._stacks[t.axis]},i,r.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let s=null===i?NaN:i;const o=r&&n._stacks[e.axis];r&&o&&(r.values=o,s=mT(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,s=r.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:gT(this.chart,!0),values:null})(e,n),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:l}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=r[h];const e=d[o.axis];return!fC(d[t.axis])||u>e||l<e}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(c,t,d,a),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(c,t,d,a);break}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r][t.axis],fC(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return dC(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(gC(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=pT(t,n),i=pT(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this._cachedMeta,n=e.data||[],r=this.chart.chartArea,i=[],s=this._drawStart||0,o=this._drawCount||n.length-s,a=this.options.drawActiveElementsOnTop;let c;for(e.dataset&&e.dataset.draw(t,r,s,o),c=s;c<s+o;++c){const e=n[c];e.hidden||(e.active&&a?i.push(e):e.draw(t,r))}for(c=0;c<i.length;++c)i[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return dO(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return dO(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const r="active"===e,i=this._cachedDataOpts,s=t+"-"+e,o=i[s],a=this.enableOptionSharing&&kC(n);if(o)return ET(o,a);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),l=r?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),u),d=Object.keys(HS.elements[t]),f=c.resolveNamedOptions(h,d,()=>this.getContext(n,r),l);return f.$shared&&(f.$shared=a,i[s]=Object.freeze(ET(f,a))),f}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${e}`,o=i[s];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),s=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(s,this.getContext(t,n,e))}const c=new fT(r,a&&a.animations);return a&&a._cacheable&&(i[s]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||PT(t)||this.chart._animationsDisabled}updateElement(t,e,n,r){PT(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!PT(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,c]of this._syncList)this[o](a,c);this._syncList=[];const r=n.length,i=e.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e,n=!0){const r=this._cachedMeta,i=r.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(i),o=t;o<s;++o)i[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&xT(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ST(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=yO(r.sort((t,e)=>t-e))}return t._cache.$bar}(e,t.type);let r,i,s,o,a=e._length;const c=()=>{32767!==s&&-32768!==s&&(kC(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(r=0,i=n.length;r<i;++r)s=e.getPixelForValue(n[r]),c();for(o=void 0,r=0,i=e.ticks.length;r<i;++r)s=e.getPixelForTick(r),c();return a}function OT(t,e,n,r){return hC(t)?function(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:s,min:o,max:a}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function TT(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,c=[];let u,l,h,d;for(u=n,l=n+r;u<l;++u)d=e[u],h={},h[i.axis]=a||i.parse(o[u],u),c.push(OT(d,h,s,u));return c}function kT(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function AT(t,e,n,r){let i=e.borderSkipped;const s={};if(!i)return void(t.borderSkipped=s);const{start:o,end:a,reverse:c,top:u,bottom:l}=function(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=u:(n._bottom||0)===r?i=l:(s[IT(l,o,a,c)]=!0,i=u)),s[IT(i,o,a,c)]=!0,t.borderSkipped=s}function IT(t,e,n,r){var i,s,o;return r?(o=n,t=DT(t=(i=t)===(s=e)?o:i===o?s:i,n,e)):t=DT(t,e,n),t}function DT(t,e,n){return"start"===t?e:"end"===t?n:t}function MT(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}CT.defaults={},CT.prototype.datasetElementType=null,CT.prototype.dataElementType=null;class NT extends CT{parsePrimitiveData(t,e,n,r){return TT(t,e,n,r)}parseArrayData(t,e,n,r){return TT(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,c="x"===i.axis?o:a,u="x"===s.axis?o:a,l=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=e[h],f={},f[i.axis]=i.parse(OC(p,c),h),l.push(OT(OC(p,u),f,s,h));return l}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),s=i._custom,o=kT(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),c=o.isHorizontal(),u=this._getRuler(),l=this.resolveDataElementOptions(e,r),h=this.getSharedOptions(l),d=this.includeOptions(r,h);this.updateSharedOptions(h,r,l);for(let f=e;f<e+n;f++){const e=this.getParsed(f),n=i||lC(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(f),l=this._calculateBarIndexPixels(f,u),p=(e._stacks||{})[o.axis],g={horizontal:c,base:n.base,enableBorderRadius:!p||kT(e._custom)||s===p._top||s===p._bottom,x:c?n.head:l.center,y:c?l.center:n.head,height:c?l.size:Math.abs(n.size),width:c?Math.abs(n.size):l.size};d&&(g.options=h||this.resolveDataElementOptions(f,t[f].active?"active":r));const m=g.options||t[f].options;AT(g,m,p,s),MT(g,m,u.ratio),this.updateElement(t[f],f,g,r)}}_getStacks(t,e){const n=this._cachedMeta.iScale,r=n.getMatchingVisibleMetas(this._type),i=n.options.stacked,s=r.length,o=[];let a,c;for(a=0;a<s;++a)if(c=r[a],c.controller.options.grouped){if(void 0!==e){const t=c.controller.getParsed(e)[c.controller._cachedMeta.vScale.axis];if(lC(t)||isNaN(t))continue}if((!1===i||-1===o.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&o.push(c.stack),c.index===t)break}return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,s;for(i=0,s=e.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=t.barThickness;return{min:o||ST(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n},options:{base:r,minBarLength:i}}=this,s=r||0,o=this.getParsed(t),a=o._custom,c=kT(a);let u,l,h=o[e.axis],d=0,f=n?this.applyStack(e,o,n):h;f!==h&&(d=f-h,f=h),c&&(h=a.barStart,f=a.barEnd-a.barStart,0!==h&&QC(h)!==QC(a.barEnd)&&(d=0),d+=h);const p=lC(r)||c?d:r;let g=e.getPixelForValue(p);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(d+f):g,l=u-g,Math.abs(l)<i){l=function(t,e,n){return 0!==t?QC(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(l,e,s)*i,h===s&&(g-=l/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),r=Math.min(t,n),o=Math.max(t,n);g=Math.max(Math.min(g,o),r),u=g+l}if(g===e.getPixelForValue(s)){const t=QC(l)*e.getLineWidthForValue(s)/2;g+=t,l-=t}return{size:l,base:g,head:u,center:u+l/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,s=gC(r.maxBarThickness,1/0);let o,a;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,c="flex"===r.barThickness?function(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/r,ratio:n.barPercentage,start:u}}(t,e,r,n):function(t,e,n,r){const i=n.barThickness;let s,o;return lC(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}(t,e,r,n),u=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);o=c.start+c.chunk*u+c.chunk/2,a=Math.min(s,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[e.axis]&&n[i].draw(this._ctx)}}NT.id="bar",NT.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},NT.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class jT extends CT{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const i=super.parsePrimitiveData(t,e,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(t,e,n,r){const i=super.parseArrayData(t,e,n,r);for(let s=0;s<i.length;s++)i[s]._custom=gC(e[n+s][2],this.resolveDataElementOptions(s+n).radius);return i}parseObjectData(t,e,n,r){const i=super.parseObjectData(t,e,n,r);for(let s=0;s<i.length;s++){const t=e[n+s];i[s]._custom=gC(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:n,yScale:r}=e,i=this.getParsed(t),s=n.getLabelForValue(i.x),o=r.getLabelForValue(i.y),a=i._custom;return{label:e.label,value:"("+s+", "+o+(a?", "+a:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:s,vScale:o}=this._cachedMeta,a=this.resolveDataElementOptions(e,r),c=this.getSharedOptions(a),u=this.includeOptions(r,c),l=s.axis,h=o.axis;for(let d=e;d<e+n;d++){const e=t[d],n=!i&&this.getParsed(d),a={},c=a[l]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[l]),f=a[h]=i?o.getBasePixel():o.getPixelForValue(n[h]);a.skip=isNaN(c)||isNaN(f),u&&(a.options=this.resolveDataElementOptions(d,e.active?"active":r),i&&(a.options.radius=0)),this.updateElement(e,d,a,r)}this.updateSharedOptions(c,r,a)}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=gC(n&&n._custom,i),r}}jT.id="bubble",jT.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},jT.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class RT extends CT{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,o=t=>+n[t];if(dC(n[t])){const{key:t="value"}=this._parsing;o=e=>+OC(n[e],t)}for(i=t,s=t+e;i<s;++i)r._parsed[i]=o(i)}}_getRotation(){return GC(this.options.rotation-90)}_getCircumference(){return GC(this.options.circumference)}_getRotationExtents(){let t=MC,e=-MC;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((u=o,"string"==typeof(c=this.options.cutout)&&c.endsWith("%")?parseFloat(c)/100:c/u),1);var c,u;const l=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let r=1,i=1,s=0,o=0;if(e<MC){const a=t,c=a+e,u=Math.cos(a),l=Math.sin(a),h=Math.cos(c),d=Math.sin(c),f=(t,e,r)=>JC(t,a,c,!0)?1:Math.max(e,e*n,r,r*n),p=(t,e,r)=>JC(t,a,c,!0)?-1:Math.min(e,e*n,r,r*n),g=f(0,u,h),m=f(LC,l,d),b=p(DC,u,h),y=p(DC+LC,l,d);r=(g-b)/2,i=(m-y)/2,s=-(g+b)/2,o=-(m+y)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(d,h,a),b=Math.max(Math.min((n.width-s)/f,(n.height-s)/p)/2,0),y=mC(this.options.radius,b),v=(y-Math.max(y*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*y,this.offsetY=m*y,r.total=this.calculateTotal(),this.outerRadius=y-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/MC)}updateElements(t,e,n,r){const i="reset"===r,s=this.chart,o=s.chartArea,a=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=i&&s.options.animation.animateScale,l=u?0:this.innerRadius,h=u?0:this.outerRadius,d=this.resolveDataElementOptions(e,r),f=this.getSharedOptions(d),p=this.includeOptions(r,f);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,i);for(g=e;g<e+n;++g){const e=this._circumference(g,i),n=t[g],s={x:a+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:h,innerRadius:l};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=e,this.updateElement(n,g,s,r)}this.updateSharedOptions(f,r,d)}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?MC*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this.chart,n=e.data.labels||[],r=JO(this._cachedMeta._parsed[t],e.options.locale);return{label:n[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,s,o,a;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),t=s.data,o=s.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)a=o.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(gC(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}RT.id="doughnut",RT.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},RT.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},RT.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((e,r)=>{const i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const n=": "+t.formattedValue;return hC(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class LT extends CT{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=function(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,c=o.axis,{min:u,max:l,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(i=tS(Math.min(pO(a,o.axis,u).lo,n?r:pO(e,c,o.getPixelForValue(u)).lo),0,r-1)),s=d?tS(Math.max(pO(a,o.axis,l).hi+1,n?0:pO(e,c,o.getPixelForValue(l)).hi+1),i,r)-i:r-i}return{start:i,count:s}}(e,r,s);this._drawStart=o,this._drawCount=a,function(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}(e)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:c},t),this.updateElements(r,o,a,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(e,r),l=this.getSharedOptions(u),h=this.includeOptions(r,l),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=HC(p)?p:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===r;let y=e>0&&this.getParsed(e-1);for(let v=e;v<e+n;++v){const e=t[v],n=this.getParsed(v),u=b?e:{},p=lC(n[f]),_=u[d]=s.getPixelForValue(n[d],v),w=u[f]=i||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],v);u.skip=isNaN(_)||isNaN(w)||p,u.stop=v>0&&Math.abs(n[d]-y[d])>m,g&&(u.parsed=n,u.raw=c.data[v]),h&&(u.options=l||this.resolveDataElementOptions(v,e.active?"active":r)),b||this.updateElement(e,v,u,r),y=n}this.updateSharedOptions(l,r,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}LT.id="line",LT.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},LT.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class FT extends CT{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this.chart,n=e.data.labels||[],r=JO(this._cachedMeta._parsed[t].r,e.options.locale);return{label:n[t]||"",value:r}}parseObjectData(t,e,n,r){return DO.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(r/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,r){const i="reset"===r,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,c=a.xCenter,u=a.yCenter,l=a.getIndexAngle(0)-.5*DC;let h,d=l;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,r,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,r,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=l));const m={x:c,y:u,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":r)};this.updateElement(e,h,m,r)}}countVisibleElements(){let t=0;return this._cachedMeta.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?GC(this.resolveDataElementOptions(t,e).angle||n):0}}FT.id="polarArea",FT.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},FT.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((e,r)=>{const i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class VT extends RT{}VT.id="pie",VT.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class UT extends CT{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return DO.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],i=e.iScale.getLabels();if(n.points=r,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0),this.updateElement(n,void 0,{_loop:!0,_fullLoop:i.length===r.length,options:e},t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":r),a=i.getPointPositionForValue(o,this.getParsed(o).r),c=s?i.xCenter:a.x,u=s?i.yCenter:a.y,l={x:c,y:u,angle:a.angle,skip:isNaN(c)||isNaN(u),options:n};this.updateElement(e,o,l,r)}}}UT.id="radar",UT.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},UT.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class QT extends LT{}QT.id="scatter",QT.defaults={showLine:!1,fill:!1},QT.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var BT=Object.freeze({__proto__:null,BarController:NT,BubbleController:jT,DoughnutController:RT,LineController:LT,PolarAreaController:FT,PieController:VT,RadarController:UT,ScatterController:QT});function HT(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zT{constructor(t){this.options=t||{}}formats(){return HT()}parse(t,e){return HT()}format(t,e){return HT()}add(t,e,n){return HT()}diff(t,e,n){return HT()}startOf(t,e,n){return HT()}endOf(t,e){return HT()}}zT.override=function(t){Object.assign(zT.prototype,t)};var qT={_date:zT};function GT(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?gO:pO;if(!r)return t(s,e,n);if(i._sharedOptions){const r=s[0],i="function"==typeof r.getRange&&r.getRange(e);if(i){const r=t(s,e,n-i),o=t(s,e,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function $T(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=s.length;a<c;++a){const{index:t,data:n}=s[a],{lo:c,hi:u}=GT(s[a],e,o,i);for(let e=c;e<=u;++e){const i=n[e];i.skip||r(i,t,e)}}}function WT(t,e,n,r,i){const s=[];return i||t.isPointInArea(e)?($T(t,n,e,(function(n,o,a){(i||KS(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s):s}function KT(t,e,n,r,i,s){return s||t.isPointInArea(e)?"r"!==n||r?function(t,e,n,r,i,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,s=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let c=Number.POSITIVE_INFINITY;return $T(t,n,e,(function(n,u,l){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!s&&!t.isPointInArea(d)&&!h)return;const f=a(e,d);f<c?(o=[{element:n,datasetIndex:u,index:l}],c=f):f===c&&o.push({element:n,datasetIndex:u,index:l})})),o}(t,e,n,r,i,s):function(t,e,n,r){let i=[];return $T(t,n,e,(function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],r),{angle:c}=KC(t,{x:e.x,y:e.y});JC(c,o,a)&&i.push({element:t,datasetIndex:n,index:s})})),i}(t,e,n,i):[]}function YT(t,e,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return $T(t,n,e,(t,r,c)=>{t[o](e[n],i)&&(s.push({element:t,datasetIndex:r,index:c}),a=a||t.inRange(e.x,e.y,i))}),r&&!a?[]:s}var ZT={evaluateInteractionItems:$T,modes:{index(t,e,n,r){const i=zO(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?WT(t,i,s,r,o):KT(t,i,s,!1,r,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&c.push({element:n,datasetIndex:t.index,index:e})}),c):[]},dataset(t,e,n,r){const i=zO(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?WT(t,i,s,r,o):KT(t,i,s,!1,r,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,r)=>WT(t,zO(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest:(t,e,n,r)=>KT(t,zO(e,t),n.axis||"xy",n.intersect,r,n.includeInvisible||!1),x:(t,e,n,r)=>YT(t,zO(e,t),"x",n.intersect,r),y:(t,e,n,r)=>YT(t,zO(e,t),"y",n.intersect,r)}};const XT=["left","top","right","bottom"];function JT(t,e){return t.filter(t=>t.pos===e)}function tk(t,e){return t.filter(t=>-1===XT.indexOf(t.pos)&&t.box.axis===e)}function ek(t,e){return t.sort((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function nk(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function rk(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ik(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!dC(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[i]+=n.size}s.getPadding&&rk(o,s.getPadding());const a=Math.max(0,e.outerWidth-nk(o,t,"left","right")),c=Math.max(0,e.outerHeight-nk(o,t,"top","bottom")),u=a!==t.w,l=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:l}:{same:l,other:u}}function sk(t,e){const n=e.maxPadding;return function(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach(t=>{r[t]=Math.max(e[t],n[t])}),r}(t?["left","right"]:["top","bottom"])}function ok(t,e,n,r){const i=[];let s,o,a,c,u,l;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],c=a.box,c.update(a.width||e.w,a.height||e.h,sk(a.horizontal,e));const{same:o,other:h}=ik(e,n,a,r);u|=o&&i.length,l=l||h,c.fullSize||i.push(a)}return u&&ok(i,e,n,r)||l}function ak(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function ck(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const r=e.w*u,s=c.size||t.height;kC(c.start)&&(o=c.start),t.fullSize?ak(t,i.left,o,n.outerWidth-i.right-i.left,s):ak(t,e.left+c.placed,o,r,s),c.start=o,c.placed+=r,o=t.bottom}else{const r=e.h*u,o=c.size||t.width;kC(c.start)&&(s=c.start),t.fullSize?ak(t,s,i.top,o,n.outerHeight-i.bottom-i.top):ak(t,s,e.top+c.placed,o,r),c.start=s,c.placed+=r,s=t.right}}e.x=s,e.y=o}HS.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var uk={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=uO(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=function(t){const e=function(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=ek(e.filter(t=>t.box.fullSize),!0),r=ek(JT(e,"left"),!0),i=ek(JT(e,"right")),s=ek(JT(e,"top"),!0),o=ek(JT(e,"bottom")),a=tk(e,"x"),c=tk(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:JT(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:s.concat(o).concat(a)}}(t.boxes),c=a.vertical,u=a.horizontal;yC(t.boxes,t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()});const l=c.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/l,hBoxMaxHeight:o/2}),d=Object.assign({},i);rk(d,uO(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),p=function(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!XT.includes(r))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:o&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:o&&e.availableHeight)}return n}(c.concat(u),h);ok(a.fullSize,f,h,p),ok(c,f,h,p),ok(u,f,h,p)&&ok(c,f,h,p),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),ck(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,ck(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},yC(a.chartArea,e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class lk{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class hk extends lk{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const dk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fk=t=>null===t||""===t,pk=!!$O&&{passive:!0};function gk(t,e,n){t.canvas.removeEventListener(e,n,pk)}function mk(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function bk(t,e,n){const r=t.canvas,i=new MutationObserver(t=>{let e=!1;for(const n of t)e=e||mk(n.addedNodes,r),e=e&&!mk(n.removedNodes,r);e&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function yk(t,e,n){const r=t.canvas,i=new MutationObserver(t=>{let e=!1;for(const n of t)e=e||mk(n.removedNodes,r),e=e&&!mk(n.addedNodes,r);e&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const vk=new Map;let _k=0;function wk(){const t=window.devicePixelRatio;t!==_k&&(_k=t,vk.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function xk(t,e,n){const r=t.canvas,i=r&&VO(r);if(!i)return;const s=sC((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()},window),o=new ResizeObserver(t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||s(n,r)});return o.observe(i),function(t,e){vk.size||window.addEventListener("resize",wk),vk.set(t,e)}(t,s),o}function Pk(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){vk.delete(t),vk.size||window.removeEventListener("resize",wk)}(t)}function Ek(t,e,n){const r=t.canvas,i=sC(e=>{null!==t.ctx&&n(function(t,e){const n=dk[t.type]||t.type,{x:r,y:i}=zO(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(e,t))},t,t=>{const e=t[0];return[e,e.offsetX,e.offsetY]});return function(t,e,n){t.addEventListener(e,n,pk)}(r,e,i),i}class Ck extends lk{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t.$chartjs={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",fk(i)){const e=WO(t,"width");void 0!==e&&(t.width=e)}if(fk(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=WO(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const n=e.$chartjs.initial;["height","width"].forEach(t=>{const r=n[t];lC(r)?e.removeAttribute(t):e.setAttribute(t,r)});const r=n.style||{};return Object.keys(r).forEach(t=>{e.style[t]=r[t]}),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,n){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:bk,detach:yk,resize:xk}[e]||Ek)(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];r&&(({attach:Pk,detach:Pk,resize:Pk}[e]||gk)(t,e,r),n[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return function(t,e,n,r){const i=QO(t),s=HO(i,"margin"),o=UO(i.maxWidth,t,"clientWidth")||jC,a=UO(i.maxHeight,t,"clientHeight")||jC,c=function(t,e,n){let r,i;if(void 0===e||void 0===n){const s=VO(t);if(s){const t=s.getBoundingClientRect(),o=QO(s),a=HO(o,"border","width"),c=HO(o,"padding");e=t.width-c.width-a.width,n=t.height-c.height-a.height,r=UO(o.maxWidth,s,"clientWidth"),i=UO(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||jC,maxHeight:i||jC}}(t,e,n);let{width:u,height:l}=c;if("content-box"===i.boxSizing){const t=HO(i,"border","width"),e=HO(i,"padding");u-=e.width+t.width,l-=e.height+t.height}return u=Math.max(0,u-s.width),l=Math.max(0,r?Math.floor(u/r):l-s.height),u=qO(Math.min(u,o,c.maxWidth)),l=qO(Math.min(l,a,c.maxHeight)),u&&!l&&(l=qO(u/2)),{width:u,height:l}}(t,e,n,r)}isAttached(t){const e=VO(t);return!(!e||!e.isConnected)}}class Sk{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return HC(this.x)&&HC(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach(t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]}),r}}Sk.defaults={},Sk.defaultRoutes=void 0;const Ok={values:t=>hC(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}(t,n)}const o=UC(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),JO(t,r,c)},logarithmic(t,e,n){if(0===t)return"0";const r=t/Math.pow(10,Math.floor(UC(t)));return 1===r||2===r||5===r?Ok.numeric.call(this,t,e,n):""}};var Tk={formatters:Ok};function kk(t,e,n,r,i){const s=gC(r,0),o=Math.min(gC(i,t.length),t.length);let a,c,u,l=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),u=s;u<0;)l++,u=Math.round(s+l*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),l++,u=Math.round(s+l*n))}HS.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),HS.route("scale.ticks","color","","color"),HS.route("scale.grid","color","","borderColor"),HS.route("scale.grid","borderColor","","borderColor"),HS.route("scale.title","color","","color"),HS.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),HS.describe("scales",{_fallback:"scale"}),HS.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const Ak=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function Ik(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Dk(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel;let a,c=t.getPixelForTick(i);if(!(n&&(a=1===r?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?a:-a,c<s-1e-6||c>o+1e-6)))return c}function Mk(t){return t.drawTicks?t.tickLength:0}function Nk(t,e){if(!t.display)return 0;const n=lO(t.font,e),r=uO(t.padding);return(hC(t.text)?t.text.length:1)*n.lineHeight+r.height}function jk(t,e,n){let r=oC(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class Rk extends Sk{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=pC(t,Number.POSITIVE_INFINITY),e=pC(e,Number.NEGATIVE_INFINITY),n=pC(n,Number.POSITIVE_INFINITY),r=pC(r,Number.NEGATIVE_INFINITY),{min:pC(t,n),max:pC(e,r),minDefined:fC(t),maxDefined:fC(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,c=o.length;a<c;++a)e=o[a].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),s||(r=Math.max(r,e.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:pC(n,pC(r,n)),max:pC(r,pC(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){bC(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,s=mC(e,(i-r)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Ik(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function(t,e){const n=t.options.ticks,r=n.maxTicksLimit||function(t){const e=t.options.offset,n=t._tickSize();return Math.floor(Math.min(t._length/n+(e?0:1),t._maxLength/n))}(t),i=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],s=i.length,o=i[0],a=i[s-1],c=[];if(s>r)return function(t,e,n,r){let i,s=0,o=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===o&&(e.push(t[i]),s++,o=n[s*r])}(e,c,i,s/r),c;const u=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const s=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r==0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort((t,e)=>t-e).pop(),e}(r);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>i)return t}return Math.max(i,1)}(i,e,r);if(s>0){let t,n;const r=s>1?Math.round((a-o)/(s-1)):null;for(kk(e,c,u,lC(r)?0:o-r,o),t=0,n=s-1;t<n;t++)kk(e,c,u,i[t],i[t+1]);return kk(e,c,u,a,lC(r)?e.length:a+r),c}return kk(e,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){bC(this.options.afterUpdate,[this])}beforeSetDimensions(){bC(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){bC(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),bC(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){bC(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=bC(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){bC(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){bC(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=this.ticks.length,r=e.minRotation||0,i=e.maxRotation;let s,o,a,c=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const u=this._getLabelSizes(),l=u.widest.width,h=u.highest.height,d=tS(this.chart.width-l,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),l+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-Mk(t.grid)-e.padding-Nk(t.title,this.chart.options.font),a=Math.sqrt(l*l+h*h),c=$C(Math.min(Math.asin(tS((u.highest.height+6)/s,-1,1)),Math.asin(tS(o/a,-1,1))-Math.asin(tS(h/a,-1,1)))),c=Math.max(r,Math.min(i,c))),this.labelRotation=c}afterCalculateLabelRotation(){bC(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){bC(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=Nk(r,e.options.font);if(o?(t.width=this.maxWidth,t.height=Mk(i)+s):(t.height=this.maxHeight,t.width=Mk(i)+s),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:s}=this._getLabelSizes(),a=2*n.padding,c=GC(this.labelRotation),u=Math.cos(c),l=Math.sin(c);o?t.height=Math.min(this.maxHeight,t.height+(n.mirror?0:l*i.width+u*s.height)+a):t.width=Math.min(this.maxWidth,t.width+(n.mirror?0:u*i.width+l*s.height)+a),this._calculatePadding(e,r,l,u)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:s},position:o}=this.options,a=0!==this.labelRotation,c="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let l=0,h=0;a?c?(l=r*t.width,h=n*e.height):(l=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?l=t.width:"inner"!==i&&(l=t.width/2,h=e.width/2),this.paddingLeft=Math.max((l-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-u+s)*this.width/(this.width-u),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){bC(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)lC(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Ik(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:r}=this,i=[],s=[];let o,a,c,u,l,h,d,f,p,g,m,b=0,y=0;for(o=0;o<e;++o){if(u=t[o].label,l=this._resolveTickFontOptions(o),n.font=h=l.string,d=r[h]=r[h]||{data:{},gc:[]},f=l.lineHeight,p=g=0,lC(u)||hC(u)){if(hC(u))for(a=0,c=u.length;a<c;++a)m=u[a],lC(m)||hC(m)||(p=zS(n,d.data,d.gc,p,m),g+=f)}else p=zS(n,d.data,d.gc,p,u),g=f;i.push(p),s.push(g),b=Math.max(p,b),y=Math.max(g,y)}!function(t,e){yC(t,t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}})}(r,e);const v=i.indexOf(b),_=s.indexOf(y),w=t=>({width:i[t]||0,height:s[t]||0});return{first:w(0),last:w(e-1),widest:w(v),highest:w(_),widths:i,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return tS(this._alignToPixels?GS(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return dO(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=dO(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=GC(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),s=t.autoSkipPadding||0,o=i?i.widest.width+s:0,a=i?i.highest.height+s:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:s}=r,o=i.offset,a=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=Mk(i),l=[],h=i.setContext(this.getContext()),d=h.drawBorder?h.borderWidth:0,f=d/2,p=function(t){return GS(n,t,d)};let g,m,b,y,v,_,w,x,P,E,C,S;if("top"===s)g=p(this.bottom),_=this.bottom-u,x=g-f,E=p(t.top)+f,S=t.bottom;else if("bottom"===s)g=p(this.top),E=t.top,S=p(t.bottom)-f,_=g+f,x=this.top+u;else if("left"===s)g=p(this.right),v=this.right-u,w=g-f,P=p(t.left)+f,C=t.right;else if("right"===s)g=p(this.left),P=t.left,C=p(t.right)-f,v=g+f,w=this.left+u;else if("x"===e){if("center"===s)g=p((t.top+t.bottom)/2+.5);else if(dC(s)){const t=Object.keys(s)[0];g=p(this.chart.scales[t].getPixelForValue(s[t]))}E=t.top,S=t.bottom,_=g+f,x=_+u}else if("y"===e){if("center"===s)g=p((t.left+t.right)/2);else if(dC(s)){const t=Object.keys(s)[0];g=p(this.chart.scales[t].getPixelForValue(s[t]))}v=g-f,w=v-u,P=t.left,C=t.right}const O=gC(r.ticks.maxTicksLimit,c),T=Math.max(1,Math.ceil(c/O));for(m=0;m<c;m+=T){const t=i.setContext(this.getContext(m)),e=t.lineWidth,r=t.color,s=i.borderDash||[],c=t.borderDashOffset,u=t.tickWidth,h=t.tickColor,d=t.tickBorderDash||[],f=t.tickBorderDashOffset;b=Dk(this,m,o),void 0!==b&&(y=GS(n,b,e),a?v=w=P=C=y:_=x=E=S=y,l.push({tx1:v,ty1:_,tx2:w,ty2:x,x1:P,y1:E,x2:C,y2:S,width:e,color:r,borderDash:s,borderDashOffset:c,tickWidth:u,tickColor:h,tickBorderDash:d,tickBorderDashOffset:f}))}return this._ticksLength=c,this._borderValue=g,l}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:c,padding:u,mirror:l}=i,h=Mk(n.grid),d=h+u,f=l?-u:d,p=-GC(this.labelRotation),g=[];let m,b,y,v,_,w,x,P,E,C,S,O,T="middle";if("top"===r)w=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,_=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,_=t.x}else if("x"===e){if("center"===r)w=(t.top+t.bottom)/2+d;else if(dC(r)){const t=Object.keys(r)[0];w=this.chart.scales[t].getPixelForValue(r[t])+d}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)_=(t.left+t.right)/2-d;else if(dC(r)){const t=Object.keys(r)[0];_=this.chart.scales[t].getPixelForValue(r[t])}x=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?T="top":"end"===a&&(T="bottom"));const k=this._getLabelSizes();for(m=0,b=o.length;m<b;++m){y=o[m],v=y.label;const t=i.setContext(this.getContext(m));P=this.getPixelForTick(m)+i.labelOffset,E=this._resolveTickFontOptions(m),C=E.lineHeight,S=hC(v)?v.length:1;const e=S/2,n=t.color,a=t.textStrokeColor,u=t.textStrokeWidth;let h,d=x;if(s?(_=P,"inner"===x&&(d=m===b-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),O="top"===r?"near"===c||0!==p?-S*C+C/2:"center"===c?-k.highest.height/2-e*C+C:C/2-k.highest.height:"near"===c||0!==p?C/2:"center"===c?k.highest.height/2-e*C:k.highest.height-S*C,l&&(O*=-1)):(w=P,O=(1-S)*C/2),t.showLabelBackdrop){const e=uO(t.backdropPadding),n=k.heights[m],r=k.widths[m];let i=w+O-e.top,s=_-e.left;switch(T){case"middle":i-=n/2;break;case"bottom":i-=n}switch(x){case"center":s-=r/2;break;case"right":s-=r}h={left:s,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}g.push({rotation:p,label:v,font:E,color:n,strokeColor:a,strokeWidth:u,textOffset:O,textAlign:d,textBaseline:T,translation:[_,w],backdrop:h})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-GC(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=t+i,o=this._getLabelSizes().widest.width;let a,c;return"left"===e?r?(c=this.right+i,"near"===n?a="left":"center"===n?(a="center",c+=o/2):(a="right",c+=o)):(c=this.right-s,"near"===n?a="right":"center"===n?(a="center",c-=o/2):(a="left",c=this.left)):"right"===e?r?(c=this.left+i,"near"===n?a="right":"center"===n?(a="center",c-=o/2):(a="left",c-=o)):(c=this.left+s,"near"===n?a="left":"center"===n?(a="center",c+=o/2):(a="right",c=this.right)):a="right",{textAlign:a,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex(e=>e.value===t);return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,s;const o=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,s=r.length;i<s;++i){const t=r[i];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:n}}=this,r=n.setContext(this.getContext()),i=n.drawBorder?r.borderWidth:0;if(!i)return;const s=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let a,c,u,l;this.isHorizontal()?(a=GS(t,this.left,i)-i/2,c=GS(t,this.right,s)+s/2,u=l=o):(u=GS(t,this.top,i)-i/2,l=GS(t,this.bottom,s)+s/2,a=c=o),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(a,u),e.lineTo(c,l),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&YS(e,n);const r=this._labelItems||(this._labelItems=this._computeLabelItems(t));let i,s;for(i=0,s=r.length;i<s;++i){const t=r[i],n=t.font,s=t.label;t.backdrop&&(e.fillStyle=t.backdrop.color,e.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),tO(e,s,0,t.textOffset,n,t)}n&&ZS(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=lO(n.font),s=uO(n.padding),o=n.align;let a=i.lineHeight/2;"bottom"===e||"center"===e||dC(e)?(a+=s.bottom,hC(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:c,titleY:u,maxWidth:l,rotation:h}=function(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:c}=t,{chartArea:u,scales:l}=c;let h,d,f,p=0;const g=o-i,m=a-s;if(t.isHorizontal()){if(d=aC(r,s,a),dC(n)){const t=Object.keys(n)[0];f=l[t].getPixelForValue(n[t])+g-e}else f="center"===n?(u.bottom+u.top)/2+g-e:Ak(t,n,e);h=a-s}else{if(dC(n)){const t=Object.keys(n)[0];d=l[t].getPixelForValue(n[t])-m+e}else d="center"===n?(u.left+u.right)/2-m+e:Ak(t,n,e);f=aC(r,o,i),p="left"===n?-LC:LC}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,o);tO(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:h,textAlign:jk(o,e,r),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=gC(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Rk.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=e.length;i<s;++i){const s=e[i];s[n]!==this.id||t&&s.type!==t||r.push(s)}return r}_resolveTickFontOptions(t){return lO(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Lk{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r?s:(r[i]=t,function(t,e,n){const r=PC(Object.create(null),[n?HS.get(n):{},HS.get(e),t.defaults]);HS.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");HS.route(s,i,c,a)})}(e,t.defaultRoutes),t.descriptors&&HS.describe(e,t.descriptors)}(t,s,n),this.override&&HS.override(t.id,t.overrides),s)}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in HS[r]&&(delete HS[r][n],this.override&&delete VS[n])}}var Fk=new class{constructor(){this.controllers=new Lk(CT,"datasets",!0),this.elements=new Lk(Sk,"elements"),this.plugins=new Lk(Object,"plugins"),this.scales=new Lk(Rk,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):yC(e,e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)})})}_exec(t,e,n){const r=TC(t);bC(n["before"+r],[],n),e[t](n),bC(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}};class Vk{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===bC(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){lC(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=gC(n.options&&n.options.plugins,{}),i=function(t){const e=[],n=Object.keys(Fk.plugins.items);for(let i=0;i<n.length;i++)e.push(Fk.getPlugin(n[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const t=r[i];-1===e.indexOf(t)&&e.push(t)}return e}(n);return!1!==r||e?function(t,e,n,r){const i=[],s=t.getContext();for(let o=0;o<e.length;o++){const a=e[o],c=Uk(n[a.id],r);null!==c&&i.push({plugin:a,options:Qk(t.config,a,c,s)})}return i}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter(t=>!e.some(e=>t.plugin.id===e.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function Uk(t,e){return e||!1!==t?!0===t?{}:t:null}function Qk(t,e,n,r){const i=t.pluginScopeKeys(e),s=t.getOptionScopes(n,i);return t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Bk(t,e){return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||(HS.datasets[t]||{}).indexAxis||"x"}function Hk(t,e){return"x"===t||"y"===t?t:e.axis||("top"===(n=e.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.charAt(0).toLowerCase();var n}function zk(t){const e=t.options||(t.options={});e.plugins=gC(e.plugins,{}),e.scales=function(t,e){const n=VS[t.type]||{scales:{}},r=e.scales||{},i=Bk(t.type,e),s=Object.create(null),o=Object.create(null);return Object.keys(r).forEach(t=>{const e=r[t];if(!dC(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=Hk(t,e),c=function(t,e){return t===e?"_index_":"_value_"}(a,i),u=n.scales||{};s[a]=s[a]||t,o[t]=EC(Object.create(null),[{axis:a},e,u[a],u[c]])}),t.data.datasets.forEach(n=>{const i=n.type||t.type,a=n.indexAxis||Bk(i,e),c=(VS[i]||{}).scales||{};Object.keys(c).forEach(t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,a),i=n[e+"AxisID"]||s[e]||e;o[i]=o[i]||Object.create(null),EC(o[i],[{axis:e},r[i],c[t]])})}),Object.keys(o).forEach(t=>{const e=o[t];EC(e,[HS.scales[e.type],HS.scale])}),o}(t,e)}function qk(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Gk=new Map,$k=new Set;function Wk(t,e){let n=Gk.get(t);return n||(n=e(),Gk.set(t,n),$k.add(n)),n}const Kk=(t,e,n)=>{const r=OC(e,n);void 0!==r&&t.add(r)};class Yk{constructor(t){this._config=function(t){return(t=t||{}).data=qk(t.data),zk(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=qk(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),zk(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Wk(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Wk(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Wk(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return Wk(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach(e=>{t&&(a.add(t),e.forEach(e=>Kk(a,t,e))),e.forEach(t=>Kk(a,r,t)),e.forEach(t=>Kk(a,VS[i]||{},t)),e.forEach(t=>Kk(a,HS,t)),e.forEach(t=>Kk(a,US,t))});const c=Array.from(a);return 0===c.length&&c.push(Object.create(null)),$k.has(e)&&s.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,VS[e]||{},HS.datasets[e]||{},{type:e},HS,US]}resolveNamedOptions(t,e,n,r=[""]){const i={$shared:!0},{resolver:s,subPrefixes:o}=Zk(this._resolverCache,t,r);let a=s;(function(t,e){const{isScriptable:n,isIndexable:r}=wO(t);for(const i of e){const e=n(i),s=r(i),o=(s||e)&&t[i];if(e&&(AC(o)||Xk(o))||s&&hC(o))return!0}return!1})(s,e)&&(i.$shared=!1,a=_O(s,n=AC(n)?n():n,this.createResolver(t,n,o)));for(const c of e)i[c]=a[c];return i}createResolver(t,e,n=[""],r){const{resolver:i}=Zk(this._resolverCache,t,n);return dC(e)?_O(i,e,void 0,r):i}}function Zk(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:vO(e,n),subPrefixes:n.filter(t=>!t.toLowerCase().includes("hover"))},r.set(i,s)),s}const Xk=t=>dC(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||AC(t[n]),!1),Jk=["top","bottom","left","right","chartArea"];function tA(t,e){return"top"===t||"bottom"===t||-1===Jk.indexOf(t)&&"x"===e}function eA(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function nA(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),bC(n&&n.onComplete,[t],e)}function rA(t){const e=t.chart,n=e.options.animation;bC(n&&n.onProgress,[t],e)}function iA(t){return FO()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const sA={},oA=t=>{const e=iA(t);return Object.values(sA).filter(t=>t.canvas===e).pop()};function aA(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const s=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=s)}}}class cA{constructor(t,e){const n=this.config=new Yk(e),r=iA(t),i=oA(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!FO()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?hk:Ck}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,s.aspectRatio),a=o&&o.canvas,c=a&&a.height,u=a&&a.width;this.id=uC(),this.ctx=o,this.canvas=a,this.width=u,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}(t=>this.update(t),s.resizeDelay||0),this._dataChanges=[],sA[this.id]=this,o&&a?(uT.listen(this,"complete",nA),uT.listen(this,"progress",rA),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return lC(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():GO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $S(this.canvas,this.ctx),this}stop(){return uT.stop(this),this}resize(t,e){uT.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.platform.getMaximumSize(this.canvas,t,e,n.maintainAspectRatio&&this.aspectRatio),i=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,GO(this,i,!0)&&(this.notifyPlugins("resize",{size:r}),bC(n.onResize,[this,r],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){yC(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce((t,e)=>(t[e]=!1,t),{});let i=[];e&&(i=i.concat(Object.keys(e).map(t=>{const n=e[t],r=Hk(t,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}}))),yC(i,e=>{const i=e.options,s=i.id,o=Hk(s,i),a=gC(i.type,e.dtype);void 0!==i.position&&tA(i.position,o)===tA(e.dposition)||(i.position=e.dposition),r[s]=!0;let c=null;s in n&&n[s].type===a?c=n[s]:(c=new(Fk.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[c.id]=c),c.init(i,t)}),yC(r,(t,e)=>{t||delete n[e]}),yC(n,t=>{uk.configure(this,t,t.options),uk.addBox(this,t)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((t,e)=>t.index-e.index),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(eA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((t,n)=>{0===e.filter(e=>e===t._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||Bk(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=Fk.getController(s),{datasetElementType:r,dataElementType:o}=HS.datasets[s];Object.assign(e.prototype,{dataElementType:Fk.getElement(o),datasetElementType:r&&Fk.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){yC(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:t}=this.getDatasetMeta(c),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||yC(i,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(eA("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){yC(this.scales,t=>{uk.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);IC(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e)aA(t,r,"_removeElements"===n?-i:i)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),r=n(0);for(let i=1;i<e;i++)if(!IC(r,n(i)))return;return Array.from(r).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;uk.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],yC(this.boxes,t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,AC(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(uT.has(this)?this.attached&&!uT.running(this)&&uT.start(this):(this.draw(),nA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=this.chartArea,s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&YS(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&ZS(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return KS(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=ZT.modes[e];return"function"==typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter(t=>t&&t._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=dO(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"==typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),s=i.controller._resolveAnimations(void 0,r);kC(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(i,{visible:n}),this.update(e=>e.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),uT.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),$S(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete sA[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};yC(this.options.events,t=>n(t,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){yC(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},yC(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,s,o,a;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}});!vC(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter(t=>!e.some(e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)),s=i(e,t),o=n?t:i(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,s=this._getActiveElements(t,r,n,e),o=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),a=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,o);n&&(this._lastEvent=null,bC(i.onHover,[t,s,this],this),o&&bC(i.onClick,[t,s,this],this));const c=!vC(s,r);return(c||e)&&(this._active=s,this._updateHoverStyles(s,r,e)),this._lastEvent=a,c}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}const uA=()=>yC(cA.instances,t=>t._plugins.invalidate());function lA(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(s,o,a,r-u,n+u),c>i?(u=i/c,t.arc(s,o,c,n+u,r-u,!0)):t.arc(s,o,i,n+LC,r-LC),t.closePath(),t.clip()}function hA(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function dA(t,e,n,r,i){const{x:s,y:o,startAngle:a,pixelMargin:c,innerRadius:u}=e,l=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let d=0;const f=i-a;if(r){const t=((u>0?u-r:0)+(l>0?l-r:0))/2;d=(f-(0!==t?f*t/(t+r):f))/2}const p=(f-Math.max(.001,f*l-n/DC)/l)/2,g=a+p+d,m=i-p-d,{outerStart:b,outerEnd:y,innerStart:v,innerEnd:_}=function(t,e,n,r){const i=oO(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),s=(n-e)/2,o=Math.min(s,r*e/2),a=t=>{const e=(n-Math.min(s,t))*r/2;return tS(t,0,Math.min(s,e))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:tS(i.innerStart,0,o),innerEnd:tS(i.innerEnd,0,o)}}(e,h,l,m-g),w=l-b,x=l-y,P=g+b/w,E=m-y/x,C=h+v,S=h+_,O=g+v/C,T=m-_/S;if(t.beginPath(),t.arc(s,o,l,P,E),y>0){const e=hA(x,E,s,o);t.arc(e.x,e.y,y,E,m+LC)}const k=hA(S,m,s,o);if(t.lineTo(k.x,k.y),_>0){const e=hA(S,T,s,o);t.arc(e.x,e.y,_,m+LC,T+Math.PI)}if(t.arc(s,o,h,m-_/h,g+v/h,!0),v>0){const e=hA(C,O,s,o);t.arc(e.x,e.y,v,O+Math.PI,g-LC)}const A=hA(w,g,s,o);if(t.lineTo(A.x,A.y),b>0){const e=hA(w,P,s,o);t.arc(e.x,e.y,b,g-LC,P)}t.closePath()}Object.defineProperties(cA,{defaults:{enumerable:!0,value:HS},instances:{enumerable:!0,value:sA},overrides:{enumerable:!0,value:VS},registry:{enumerable:!0,value:Fk},version:{enumerable:!0,value:"3.8.0"},getChart:{enumerable:!0,value:oA},register:{enumerable:!0,value:(...t)=>{Fk.add(...t),uA()}},unregister:{enumerable:!0,value:(...t)=>{Fk.remove(...t),uA()}}});class fA extends Sk{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=KC(r,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:c,outerRadius:u,circumference:l}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,d=gC(l,a-o)>=MC||JC(i,o,a),f=eS(s,c+h,u+h);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:a,spacing:c}=this.options,u=(r+i)/2,l=(s+o+c+a)/2;return{x:e+Math.cos(u)*l,y:n+Math.sin(u)*l}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/2,i=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>MC?Math.floor(n/MC):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();let s=0;if(r){s=r/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*s,Math.sin(e)*s),this.circumference>=DC&&(s=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const o=function(t,e,n,r){const{fullCircles:i,startAngle:s,circumference:o}=e;let a=e.endAngle;if(i){dA(t,e,n,r,s+MC);for(let e=0;e<i;++e)t.fill();isNaN(o)||(a=s+o%MC,o%MC==0&&(a+=MC))}return dA(t,e,n,r,a),t.fill(),a}(t,this,s,i);(function(t,e,n,r,i){const{options:s}=e,{borderWidth:o,borderJoinStyle:a}=s,c="inner"===s.borderAlign;o&&(c?(t.lineWidth=2*o,t.lineJoin=a||"round"):(t.lineWidth=o,t.lineJoin=a||"bevel"),e.fullCircles&&function(t,e,n){const{x:r,y:i,startAngle:s,pixelMargin:o,fullCircles:a}=e,c=Math.max(e.outerRadius-o,0),u=e.innerRadius+o;let l;for(n&&lA(t,e,s+MC),t.beginPath(),t.arc(r,i,u,s+MC,s,!0),l=0;l<a;++l)t.stroke();for(t.beginPath(),t.arc(r,i,c,s,s+MC),l=0;l<a;++l)t.stroke()}(t,e,c),c&&lA(t,e,i),dA(t,e,n,r,i),t.stroke())})(t,this,s,i,o),t.restore()}}function pA(t,e,n=e){t.lineCap=gC(n.borderCapStyle,e.borderCapStyle),t.setLineDash(gC(n.borderDash,e.borderDash)),t.lineDashOffset=gC(n.borderDashOffset,e.borderDashOffset),t.lineJoin=gC(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=gC(n.borderWidth,e.borderWidth),t.strokeStyle=gC(n.borderColor,e.borderColor)}function gA(t,e,n){t.lineTo(n.x,n.y)}function mA(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,c=Math.max(i,o),u=Math.min(s,a);return{count:r,start:c,loop:e.loop,ilen:u<c&&!(i<o&&s<o||i>a&&s>a)?r+u-c:u-c}}function bA(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:c,ilen:u}=mA(i,n,r),l=function(t){return t.stepped?XS:t.tension||"monotone"===t.cubicInterpolationMode?JS:gA}(s);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=u;++h)d=i[(a+(g?u-h:h))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):l(t,f,d,g,s.stepped),f=d);return c&&(d=i[(a+(g?u:0))%o],l(t,f,d,g,s.stepped)),!!c}function yA(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=mA(i,n,r),{move:c=!0,reverse:u}=r||{};let l,h,d,f,p,g,m=0,b=0;const y=t=>(o+(u?a-t:t))%s,v=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(c&&(h=i[y(0)],t.moveTo(h.x,h.y)),l=0;l<=a;++l){if(h=i[y(l)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===d?(n<f?f=n:n>p&&(p=n),m=(b*m+e)/++b):(v(),t.lineTo(e,n),d=r,b=0,f=p=n),g=n}v()}function vA(t){const e=t.options;return t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?bA:yA}fA.id="arc",fA.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},fA.defaultRoutes={backgroundColor:"backgroundColor"};const _A="function"==typeof Path2D;class wA extends Sk{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;!n.tension&&"monotone"!==n.cubicInterpolationMode||n.stepped||this._pointsUpdated||(function(t,e,n,r,i){let s,o,a,c;if(e.spanGaps&&(t=t.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)!function(t,e="x"){const n=jO(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,c,u=NO(t,0);for(o=0;o<r;++o)if(a=c,c=u,u=NO(t,o+1),c){if(u){const t=u[e]-c[e];i[o]=0!==t?(u[n]-c[n])/t:0}s[o]=a?u?QC(i[o-1])!==QC(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}!function(t,e,n){const r=t.length;let i,s,o,a,c,u=NO(t,0);for(let l=0;l<r-1;++l)c=u,u=NO(t,l+1),c&&u&&(zC(e[l],0,MO)?n[l]=n[l+1]=0:(i=n[l]/e[l],s=n[l+1]/e[l],a=Math.pow(i,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[l]=i*o*e[l],n[l+1]=s*o*e[l])))}(t,i,s),function(t,e,n="x"){const r=jO(n),i=t.length;let s,o,a,c=NO(t,0);for(let u=0;u<i;++u){if(o=a,a=c,c=NO(t,u+1),!a)continue;const i=a[n],l=a[r];o&&(s=(i-o[n])/3,a[`cp1${n}`]=i-s,a[`cp1${r}`]=l-s*e[u]),c&&(s=(c[n]-i)/3,a[`cp2${n}`]=i+s,a[`cp2${r}`]=l+s*e[u])}}(t,s,e)}(t,i);else{let n=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],c=RO(n,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,n=a}e.capBezierPoints&&function(t,e){let n,r,i,s,o,a=KS(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&KS(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=LO(i.cp1x,e.left,e.right),i.cp1y=LO(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=LO(i.cp2x,e.left,e.right),i.cp2y=LO(i.cp2y,e.top,e.bottom)))}(t,n)}(this._points,n,t,n.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=function(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}(n,i,s,r);return function(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){const i=t._chart.getContext(),s=aT(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,u=[];let l=s,h=e[0].start,d=h;function f(t,e,r,i){const s=a?-1:1;if(t!==e){for(t+=c;n[t%c].skip;)t-=s;for(;n[e%c].skip;)e+=s;t%c!=e%c&&(u.push({start:t%c,end:e%c,loop:r,style:i}),l=i,h=e%c)}}for(const p of e){h=a?h:p.start;let t,e=n[h%c];for(d=h+1;d<=p.end;d++){const s=n[d%c];t=aT(r.setContext(dO(i,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%c,p1DataIndex:d%c,datasetIndex:o}))),cT(t,l)&&f(h,d-1,p.loop,l),e=s,l=t}h<d-1&&f(h,d-1,p.loop,l)}return u}(t,e,n,r):e}(t,!0===r?[{start:o,end:a,loop:s}]:function(t,e,n,r){const i=t.length,s=[];let o,a=e,c=t[e];for(o=e+1;o<=n;++o){const n=t[o%i];n.skip||n.stop?c.skip||(s.push({start:e%i,end:(o-1)%i,loop:r=!1}),e=a=n.stop?o:null):(a=o,c.skip&&(e=o)),c=n}return null!==a&&s.push({start:e%i,end:a%i,loop:r}),s}(n,o,a<o?a+i:a,!!t._fullLoop&&0===o&&a===i-1),n,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,e=t.length;return e&&this.points[t[e-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,s=oT(this,{property:e,start:r,end:r});if(!s.length)return;const o=[],a=function(t){return t.stepped?YO:t.tension||"monotone"===t.cubicInterpolationMode?ZO:KO}(n);let c,u;for(c=0,u=s.length;c<u;++c){const{start:u,end:l}=s[c],h=i[u],d=i[l];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((r-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,n){return vA(this)(t,this,e,n)}path(t,e,n){const r=this.segments,i=vA(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of r)s&=i(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function(t,e,n,r){_A&&!e.options.segment?function(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),pA(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){const{segments:i,options:s}=e,o=vA(e);for(const a of i)pA(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function xA(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}wA.id="line",wA.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},wA.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},wA.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class PA extends Sk{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return xA(this,t,"x",e)}inYRange(t,e){return xA(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!KS(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,WS(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function EA(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,l,h;return t.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),u=r-h,l=r+h):(h=s/2,a=n-h,c=n+h,u=Math.min(r,i),l=Math.max(r,i)),{left:a,top:u,right:c,bottom:l}}function CA(t,e,n,r){return t?0:tS(e,n,r)}function SA(t,e,n,r){const i=null===e,s=null===n,o=t&&!(i&&s)&&EA(t,r);return o&&(i||eS(e,o.left,o.right))&&(s||eS(n,o.top,o.bottom))}function OA(t,e){t.rect(e.x,e.y,e.w,e.h)}function TA(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0;return{x:t.x+r,y:t.y+i,w:t.w+((t.x+t.w!==n.x+n.w?e:0)-r),h:t.h+((t.y+t.h!==n.y+n.h?e:0)-i),radius:t.radius}}PA.id="point",PA.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},PA.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class kA extends Sk{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=function(t){const e=EA(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){const r=t.borderSkipped,i=aO(t.options.borderWidth);return{t:CA(r.top,i.top,0,n),r:CA(r.right,i.right,0,e),b:CA(r.bottom,i.bottom,0,n),l:CA(r.left,i.left,0,e)}}(t,n/2,r/2),s=function(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=cO(i),o=Math.min(e,n),a=t.borderSkipped,c=r||dC(i);return{topLeft:CA(!c||a.top||a.left,s.topLeft,0,o),topRight:CA(!c||a.top||a.right,s.topRight,0,o),bottomLeft:CA(!c||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:CA(!c||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?nO:OA;var a;t.save(),s.w===i.w&&s.h===i.h||(t.beginPath(),o(t,TA(s,e,i)),t.clip(),o(t,TA(i,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,TA(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return SA(this,t,e,n)}inXRange(t,e){return SA(this,t,null,e)}inYRange(t,e){return SA(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}kA.id="bar",kA.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},kA.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var AA=Object.freeze({__proto__:null,ArcElement:fA,LineElement:wA,PointElement:PA,BarElement:kA});function IA(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function DA(t){t.data.datasets.forEach(t=>{IA(t)})}var MA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void DA(t);const r=t.width;t.data.datasets.forEach((e,i)=>{const{_data:s,indexAxis:o}=e,a=t.getDatasetMeta(i),c=s||e.data;if("y"===hO([o,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const u=t.scales[a.xAxisID];if("linear"!==u.type&&"time"!==u.type)return;if(t.options.parsing)return;let l,{start:h,count:d}=function(t,e){const n=e.length;let r,i=0;const{iScale:s}=t,{min:o,max:a,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(i=tS(pO(e,s.axis,o).lo,0,n-1)),r=u?tS(pO(e,s.axis,a).hi+1,i,n)-i:n-i,{start:i,count:r}}(a,c);if(d<=(n.threshold||4*r))IA(e);else{switch(lC(s)&&(e._data=c,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":l=function(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let c=0;const u=e+n-1;let l,h,d,f,p,g=e;for(o[c++]=t[g],l=0;l<s-2;l++){let r,i=0,s=0;const u=Math.floor((l+1)*a)+1+e,m=Math.min(Math.floor((l+2)*a)+1,n)+e,b=m-u;for(r=u;r<m;r++)i+=t[r].x,s+=t[r].y;i/=b,s/=b;const y=Math.floor(l*a)+1+e,v=Math.min(Math.floor((l+1)*a)+1,n)+e,{x:_,y:w}=t[g];for(d=f=-1,r=y;r<v;r++)f=.5*Math.abs((_-i)*(t[r].y-w)-(_-t[r].x)*(s-w)),f>d&&(d=f,h=t[r],p=r);o[c++]=h,g=p}return o[c++]=t[u],o}(c,h,d,r,n);break;case"min-max":l=function(t,e,n,r){let i,s,o,a,c,u,l,h,d,f,p=0,g=0;const m=[],b=t[e].x,y=t[e+n-1].x-b;for(i=e;i<e+n;++i){s=t[i],o=(s.x-b)/y*r,a=s.y;const e=0|o;if(e===c)a<d?(d=a,u=i):a>f&&(f=a,l=i),p=(g*p+s.x)/++g;else{const n=i-1;if(!lC(u)&&!lC(l)){const e=Math.min(u,l),r=Math.max(u,l);e!==h&&e!==n&&m.push({...t[e],x:p}),r!==h&&r!==n&&m.push({...t[r],x:p})}i>0&&n!==h&&m.push(t[n]),m.push(s),c=e,g=0,d=f=a,u=l=h=i}}return m}(c,h,d,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}e._decimated=l}})},destroy(t){DA(t)}};function NA(t,e,n,r){if(r)return;let i=e[t],s=n[t];return"angle"===t&&(i=XC(i),s=XC(s)),{property:t,start:i,end:s}}function jA(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function RA(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function LA(t,e){let n=[],r=!1;return hC(t)?(r=!0,n=t):n=function(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:t,end:e})=>{e=jA(t,e,i);const o=i[t],a=i[e];null!==r?(s.push({x:o.x,y:r}),s.push({x:a.x,y:r})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:a.y}))}),s}(t,e),n.length?new wA({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function FA(t,e,n){let r=t[e].fill;const i=[e];let s;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!fC(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;i.push(r),r=s.fill}return!1}function VA(t,e,n){const r=function(t){const e=t.options,n=e.fill;let r=gC(n&&n.target,n);return void 0===r&&(r=!!e.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(t);if(dC(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return fC(i)&&Math.floor(i)===i?function(t,e,n,r){return"-"!==t&&"+"!==t||(n=e+n),!(n===e||n<0||n>=r)&&n}(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function UA(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:c}=QA(s,e,"x");if(!(!c||o&&a))if(o)r.unshift(c);else if(t.push(c),!a)break}t.push(...r)}function QA(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,c=!1;for(let u=0;u<s.length;u++){const t=s[u],e=o[t.start][n],r=o[t.end][n];if(eS(i,e,r)){a=i===e,c=i===r;break}}return{first:a,last:c,point:r}}class BA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:i,radius:s}=this;return t.arc(r,i,s,(e=e||{start:0,end:MC}).end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,i=t.angle;return{x:e+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function HA(t,e,n){const r=function(t){const{chart:e,fill:n,line:r}=t;if(fC(n))return function(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=function(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const t=r[i];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}(e,n);a.push(LA({x:null,y:e.bottom},r));for(let c=0;c<s.length;c++){const t=s[c];for(let e=t.start;e<=t.end;e++)UA(i,o[e],a)}return new wA({points:i,options:{}})}(t);if("shape"===n)return!0;const i=function(t){return(t.scale||{}).getPointPositionForValue?function(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=function(t,e,n){let r;return r="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:dC(t)?t.value:e.getBaseValue(),r}(n,e,s),a=[];if(r.grid.circular){const t=e.getPointPositionForValue(0,s);return new BA({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}(t):function(t){const{scale:e={},fill:n}=t,r=function(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:dC(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(fC(r)){const t=e.isHorizontal();return{x:t?r:null,y:t?null:r}}return null}(t)}(t);return i instanceof BA?i:LA(i,r)}(e),{line:i,scale:s,axis:o}=e,a=i.options,c=a.fill,u=a.backgroundColor,{above:l=u,below:h=u}=c||{};r&&i.points.length&&(YS(t,n),function(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a}=e,c=n._loop?"angle":e.axis;t.save(),"x"===c&&s!==i&&(zA(t,r,o.top),qA(t,{line:n,target:r,color:i,scale:a,property:c}),t.restore(),t.save(),zA(t,r,o.bottom)),qA(t,{line:n,target:r,color:s,scale:a,property:c}),t.restore()}(t,{line:i,target:r,above:l,below:h,area:n,scale:s,axis:o}),ZS(t))}function zA(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:r,end:c}=a,u=i[r],l=i[jA(r,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(l.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function qA(t,e){const{line:n,target:r,property:i,color:s,scale:o}=e,a=function(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:t,end:r}=a;r=jA(t,r,i);const c=NA(n,i[t],i[r],a.loop);if(!e.segments){o.push({source:a,target:c,start:i[t],end:i[r]});continue}const u=oT(e,c);for(const e of u){const t=NA(n,s[e.start],s[e.end],e.loop),r=sT(a,i,t);for(const i of r)o.push({source:i,target:e,start:{[n]:RA(c,t,"start",Math.max)},end:{[n]:RA(c,t,"end",Math.min)}})}}return o}(n,r,i);for(const{source:c,target:u,start:l,end:h}of a){const{style:{backgroundColor:e=s}={}}=c,a=!0!==r;t.save(),t.fillStyle=e,GA(t,o,a&&NA(i,l,h)),t.beginPath();const d=!!n.pathSegment(t,c);let f;if(a){d?t.closePath():$A(t,r,h,i);const e=!!r.pathSegment(t,u,{move:d,reverse:!0});f=d&&e,f||$A(t,r,l,i)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function GA(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function $A(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var WA={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,c;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,c=null,a&&a.options&&a instanceof wA&&(c={visible:t.isDatasetVisible(o),index:o,fill:VA(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=c,i.push(c);for(o=0;o<r;++o)c=i[o],c&&!1!==c.fill&&(c.fill=FA(i,o,n.propagate))},beforeDraw(t,e,n){const r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const e=i[o].$filler;e&&(e.line.updateControlPoints(s,e.axis),r&&HA(t.ctx,e,s))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const e=r[i].$filler;e&&HA(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;r&&!1!==r.fill&&"beforeDatasetDraw"===n.drawTime&&HA(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const KA=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class YA extends Sk{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=bC(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(e=>t.filter(e,this.chart.data))),t.sort&&(e=e.sort((e,n)=>t.sort(e,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=lO(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=KA(n,i);let c,u;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,i,o,a)+10):(u=this.maxHeight,c=this._fitCols(s,i,o,a)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+o;let l=t;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-u;return this.legendItems.forEach((t,f)=>{const p=n+e/2+i.measureText(t.text).width;(0===f||c[c.length-1]+p+2*o>s)&&(l+=u,c[c.length-(f>0?0:1)]=0,d+=u,h++),a[f]={left:0,top:d,row:h,width:p,height:r},c[c.length-1]+=p+o}),l}_fitCols(t,e,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-t;let l=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach((t,s)=>{const g=n+e/2+i.measureText(t.text).width;s>0&&d+r+2*o>u&&(l+=h+o,c.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:r},h=Math.max(h,g),d+=r+o}),l+=h,c.push({width:h,height:d}),l}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,s=tT(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=aC(n,this.left+r,this.right-this.lineWidths[i]);for(const a of e)i!==a.row&&(i=a.row,o=aC(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+t+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let i=0,o=aC(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const a of e)a.col!==i&&(i=a.col,o=aC(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;YS(t,this),this._draw(),ZS(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:s}=t,o=HS.color,a=tT(t.rtl,this.left,this.width),c=lO(s.font),{color:u,padding:l}=s,h=c.size,d=h/2;let f;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=KA(s,h),b=this.isHorizontal(),y=this._computeTitleHeight();f=b?{x:aC(i,this.left+l,this.right-n[0]),y:this.top+l+y,line:0}:{x:this.left+l,y:aC(i,this.top+y+l,this.bottom-e[0].height),line:0},eT(this.ctx,t.textDirection);const v=m+l;this.legendItems.forEach((_,w)=>{r.strokeStyle=_.fontColor||u,r.fillStyle=_.fontColor||u;const x=r.measureText(_.text).width,P=a.textAlign(_.textAlign||(_.textAlign=s.textAlign)),E=p+d+x;let C=f.x,S=f.y;a.setWidth(this.width),b?w>0&&C+E+l>this.right&&(S=f.y+=v,f.line++,C=f.x=aC(i,this.left+l,this.right-n[f.line])):w>0&&S+v>this.bottom&&(C=f.x=C+e[f.line].width+l,f.line++,S=f.y=aC(i,this.top+y+l,this.bottom-e[f.line].height)),function(t,e,n){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const i=gC(n.lineWidth,1);if(r.fillStyle=gC(n.fillStyle,o),r.lineCap=gC(n.lineCap,"butt"),r.lineDashOffset=gC(n.lineDashOffset,0),r.lineJoin=gC(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=gC(n.strokeStyle,o),r.setLineDash(gC(n.lineDash,[])),s.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},o=a.xPlus(t,p/2);WS(r,s,o,e+d)}else{const s=e+Math.max((h-g)/2,0),o=a.leftForLtr(t,p),c=cO(n.borderRadius);r.beginPath(),Object.values(c).some(t=>0!==t)?nO(r,{x:o,y:s,w:p,h:g,radius:c}):r.rect(o,s,p,g),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(C),S,_),C=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(P,C+p+d,b?C+E:this.right,t.rtl),function(t,e,n){tO(r,n.text,t,e+m/2,c,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(C),S,_),b?f.x+=E+l:f.y+=v}),nT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=lO(e.font),r=uO(e.padding);if(!e.display)return;const i=tT(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=r.top+n.size/2;let c,u=this.left,l=this.width;if(this.isHorizontal())l=Math.max(...this.lineWidths),c=this.top+a,u=aC(t.align,u,this.right-l);else{const e=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);c=a+aC(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const h=aC(o,u,u+l);s.textAlign=i.textAlign(oC(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,tO(s,e.text,h,c,n)}_computeTitleHeight(){const t=this.options.title,e=lO(t.font),n=uO(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(eS(t,this.left,this.right)&&eS(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],eS(t,r.left,r.left+r.width)&&eS(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,i=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(r,n);r&&!i&&bC(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!i&&bC(e.onHover,[t,n,this],this)}else n&&bC(e.onClick,[t,n,this],this)}}var ZA={id:"legend",_element:YA,start(t,e,n){const r=t.legend=new YA({ctx:t.ctx,options:n,chart:t});uk.configure(t,r,n),uk.addBox(t,r)},stop(t){uk.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;uk.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s}}=t.legend.options;return t._getSortedDatasetMetas().map(t=>{const o=t.controller.getStyle(n?0:void 0),a=uO(o.borderWidth);return{text:e[t.index].label,fillStyle:o.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(a.width+a.height)/4,strokeStyle:o.borderColor,pointStyle:r||o.pointStyle,rotation:o.rotation,textAlign:i||o.textAlign,borderRadius:0,datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class XA extends Sk{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=hC(n.text)?n.text.length:1;this._padding=uO(n.padding);const i=r*lO(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:s}=this,o=s.align;let a,c,u,l=0;return this.isHorizontal()?(c=aC(o,n,i),u=e+t,a=i-n):("left"===s.position?(c=n+t,u=aC(o,r,e),l=-.5*DC):(c=i-t,u=aC(o,e,r),l=.5*DC),a=r-e),{titleX:c,titleY:u,maxWidth:a,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=lO(e.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(r);tO(t,e.text,0,0,n,{color:e.color,maxWidth:o,rotation:a,textAlign:oC(e.align),textBaseline:"middle",translation:[i,s]})}}var JA={id:"title",_element:XA,start(t,e,n){!function(t,e){const n=new XA({ctx:t.ctx,options:e,chart:t});uk.configure(t,n,e),uk.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){uk.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;uk.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tI=new WeakMap;var eI={id:"subtitle",start(t,e,n){const r=new XA({ctx:t.ctx,options:n,chart:t});uk.configure(t,r,n),uk.addBox(t,r),tI.set(t,r)},stop(t){uk.removeBox(t,tI.get(t)),tI.delete(t)},beforeUpdate(t,e,n){const r=tI.get(t);uk.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nI={average(t){if(!t.length)return!1;let e,n,r=0,i=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r+=t.x,i+=t.y,++s}}return{x:r/s,y:i/s}},nearest(t,e){if(!t.length)return!1;let n,r,i,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=YC(e,r.getCenterPoint());t<a&&(a=t,i=r)}}if(i){const t=i.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function rI(t,e){return e&&(hC(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function iI(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function sI(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function oI(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,c=lO(e.bodyFont),u=lO(e.titleFont),l=lO(e.footerFont),h=s.length,d=i.length,f=r.length,p=uO(e.padding);let g=p.height,m=0,b=r.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0);b+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b&&(g+=f*(e.displayColors?Math.max(a,c.lineHeight):c.lineHeight)+(b-f)*c.lineHeight+(b-1)*e.bodySpacing),d&&(g+=e.footerMarginTop+d*l.lineHeight+(d-1)*e.footerSpacing);let y=0;const v=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=u.string,yC(t.title,v),n.font=c.string,yC(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?o+2+e.boxPadding:0,yC(r,t=>{yC(t.before,v),yC(t.lines,v),yC(t.after,v)}),y=0,n.font=l.string,yC(t.footer,v),n.restore(),m+=p.width,{width:m,height:g}}function aI(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return"center"===r?u=i<=(a+c)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),function(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;return"left"===t&&i+s+o>e.width||"right"===t&&i-s-o<0||void 0}(u,t,e,n)&&(u="center"),u}function cI(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||aI(t,e,n,r),yAlign:r}}function uI(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=i+s,{topLeft:l,topRight:h,bottomLeft:d,bottomRight:f}=cO(o);let p=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,a);const g=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,c,u);return"center"===c?"left"===a?p+=u:"right"===a&&(p-=u):"left"===a?p-=Math.max(l,d)+i:"right"===a&&(p+=Math.max(h,f)+i),{x:tS(p,0,r.width-e.width),y:tS(g,0,r.height-e.height)}}function lI(t,e,n){const r=uO(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function hI(t){return rI([],iI(t))}function dI(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class fI extends Sk{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new fT(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=dO(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(t,e){const{callbacks:n}=e,r=n.beforeTitle.apply(this,[t]),i=n.title.apply(this,[t]),s=n.afterTitle.apply(this,[t]);let o=[];return o=rI(o,iI(r)),o=rI(o,iI(i)),o=rI(o,iI(s)),o}getBeforeBody(t,e){return hI(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:n}=e,r=[];return yC(t,t=>{const e={before:[],lines:[],after:[]},i=dI(n,t);rI(e.before,iI(i.beforeLabel.call(this,t))),rI(e.lines,i.label.call(this,t)),rI(e.after,iI(i.afterLabel.call(this,t))),r.push(e)}),r}getAfterBody(t,e){return hI(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:n}=e,r=n.beforeFooter.apply(this,[t]),i=n.footer.apply(this,[t]),s=n.afterFooter.apply(this,[t]);let o=[];return o=rI(o,iI(r)),o=rI(o,iI(i)),o=rI(o,iI(s)),o}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],s=[];let o,a,c=[];for(o=0,a=e.length;o<a;++o)c.push(sI(this.chart,e[o]));return t.filter&&(c=c.filter((e,r,i)=>t.filter(e,r,i,n))),t.itemSort&&(c=c.sort((e,r)=>t.itemSort(e,r,n))),yC(c,e=>{const n=dI(t.callbacks,e);r.push(n.labelColor.call(this,e)),i.push(n.labelPointStyle.call(this,e)),s.push(n.labelTextColor.call(this,e))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=c,c}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const t=nI[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=oI(this,n),o=Object.assign({},t,e),a=cI(this.chart,n,o),c=uI(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:c.x,y:c.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:c,bottomLeft:u,bottomRight:l}=cO(o),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,b,y,v,_;return"center"===i?(v=d+p/2,"left"===r?(g=h,m=g-s,y=v+s,_=v-s):(g=h+f,m=g+s,y=v-s,_=v+s),b=g):(m="left"===r?h+Math.max(a,u)+s:"right"===r?h+f-Math.max(c,l)-s:this.caretX,"top"===i?(y=d,v=y-s,g=m-s,b=m+s):(y=d+p,v=y+s,g=m+s,b=m-s),_=y),{x1:g,x2:m,x3:b,y1:y,y2:v,y3:_}}drawTitle(t,e,n){const r=this.title,i=r.length;let s,o,a;if(i){const c=tT(n.rtl,this.x,this.width);for(t.x=lI(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",s=lO(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<i;++a)e.fillText(r[a],c.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===i&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,r,i){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:c,boxPadding:u}=i,l=lO(i.bodyFont),h=lI(this,"left",i),d=r.x(h),f=e.y+(a<l.lineHeight?(l.lineHeight-a)/2:0);if(i.usePointStyle){const e={radius:Math.min(c,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(d,c)+c/2,u=f+a/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,WS(t,e,n,u),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,WS(t,e,n,u)}else{t.lineWidth=s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=r.leftForLtr(d,c-u),n=r.leftForLtr(r.xPlus(d,1),c-u-2),o=cO(s.borderRadius);Object.values(o).some(t=>0!==t)?(t.beginPath(),t.fillStyle=i.multiKeyBackground,nO(t,{x:e,y:f,w:c,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),nO(t,{x:n,y:f+1,w:c-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,f,c,a),t.strokeRect(e,f,c,a),t.fillStyle=s.backgroundColor,t.fillRect(n,f+1,c-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:c,boxPadding:u}=n,l=lO(n.bodyFont);let h=l.lineHeight,d=0;const f=tT(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+i},g=f.textAlign(s);let m,b,y,v,_,w,x;for(e.textAlign=s,e.textBaseline="middle",e.font=l.string,t.x=lI(this,g,n),e.fillStyle=n.bodyColor,yC(this.beforeBody,p),d=o&&"right"!==g?"center"===s?c/2+u:c+2+u:0,v=0,w=r.length;v<w;++v){for(m=r[v],b=this.labelTextColors[v],e.fillStyle=b,yC(m.before,p),y=m.lines,o&&y.length&&(this._drawColorBox(e,t,v,f,n),h=Math.max(l.lineHeight,a)),_=0,x=y.length;_<x;++_)p(y[_]),h=l.lineHeight;yC(m.after,p)}d=0,h=l.lineHeight,yC(this.afterBody,p),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let s,o;if(i){const a=tT(n.rtl,this.x,this.width);for(t.x=lI(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=lO(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<i;++o)e.fillText(r[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:s}=this,{x:o,y:a}=t,{width:c,height:u}=n,{topLeft:l,topRight:h,bottomLeft:d,bottomRight:f}=cO(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(o+l,a),"top"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+c-h,a),e.quadraticCurveTo(o+c,a,o+c,a+h),"center"===s&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(o+c,a+u-f),e.quadraticCurveTo(o+c,a+u,o+c-f,a+u),"bottom"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+d,a+u),e.quadraticCurveTo(o,a+u,o,a+u-d),"center"===s&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(o,a+l),e.quadraticCurveTo(o,a,o+l,a),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=nI[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=oI(this,t),o=Object.assign({},n,this._size),a=cI(e,t,o),c=uI(t,o,a,e);r._to===c.x&&i._to===c.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=uO(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),eT(t,e.textDirection),i.y+=s.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),nT(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map(({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}}),i=!vC(n,r),s=this._positionChanged(r,e);(i||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(t,i,e,n),o=this._positionChanged(s,t),a=e||!vC(s,i)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e;const s=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,s=nI[i.position].call(this,t,e);return!1!==s&&(n!==s.x||r!==s.y)}}fI.positioners=nI;var pI=Object.freeze({__proto__:null,Decimation:MA,Filler:WA,Legend:ZA,SubTitle:eI,Title:JA,Tooltip:{id:"tooltip",_element:fI,positioners:nI,afterInit(t,e,n){n&&(t.tooltip=new fI({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",n))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){t.tooltip&&t.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:cC,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:cC,beforeBody:cC,beforeLabel:cC,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return lC(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:cC,afterBody:cC,beforeFooter:cC,footer:cC,afterFooter:cC}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class gI extends Rk{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(lC(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:tS(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:function(t,e,n,r){const i=t.indexOf(e);return-1===i?((t,e,n,r)=>("string"==typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r):i!==t.lastIndexOf(e)?n:i}(n,t,gC(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)r.push({value:s});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function mI(t,e,{horizontal:n,minRotation:r}){const i=GC(r),s=(n?Math.sin(i):Math.cos(i))||.001;return Math.min(e/s,.75*e*(""+t).length)}gI.id="category",gI.defaults={ticks:{callback:gI.prototype.getLabelForValue}};class bI extends Rk{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return lC(t)?null:("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=t=>r=e?r:t,o=t=>i=n?i:t;if(t){const t=QC(r),e=QC(i);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(r===i){let e=1;(i>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*i)),o(i+e),t||s(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=function(t,e){const n=[],{bounds:r,step:i,min:s,max:o,precision:a,count:c,maxTicks:u,maxDigits:l,includeBounds:h}=t,d=i||1,f=u-1,{min:p,max:g}=e,m=!lC(s),b=!lC(o),y=!lC(c),v=(g-p)/(l+1);let _,w,x,P,E=BC((g-p)/f/d)*d;if(E<1e-14&&!m&&!b)return[{value:p},{value:g}];P=Math.ceil(g/E)-Math.floor(p/E),P>f&&(E=BC(P*E/f/d)*d),lC(a)||(_=Math.pow(10,a),E=Math.ceil(E*_)/_),"ticks"===r?(w=Math.floor(p/E)*E,x=Math.ceil(g/E)*E):(w=p,x=g),m&&b&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/i,E/1e3)?(P=Math.round(Math.min((o-s)/E,u)),E=(o-s)/P,w=s,x=o):y?(w=m?s:w,x=b?o:x,P=c-1,E=(x-w)/P):(P=(x-w)/E,P=zC(P,Math.round(P),E/1e3)?Math.round(P):Math.ceil(P));const C=Math.max(WC(E),WC(w));_=Math.pow(10,lC(a)?C:a),w=Math.round(w*_)/_,x=Math.round(x*_)/_;let S=0;for(m&&(h&&w!==s?(n.push({value:s}),w<s&&S++,zC(Math.round((w+S*E)*_)/_,s,mI(s,v,t))&&S++):w<s&&S++);S<P;++S)n.push({value:Math.round((w+S*E)*_)/_});return b&&h&&x!==o?n.length&&zC(n[n.length-1].value,o,mI(o,v,t))?n[n.length-1].value=o:n.push({value:o}):b&&x!==o||n.push({value:x}),n}({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&qC(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return JO(t,this.chart.options.locale,this.options.ticks.format)}}class yI extends bI{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=fC(t)?t:0,this.max=fC(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=GC(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function vI(t){return 1==t/Math.pow(10,Math.floor(UC(t)))}yI.id="linear",yI.defaults={ticks:{callback:Tk.formatters.numeric}};class _I extends Rk{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=bI.prototype.parse.apply(this,[t,e]);if(0!==n)return fC(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=fC(t)?Math.max(0,t):null,this.max=fC(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const i=e=>n=t?n:e,s=t=>r=e?r:t,o=(t,e)=>Math.pow(10,Math.floor(UC(t))+e);n===r&&(n<=0?(i(1),s(10)):(i(o(n,-1)),s(o(r,1)))),n<=0&&i(o(r,-1)),r<=0&&s(o(n,1)),this._zero&&this.min!==this._suggestedMin&&n===o(this.min,0)&&i(o(n,-1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e=function(t,e){const n=Math.floor(UC(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[];let s=pC(t.min,Math.pow(10,Math.floor(UC(e.min)))),o=Math.floor(UC(s)),a=Math.floor(s/Math.pow(10,o)),c=o<0?Math.pow(10,Math.abs(o)):1;do{i.push({value:s,major:vI(s)}),++a,10===a&&(a=1,++o,c=o>=0?1:c),s=Math.round(a*Math.pow(10,o)*c)/c}while(o<n||o===n&&a<r);const u=pC(t.max,s);return i.push({value:u,major:vI(s)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&qC(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":JO(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=UC(t),this._valueRange=UC(this.max)-UC(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(UC(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function wI(t){const e=t.ticks;if(e.display&&t.display){const t=uO(e.backdropPadding);return gC(e.font&&e.font.size,HS.font.size)+t.height}return 0}function xI(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function PI(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,c=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function EI(t){return 0===t||180===t?"center":t<180?"left":"right"}function CI(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function SI(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,MC);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=t.getPointPosition(s,e),i.lineTo(n.x,n.y)}}_I.id="logarithmic",_I.defaults={ticks:{callback:Tk.formatters.logarithmic,major:{enabled:!0}}};class OI extends bI{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=uO(wI(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=fC(t)&&!isNaN(t)?t:0,this.max=fC(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wI(this.options))}generateTickLabels(t){bI.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,e)=>{const n=bC(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){const t=this.options;t.display&&t.pointLabels.display?function(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?DC/s:0;for(let h=0;h<s;h++){const s=o.setContext(t.getPointLabelContext(h));i[h]=s.padding;const d=t.getPointPosition(h,t.drawingArea+i[h],a),f=lO(s.font),p=(c=t.ctx,u=f,l=hC(l=t._pointLabels[h])?l:[l],{w:qS(c,u.string,l),h:l.length*u.lineHeight});r[h]=p;const g=XC(t.getIndexAngle(h)+a),m=Math.round($C(g));PI(n,e,g,xI(m,d.x,p.w,0,180),xI(m,d.y,p.h,90,270))}var c,u,l;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,o=wI(s)/2,a=t.drawingArea,c=s.pointLabels.centerPointLabels?DC/i:0;for(let d=0;d<i;d++){const i=t.getPointPosition(d,a+o+n[d],c),s=Math.round($C(XC(i.angle+LC))),f=e[d],p=CI(i.y,f.h,s),g=EI(s),m=(u=i.x,l=f.w,"right"===(h=g)?u-=l:"center"===h&&(u-=l/2),u);r.push({x:i.x,y:p,textAlign:g,left:m,top:p,right:m+f.w,bottom:p+f.h})}var u,l,h;return r}(t,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return XC(t*(MC/(this._pointLabels.length||1))+GC(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(lC(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(lC(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return dO(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const r=this.getIndexAngle(t)-LC+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),SI(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r}=e,i=this._pointLabels.length;let s,o,a;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=r.setContext(t.getPointLabelContext(i)),s=lO(e.font),{x:o,y:a,textAlign:c,left:u,top:l,right:h,bottom:d}=t._pointLabelItems[i],{backdropColor:f}=e;if(!lC(f)){const t=cO(e.borderRadius),r=uO(e.backdropPadding);n.fillStyle=f;const i=u-r.left,s=l-r.top,o=h-u+r.width,a=d-l+r.height;Object.values(t).some(t=>0!==t)?(n.beginPath(),nO(n,{x:i,y:s,w:o,h:a,radius:t}),n.fill()):n.fillRect(i,s,o,a)}tO(n,t._pointLabels[i],o,a+s.lineHeight/2,s,{color:e.color,textAlign:c,textBaseline:"middle"})}}(this,i),r.display&&this.ticks.forEach((t,e)=>{0!==e&&(o=this.getDistanceFromCenterForValue(t.value),function(t,e,n,r){const i=t.ctx,s=e.circular,{color:o,lineWidth:a}=e;!s&&!r||!o||!a||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=a,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),SI(t,n,s,r),i.closePath(),i.stroke(),i.restore())}(this,r.setContext(this.getContext(e-1)),o,i))}),n.display){for(t.save(),s=i-1;s>=0;s--){const r=n.setContext(this.getPointLabelContext(s)),{color:i,lineWidth:c}=r;c&&i&&(t.lineWidth=c,t.strokeStyle=i,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),a=this.getPointPosition(s,o),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(a.x,a.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((r,o)=>{if(0===o&&!e.reverse)return;const a=n.setContext(this.getContext(o)),c=lO(a.font);if(i=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=c.string,s=t.measureText(r.label).width,t.fillStyle=a.backdropColor;const e=uO(a.backdropPadding);t.fillRect(-s/2-e.left,-i-c.size/2-e.top,s+e.width,c.size+e.height)}tO(t,r.label,0,-i,c,{color:a.color})}),t.restore()}drawTitle(){}}OI.id="radialLinear",OI.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Tk.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},OI.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},OI.descriptors={angleLines:{_fallback:"grid"}};const TI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kI=Object.keys(TI);function AI(t,e){return t-e}function II(t,e){if(lC(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return"function"==typeof r&&(o=r(o)),fC(o)||(o="string"==typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&(o="week"!==i||!HC(s)&&!0!==s?n.startOf(o,i):n.startOf(o,"isoWeek",s)),+o)}function DI(t,e,n,r){const i=kI.length;for(let s=kI.indexOf(t);s<i-1;++s){const t=TI[kI[s]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return kI[s]}return kI[i-1]}function MI(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=fO(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function NI(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,c;for(a=s;a<=o;a=+i.add(a,1,r))c=n[a],c>=0&&(e[c].major=!0);return e}(t,r,i,n):r}class jI extends Rk{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const n=t.time||(t.time={}),r=this._adapter=new qT._date(t.adapters.date);EC(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:II(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(r=Math.min(r,t.min)),o||isNaN(t.max)||(i=Math.max(i,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),r=fC(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=fC(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(r,i,this.max);return this._unit=e.unit||(n.autoSkip?DI(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,n,r,i){for(let s=kI.length-1;s>=kI.indexOf(n);s--){const n=kI[s];if(TI[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return kI[n?kI.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=kI.indexOf(t)+1,n=kI.length;e<n;++e)if(TI[kI[e]].common)return kI[e]}(this._unit):void 0,this.initOffsets(r),t.reverse&&s.reverse(),NI(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let e,n,r=0,i=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),r=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),i=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;r=tS(r,0,s),i=tS(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||DI(i.minUnit,e,n,this._getLabelCapacity(e)),o=gC(i.stepSize,1),a="week"===s&&i.isoWeekday,c=HC(a)||!0===a,u={};let l,h,d=e;if(c&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,c?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(l=d,h=0;l<n;l=+t.add(l,o,s),h++)MI(u,l,f);return l!==n&&"ticks"!==r.bounds&&1!==h||MI(u,l,f),Object.keys(u).sort((t,e)=>t-e).map(t=>+t)}getLabelForValue(t){const e=this.options.time;return this._adapter.format(t,e.tooltipFormat?e.tooltipFormat:e.displayFormats.datetime)}_tickFormatFunction(t,e,n,r){const i=this.options,s=i.time.displayFormats,o=this._unit,a=this._majorUnit,c=a&&s[a],u=n[e],l=this._adapter.format(t,r||(a&&c&&u&&u.major?c:o&&s[o])),h=i.ticks.callback;return h?bC(h,[l,e,n],this):l}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=GC(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,NI(this,[t],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(II(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return yO(t.sort(AI))}}function RI(t,e,n){let r,i,s,o,a=0,c=t.length-1;n?(e>=t[a].pos&&e<=t[c].pos&&({lo:a,hi:c}=pO(t,"pos",e)),({pos:r,time:s}=t[a]),({pos:i,time:o}=t[c])):(e>=t[a].time&&e<=t[c].time&&({lo:a,hi:c}=pO(t,"time",e)),({time:r,pos:s}=t[a]),({time:i,pos:o}=t[c]));const u=i-r;return u?s+(o-s)*(e-r)/u:s}jI.id="time",jI.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class LI extends jI{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=RI(e,this.min),this._tableRange=RI(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let s,o,a,c,u;for(s=0,o=t.length;s<o;++s)c=t[s],c>=e&&c<=n&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=r.length;s<o;++s)u=r[s+1],a=r[s-1],c=r[s],Math.round((u+a)/2)!==c&&i.push({time:c,pos:s/(o-1)});return i}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(RI(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return RI(this._table,n*this._tableRange+this._minPos,!0)}}LI.id="timeseries",LI.defaults=jI.defaults;const FI=[BT,AA,pI,Object.freeze({__proto__:null,CategoryScale:gI,LinearScale:yI,LogarithmicScale:_I,RadialLinearScale:OI,TimeScale:jI,TimeSeriesScale:LI})],VI=`${i}`;let UI=(()=>{class t{constructor(t){this.http=t}getListCompany(){return this.http.get(`${VI}/statistic/listCompany`)}getStatisticByMonth(t,e,n){return this.http.get(`${VI}/statistic/by-month/${t}/${e}/${n}`)}getStatisticByYear(t,e,n){return this.http.get(`${VI}/statistic/by-year/${t}/${e}/${n}`)}getStatisticByMonthCompany(t,e,n,r){return this.http.get(`${VI}/statistic/by-month-company/${t}/${e}/${n}/${r}`)}getStatisticByYearCompany(t,e,n,r){return this.http.get(`${VI}/statistic/by-year-company/${t}/${e}/${n}/${r}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function QI(t,e){if(1&t&&(r.Qb(0,"p",48),r.tc(1),r.Pb()),2&t){const t=r.cc();r.Ab(1),r.uc(t.statisticForm.get("startDate").errors.message)}}function BI(t,e){if(1&t&&(r.Qb(0,"p",48),r.tc(1),r.Pb()),2&t){const t=r.cc();r.Ab(1),r.uc(t.statisticForm.get("endDate").errors.message)}}function HI(t,e){if(1&t&&(r.Qb(0,"p",48),r.tc(1),r.Pb()),2&t){const t=r.cc();r.Ab(1),r.uc(t.statisticForm.errors.message)}}function zI(t,e){if(1&t&&(r.Qb(0,"option",49),r.tc(1),r.Pb()),2&t){const t=e.$implicit;r.hc("value",t),r.Ab(1),r.uc(t)}}function qI(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.tc(2),r.Pb(),r.Qb(3,"td"),r.tc(4),r.Pb(),r.Qb(5,"td"),r.tc(6),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Ab(2),r.uc(t.time),r.Ab(2),r.uc(t.amount),r.Ab(2),r.uc(t.price)}}cA.register(...FI);const GI=[{path:"statistic",component:(()=>{class t{constructor(t,e,n,r,i){this.datePipe=t,this.statisticService=e,this.title=n,this.toast=r,this.router=i,this.valueAmountPieChart=[],this.valuePricePieChart=[],this.namePieChart=[],this.pastDay=this.datePipe.transform((new Date).setDate((new Date).getDate()-900),"yyyy-MM-dd"),this.today=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.time=["1 week","2 week","1 month","2 month","1 quarter","2 quarter","1 year"],this.title.setTitle("Th\u1ed1ng K\xea")}ngOnInit(){this.statisticService.getListCompany().subscribe(t=>{this.listCompany=t}),this.statisticForm=new io({startDate:new ro(this.pastDay,this.dateNotExist),endDate:new ro(this.today,this.dateInFuture),type:new ro("all",gs.required),company:new ro("all",gs.required),styleTime:new ro("month",gs.required),chartStyle:new ro("bar",gs.required)},this.invalidDate)}invalidDate(t){const e=t.value,n=new Date(e.startDate),r=new Date(e.endDate);return r.setDate(r.getDate()-1),n>r?{dateNotValid:!0,message:"Ng\xe0y b\u1eaft \u0111\u1ea7u ph\u1ea3i nh\u1ecf h\u01a1n ng\xe0y k\u1ebft th\xfac"}:n>new Date?{futureDate:!0,message:"Ng\xe0y b\u1eaft \u0111\u1ea7u kh\xf4ng l\u1edbn h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i"}:null}dateNotExist(t){if(!rC(new Date(t.value)))return{dateNotExist:!0,message:"Ng\xe0y kh\xf4ng t\u1ed3n t\u1ea1i"}}dateInFuture(t){const e=new Date(t.value);return e>new Date?{futureDate:!0,message:"Ng\xe0y k\u1ebft th\xfac kh\xf4ng l\u1edbn h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i"}:rC(e)?null:{dateNotExist:!0,message:"Ng\xe0y k\u1ebft th\xfac kh\xf4ng t\u1ed3n t\u1ea1i"}}resetValueAndDrawPieChart(){this.valueAmountPieChart=[],this.valuePricePieChart=[],this.namePieChart=[];for(let t=0;t<this.listStatistic.length;t++)this.valueAmountPieChart.push(this.listStatistic[t].amount),this.valuePricePieChart.push(this.listStatistic[t].price),this.namePieChart.push(this.listStatistic[t].time);this.destroyChart(),this.createPieChart1(),this.createPieChart2()}onSubmit(){"month"===this.statisticForm.value.styleTime&&("all"===this.statisticForm.value.company?"bar"===this.statisticForm.value.chartStyle?(this.hiddenChart=!1,this.hiddenPieChart=!0,this.statisticService.getStatisticByMonth(this.statisticForm.value.startDate,this.statisticForm.value.endDate,this.statisticForm.value.type).subscribe(t=>{this.listStatistic=t,this.toast.success("Get Value success !"),this.destroyChart(),this.createChartMonth()})):(this.hiddenChart=!0,this.hiddenPieChart=!1,this.statisticService.getStatisticByMonth(this.statisticForm.value.startDate,this.statisticForm.value.endDate,this.statisticForm.value.type).subscribe(t=>{this.listStatistic=t,this.toast.success("Get Value success !"),this.resetValueAndDrawPieChart()})):"bar"===this.statisticForm.value.chartStyle?(this.hiddenChart=!1,this.hiddenPieChart=!0,this.statisticService.getStatisticByMonthCompany(this.statisticForm.value.startDate,this.statisticForm.value.endDate,this.statisticForm.value.type,this.statisticForm.value.company).subscribe(t=>{this.listStatistic=t,this.toast.success("Get Value success !"),this.destroyChart(),this.createChartMonth()})):(this.hiddenChart=!0,this.hiddenPieChart=!1,this.statisticService.getStatisticByMonthCompany(this.statisticForm.value.startDate,this.statisticForm.value.endDate,this.statisticForm.value.type,this.statisticForm.value.company).subscribe(t=>{this.listStatistic=t,this.toast.success("Get Value success !"),this.resetValueAndDrawPieChart()}))),"year"===this.statisticForm.value.styleTime&&("all"===this.statisticForm.value.company?"bar"===this.statisticForm.value.chartStyle?(this.hiddenChart=!1,this.hiddenPieChart=!0,this.statisticService.getStatisticByYear(this.statisticForm.value.startDate,this.statisticForm.value.endDate,this.statisticForm.value.type).subscribe(t=>{this.listStatistic=t,this.toast.success("Get Value success !"),this.destroyChart(),this.createChartYear()})):(this.hiddenChart=!0,this.hiddenPieChart=!1,this.statisticService.getStatisticByYear(this.statisticForm.value.startDate,this.statisticForm.value.endDate,this.statisticForm.value.type).subscribe(t=>{this.listStatistic=t,this.toast.success("Get Value success !"),this.destroyChart(),this.resetValueAndDrawPieChart()})):"bar"===this.statisticForm.value.chartStyle?(this.hiddenChart=!1,this.hiddenPieChart=!0,this.statisticService.getStatisticByYearCompany(this.statisticForm.value.startDate,this.statisticForm.value.endDate,this.statisticForm.value.type,this.statisticForm.value.company).subscribe(t=>{this.listStatistic=t,this.toast.success("Get Value success !"),this.destroyChart(),this.createChartYear()})):(this.hiddenChart=!0,this.hiddenPieChart=!1,this.statisticService.getStatisticByYearCompany(this.statisticForm.value.startDate,this.statisticForm.value.endDate,this.statisticForm.value.type,this.statisticForm.value.company).subscribe(t=>{this.listStatistic=t,this.toast.success("Get Value success !"),this.destroyChart(),this.resetValueAndDrawPieChart()})))}createChartMonth(){this.myChart=new cA("myChart",{type:"bar",data:{datasets:[{label:"S\u1ed1 l\u01b0\u1ee3ng heo",data:this.listStatistic,parsing:{xAxisKey:"time",yAxisKey:"amount"},backgroundColor:["#0099FF"],borderWidth:1},{label:"Doanh thu",data:this.listStatistic,parsing:{xAxisKey:"time",yAxisKey:"price"},backgroundColor:["#3EB595"],yAxisID:"y1",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,display:!0,title:{display:!0,text:"S\u1ed1 L\u01b0\u1ee3ng Heo ( Con )",color:"#3EB595",font:{family:"roboto",size:15,style:"normal",lineHeight:1},padding:{top:20,bottom:10}}},x:{beginAtZero:!0,display:!0,title:{display:!0,text:"Th\u1eddi Gian ( Th\xe1ng )",color:"#3EB595",font:{family:"roboto",size:15,style:"normal",lineHeight:1},padding:{top:0,bottom:10}}},y1:{type:"linear",position:"right",grid:{drawOnChartArea:!1},beginAtZero:!0,display:!0,title:{display:!0,text:"Doanh Thu (VND)",color:"#3EB595",font:{family:"roboto",size:15,style:"normal",lineHeight:1},padding:{top:5,bottom:10}},min:0}},plugins:{title:{display:!0,text:"TH\u1ed0NG K\xca S\u1ed0 L\u01af\u1ee2NG HEO V\xc0 DOANH THU C\u1ee6A C\xd4NG TY THEO TH\xc1NG",position:"top",color:"#3EB595",font:{family:"roboto",size:30,style:"normal",lineHeight:1},padding:{top:20,bottom:0}}}}})}createChartYear(){this.myChart=new cA("myChart",{type:"bar",data:{datasets:[{label:"S\u1ed1 l\u01b0\u1ee3ng heo",data:this.listStatistic,parsing:{xAxisKey:"time",yAxisKey:"amount"},backgroundColor:["#0099FF"],borderWidth:1},{label:"Doanh thu",data:this.listStatistic,parsing:{xAxisKey:"time",yAxisKey:"price"},backgroundColor:["#3EB595"],yAxisID:"y1",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,display:!0,title:{display:!0,text:"S\u1ed1 L\u01b0\u1ee3ng Heo ( Con )",color:"#3EB595",font:{family:"roboto",size:15,style:"normal",lineHeight:1},padding:{top:20,bottom:10}}},x:{beginAtZero:!0,display:!0,title:{display:!0,text:"Th\u1eddi Gian ( N\u0103m )",color:"#3EB595",font:{family:"roboto",size:15,style:"normal",lineHeight:1},padding:{top:0,bottom:10}}},y1:{type:"linear",position:"right",grid:{drawOnChartArea:!1},beginAtZero:!0,display:!0,title:{display:!0,text:"Doanh Thu (VND)",color:"#3EB595",font:{family:"roboto",size:15,style:"normal",lineHeight:1},padding:{top:5,bottom:10}},min:0}},plugins:{title:{display:!0,text:"TH\u1ed0NG K\xca S\u1ed0 L\u01af\u1ee2NG HEO V\xc0 DOANH THU C\u1ee6A C\xd4NG TY THEO N\u0102M",position:"top",color:"#3EB595",font:{family:"roboto",size:30,style:"normal",lineHeight:1},padding:{top:20,bottom:0}}}}})}createPieChart1(){this.myPieChart1=new cA("myPieChart1",{type:"doughnut",data:{labels:this.namePieChart,datasets:[{label:"S\u1ed1 l\u01b0\u1ee3ng heo",data:this.valueAmountPieChart,backgroundColor:["red","orange","yellow","green","blue","grey","aqua","bisque","cadetblue","brown","darkcyan","deeppink"]}]},options:{plugins:{title:{display:!0,text:"TH\u1ed0NG K\xca S\u1ed0 L\u01af\u1ee2NG HEO C\u1ee6A C\xd4NG TY THEO TH\xc1NG",position:"top",color:"#3EB595",font:{family:"roboto",size:30,style:"normal",lineHeight:1},padding:{top:20,bottom:0}}}}})}createPieChart2(){this.myPieChart2=new cA("myPieChart2",{type:"doughnut",data:{labels:this.namePieChart,datasets:[{label:"S\u1ed1 l\u01b0\u1ee3ng heo",data:this.valuePricePieChart,backgroundColor:["red","orange","yellow","green","blue","grey","aqua","bisque","cadetblue","brown","darkcyan","deeppink"]}]},options:{plugins:{title:{display:!0,text:"TH\u1ed0NG K\xca S\u1ed0 DOANH THU C\u1ee6A C\xd4NG TY THEO TH\xc1NG",position:"top",color:"#3EB595",font:{family:"roboto",size:30,style:"normal",lineHeight:1},padding:{top:20,bottom:0}}}}})}destroyChart(){null!=this.myChart&&this.myChart.destroy(),null!=this.myPieChart1&&this.myPieChart1.destroy(),null!=this.myPieChart2&&this.myPieChart2.destroy()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ft),r.Lb(UI),r.Lb(Yt),r.Lb(wu),r.Lb(xi))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-statictis"]],decls:109,vars:10,consts:[[2,"margin","0","padding","0","background-image","url('/assets/img/statisticBackground.jpg')","background-repeat","no-repeat","background-size","100% 100%","background-attachment","fixed"],[2,"height","100vh","width","100%","padding","10vh"],[2,"max-width","700px","margin","auto","background-color","white","border-radius","10px","padding","10px"],[3,"formGroup","ngSubmit"],[1,"titles"],[1,"row"],[1,"col-md"],[1,"form-label"],["type","date","formControlName","startDate",1,"form-control"],["type","date","formControlName","endDate",1,"form-control"],["style","margin-top: 13px;margin-bottom: 3px;color: red",4,"ngIf"],["formControlName","styleTime",1,"form-select"],["value","month"],["value","year"],["formControlName","type",1,"form-select"],["value","all"],["value","0"],["value","1"],["formControlName","company",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],["formControlName","chartStyle",1,"form-select"],["value","pie"],["value","bar"],[1,"position-relative"],[1,"position-absolute","top-50","start-50","translate-middle"],["type","submit","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-success",3,"disabled"],["id","exampleModal","data-bs-backdrop","static","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content",2,"width","100%","position","absolute","float","left","left","50%","top","50%","transform","translate(-50%, 0%)"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"col-12",3,"hidden"],["id","myChart","width","800","height","300"],[1,"col-6",3,"hidden"],["id","myPieChart1","width","400","height","300"],["id","myPieChart2","width","400","height","300"],[1,"col-12"],[2,"width","100%","text-align","center","color","#3EB595"],[2,"overflow-y","auto","height","300px"],[1,"table","table-striped","table-bordered"],[2,"background-color","#198754","color","white"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-success"],[2,"margin-top","13px","margin-bottom","3px","color","red"],[3,"value"]],template:function(t,e){1&t&&(r.Qb(0,"body",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"form",3),r.Yb("ngSubmit",(function(){return e.onSubmit()})),r.Qb(4,"h1",4),r.tc(5,"TH\u1ed0NG K\xca"),r.Pb(),r.Mb(6,"br"),r.Qb(7,"div",5),r.Qb(8,"div",6),r.Qb(9,"label",7),r.tc(10,"B\u1eaft \u0111\u1ea7u t\u1eeb ng\xe0y"),r.Pb(),r.Pb(),r.Qb(11,"div",6),r.Mb(12,"input",8),r.Pb(),r.Qb(13,"div",6),r.Mb(14,"input",9),r.Pb(),r.Pb(),r.rc(15,QI,2,1,"p",10),r.rc(16,BI,2,1,"p",10),r.rc(17,HI,2,1,"p",10),r.Mb(18,"br"),r.Qb(19,"div",5),r.Qb(20,"div",6),r.Qb(21,"label",7),r.tc(22,"\u0110\u01a1n v\u1ecb th\u1eddi gian"),r.Pb(),r.Pb(),r.Qb(23,"div",6),r.Qb(24,"select",11),r.Qb(25,"option",12),r.tc(26,"Theo Th\xe1ng"),r.Pb(),r.Qb(27,"option",13),r.tc(28,"Theo N\u0103m"),r.Pb(),r.Pb(),r.Pb(),r.Mb(29,"div",6),r.Pb(),r.Mb(30,"br"),r.Qb(31,"div",5),r.Qb(32,"div",6),r.Qb(33,"label",7),r.tc(34,"Lo\u1ea1i Heo"),r.Pb(),r.Pb(),r.Qb(35,"div",6),r.Qb(36,"select",14),r.Qb(37,"option",15),r.tc(38,"T\u1ea5t c\u1ea3"),r.Pb(),r.Qb(39,"option",16),r.tc(40,"L\u1ee3n Gi\u1ed1ng"),r.Pb(),r.Qb(41,"option",17),r.tc(42,"L\u1ee3n Th\u1ecbt"),r.Pb(),r.Pb(),r.Pb(),r.Mb(43,"div",6),r.Pb(),r.Mb(44,"br"),r.Qb(45,"div",5),r.Qb(46,"div",6),r.Qb(47,"p",7),r.tc(48,"C\xf4ng Ty Mua"),r.Pb(),r.Pb(),r.Qb(49,"div",6),r.Qb(50,"select",18),r.Qb(51,"option",15),r.tc(52,"T\u1ea5t C\u1ea3"),r.Pb(),r.rc(53,zI,2,2,"option",19),r.Pb(),r.Pb(),r.Mb(54,"div",20),r.Pb(),r.Mb(55,"br"),r.Qb(56,"div",5),r.Qb(57,"div",6),r.Qb(58,"label",7),r.tc(59,"Lo\u1ea1i bi\u1ec3u \u0111\u1ed3"),r.Pb(),r.Pb(),r.Qb(60,"div",6),r.Qb(61,"select",21),r.Qb(62,"option",22),r.tc(63,"Bi\u1ec3u \u0111\u1ed3 tr\xf2n"),r.Pb(),r.Qb(64,"option",23),r.tc(65,"Bi\u1ec3u \u0111\u1ed3 c\u1ed9t"),r.Pb(),r.Pb(),r.Pb(),r.Mb(66,"div",6),r.Pb(),r.Mb(67,"br"),r.Mb(68,"br"),r.Qb(69,"div",24),r.Qb(70,"div",25),r.Qb(71,"button",26),r.tc(72,"Ph\xe2n T\xedch"),r.Pb(),r.Pb(),r.Pb(),r.Mb(73,"br"),r.Pb(),r.Pb(),r.Qb(74,"div",27),r.Qb(75,"div",28),r.Qb(76,"div",29),r.Qb(77,"div",30),r.Qb(78,"h5",31),r.tc(79,"TH\xd4NG TIN TH\u1ed0NG K\xca"),r.Pb(),r.Mb(80,"button",32),r.Pb(),r.Qb(81,"div",33),r.Qb(82,"div",5),r.Qb(83,"div",34),r.Mb(84,"canvas",35),r.Pb(),r.Qb(85,"div",36),r.Mb(86,"canvas",37),r.Pb(),r.Qb(87,"div",36),r.Mb(88,"canvas",38),r.Pb(),r.Qb(89,"div",39),r.Qb(90,"h3",40),r.tc(91,"B\u1ea3ng Th\xf4ng Tin Th\u1ed1ng K\xea"),r.Pb(),r.Qb(92,"div",41),r.Qb(93,"table",42),r.Qb(94,"thead"),r.Qb(95,"tr",43),r.Qb(96,"th"),r.tc(97,"Th\u1eddi Gian - C\xf4ng ty"),r.Pb(),r.Qb(98,"th"),r.tc(99,"S\u1ed1 L\u01b0\u1ee3ng Heo ( Con )"),r.Pb(),r.Qb(100,"th"),r.tc(101,"Doanh Thu ( VND )"),r.Pb(),r.Pb(),r.Pb(),r.Qb(102,"tbody"),r.rc(103,qI,7,3,"tr",44),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(104,"div",45),r.Qb(105,"button",46),r.tc(106,"CANCEL"),r.Pb(),r.Qb(107,"button",47),r.tc(108,"EXPORT DATA"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(3),r.gc("formGroup",e.statisticForm),r.Ab(12),r.gc("ngIf",e.statisticForm.get("startDate").invalid&&e.statisticForm.get("startDate").touched),r.Ab(1),r.gc("ngIf",e.statisticForm.get("endDate").invalid&&e.statisticForm.get("endDate").touched),r.Ab(1),r.gc("ngIf",e.statisticForm.invalid&&e.statisticForm.get("endDate").touched),r.Ab(36),r.gc("ngForOf",e.listCompany),r.Ab(18),r.gc("disabled",e.statisticForm.invalid),r.Ab(12),r.gc("hidden",e.hiddenChart),r.Ab(2),r.gc("hidden",e.hiddenPieChart),r.Ab(2),r.gc("hidden",e.hiddenPieChart),r.Ab(16),r.gc("ngForOf",e.listStatistic))},directives:[yo,ls,wo,ns,us,To,ct,Ns,js,Vs,ot],styles:[".header-panel[_ngcontent-%COMP%]{height:80px;width:100%}.header-panel[_ngcontent-%COMP%], .titles[_ngcontent-%COMP%]{background-color:green}.titles[_ngcontent-%COMP%]{height:60px;line-height:60px;color:#fff;text-align:center;margin-bottom:0;border-radius:6px}.bodyAll[_ngcontent-%COMP%]{width:80%;border-radius:10px;background-color:#fff;margin:90px auto;padding:10px}.tableTitle[_ngcontent-%COMP%]{background-color:green;width:100%;margin:0;padding:0}.container[_ngcontent-%COMP%]{position:relative;text-align:center;color:#fff;width:100%}.bottom-left[_ngcontent-%COMP%]{bottom:8px}.bottom-left[_ngcontent-%COMP%], .top-left[_ngcontent-%COMP%]{position:absolute;left:16px}.top-left[_ngcontent-%COMP%]{top:8px}.top-right[_ngcontent-%COMP%]{top:8px}.bottom-right[_ngcontent-%COMP%], .top-right[_ngcontent-%COMP%]{position:absolute;right:16px}.bottom-right[_ngcontent-%COMP%]{bottom:8px}.centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),t})()}];let $I=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fi.forChild(GI)],Fi]}),t})(),WI=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[ft],imports:[[gt,$I,No,Mo]]}),t})();const KI=`${i}`;let YI=(()=>{class t{constructor(t){this.http=t}getAll(t,e){return this.http.get(`${KI}?keySearch=`+e+"&page="+t)}deleteTreatment(t){return null}save(t){return this.http.post(KI+"/api/treatment/v1/create",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ZI(t,e){1&t&&(r.Qb(0,"div"),r.Qb(1,"div",1),r.tc(2,"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"),r.Pb(),r.Pb())}function XI(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td"),r.tc(2),r.Pb(),r.Qb(3,"td"),r.tc(4),r.Pb(),r.Qb(5,"td"),r.tc(6),r.Pb(),r.Qb(7,"td"),r.tc(8),r.Pb(),r.Qb(9,"td"),r.tc(10),r.Pb(),r.Qb(11,"td"),r.tc(12),r.Pb(),r.Qb(13,"td"),r.tc(14),r.Pb(),r.Qb(15,"td"),r.tc(16),r.Pb(),r.Qb(17,"td"),r.Qb(18,"input",35),r.Yb("change",(function(){r.mc(t);const n=e.$implicit;return r.cc(2).getListDelete(n)})),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,n=e.index,i=r.cc(2);r.Ab(2),r.uc(n+1),r.Ab(2),r.uc(t.date),r.Ab(2),r.uc(t.pigstyCode),r.Ab(2),r.uc(t.pigCode),r.Ab(2),r.uc(t.doctor),r.Ab(2),r.uc(t.diseases),r.Ab(2),r.uc(t.medicine),r.Ab(2),r.uc(t.amount),r.Ab(2),r.gc("checked",i.checkbox(t))}}function JI(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"table",28),r.Qb(2,"thead"),r.Qb(3,"tr",29),r.Qb(4,"th",30),r.tc(5,"Stt"),r.Pb(),r.Qb(6,"th",30),r.tc(7,"Ng\xe0y"),r.Pb(),r.Qb(8,"th",30),r.tc(9,"M\xe3 Chu\u1ed3ng"),r.Pb(),r.Qb(10,"th",30),r.tc(11,"M\xe3 l\u1ee3n"),r.Pb(),r.Qb(12,"th",30),r.tc(13,"Ng\u01b0\u1eddi kh\xe1m"),r.Pb(),r.Qb(14,"th",30),r.tc(15,"B\u1ec7nh"),r.Pb(),r.Qb(16,"th",30),r.tc(17,"Thu\u1ed1c"),r.Pb(),r.Qb(18,"th",30),r.tc(19,"S\u1ed1 l\u01b0\u1ee3ng"),r.Pb(),r.Mb(20,"th",30),r.Pb(),r.Pb(),r.Qb(21,"tbody"),r.rc(22,XI,19,9,"tr",31),r.Pb(),r.Pb(),r.Qb(23,"div",32),r.Qb(24,"button",33),r.tc(25,"S\u1eeda"),r.Pb(),r.Qb(26,"button",34),r.tc(27," Xo\xe1 "),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.cc();r.Ab(22),r.gc("ngForOf",t.treatmentList),r.Ab(4),r.gc("disabled",t.checkDelete)}}function tD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",36),r.Qb(1,"a",37),r.Yb("click",(function(){return r.mc(t),r.cc().goPrevious()})),r.tc(2,"Trang tr\u01b0\u1edbc"),r.Pb(),r.Pb()}}function eD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",36),r.Qb(1,"a",38),r.Yb("click",(function(){return r.mc(t),r.cc().goPrevious()})),r.tc(2),r.Pb(),r.Pb()}if(2&t){const t=r.cc();r.Ab(2),r.uc(t.number)}}function nD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",36),r.Qb(1,"a",38),r.Yb("click",(function(){return r.mc(t),r.cc().goNext()})),r.tc(2),r.Pb(),r.Pb()}if(2&t){const t=r.cc();r.Ab(2),r.uc(t.number+2)}}function rD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",36),r.Qb(1,"a",38),r.Yb("click",(function(){return r.mc(t),r.cc().goNext()})),r.tc(2,"Trang k\u1ebf"),r.Pb(),r.Pb()}}function iD(t,e){if(1&t&&(r.Qb(0,"p",39),r.tc(1),r.Mb(2,"br"),r.tc(3),r.Pb()),2&t){const t=e.$implicit;r.Ab(1),r.vc("m\xe3 chu\u1ed3ng: ",t.pigstyCode,""),r.Ab(2),r.vc("M\xe3 l\u1ee3n: ",t.pigCode," ")}}function sD(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),r.Pb())}function oD(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),r.Pb())}function aD(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),r.Pb())}function cD(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),r.Pb())}function uD(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),r.Pb())}function lD(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),r.Pb())}function hD(t,e){1&t&&(r.Qb(0,"p"),r.tc(1,"Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."),r.Pb())}const dD=[{path:"treatment",component:(()=>{class t{constructor(t,e){this.treatmentService=t,this.toastrService=e,this.treatmentList=[],this.deleteList=[],this.checkDelete=!0}ngOnInit(){this.getAll(0)}getAll(t){void 0===this.keySearch&&(this.keySearch=""),console.log("---------"+this.keySearch),this.treatmentService.getAll(t,this.keySearch).subscribe(t=>{var e,n,r;if((null===(e=t)||void 0===e?void 0:e.content.length)<1)return this.toastrService.success("Kh\xf4ng t\xecm th\u1ea5y !!!","Th\xf4ng b\xe1o");this.number=null===(n=t)||void 0===n?void 0:n.number,this.checkNext=!t.last,this.checkPreview=!t.first,this.treatmentList=null===(r=t)||void 0===r?void 0:r.content,console.log(t)},t=>{console.log(t)},()=>{console.log("get all ok")})}delete(){this.getAll(0);for(let t=0;t<this.deleteList.length;t++)console.log("delete",this.deleteList[t]),this.treatmentService.deleteTreatment(this.deleteList[t].id).subscribe(()=>{this.toastrService.success("X\xf3a th\xe0nh c\xf4ng !!!","Th\xf4ng b\xe1o"),this.deleteList.splice(0,this.deleteList.length),this.checkDelete=this.deleteList.length<1,this.getAll(0)},t=>{console.log("error",t)});console.log(this.deleteList)}getListDelete(t){for(let e=0;e<this.deleteList.length;e++)if(this.deleteList[e].id===t.id)return this.deleteList.splice(e,1),console.log(this.deleteList),void(this.checkDelete=this.deleteList.length<1);this.deleteList.push(t),console.log(this.deleteList),this.checkDelete=this.deleteList.length<1}goPrevious(){this.number--,this.getAll(this.number)}goNext(){this.number++,this.getAll(this.number)}checkbox(t){for(let e=0;e<this.deleteList.length;e++)if(this.deleteList[e].id===t.id)return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(YI),r.Lb(wu))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-treatment-list"]],decls:40,vars:9,consts:[[1,"container","mt-3"],[1,"mt-3",2,"text-align","center","font-size","30px"],[1,"row","mt-3"],[1,"col-6","d-grid","gap-2","d-md-flex","mb-2"],["routerLink","/treatment/create",1,"btn","btn-success",2,"width","auto"],["role","search",1,"col-6","mx-auto","me-0","d-grid","gap-2","d-md-flex","justify-content-md-end","mb-2","d-flex"],["role","search",1,"d-flex"],["type","search","placeholder","T\xecm ki\u1ebfm","aria-label","Search",1,"form-control","me-1",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success",3,"click"],[1,"row","mt-3","table-responsive"],[4,"ngIf"],[1,"paging"],[1,"pagination","justify-content-end"],["class","page-item",4,"ngIf"],[1,"page-item","active"],["href","#",1,"page-link"],[1,"sr-only"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["style","color: red",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-success"],["type","button","data-bs-dismiss","modal","id","liveToastBtn",1,"btn","btn-outline-danger",3,"click"],[1,"table","table-striped","table-hover","mt-3","mb-3"],[2,"background-color","#017428"],[1,"text-light"],[4,"ngFor","ngForOf"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-center","mb-2"],[1,"btn","btn-warning","mx-4"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-danger","mx-4",3,"disabled"],["type","checkbox",1,"form-check-input",3,"checked","change"],[1,"page-item"],["tabindex","-1",1,"page-link",3,"click"],[1,"page-link",3,"click"],[2,"color","red"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.tc(2,"Th\xf4ng Tin Kh\xe1m Ch\u1eefa Tr\u1ecb"),r.Pb(),r.Qb(3,"div",2),r.Qb(4,"div",3),r.Qb(5,"a",4),r.tc(6,"Th\xeam m\u1edbi"),r.Pb(),r.Pb(),r.Qb(7,"div",5),r.Qb(8,"div",6),r.Qb(9,"input",7),r.Yb("ngModelChange",(function(t){return e.keySearch=t})),r.Pb(),r.Qb(10,"button",8),r.Yb("click",(function(){return e.getAll(0)})),r.tc(11,"T\xecm"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(12,"div",9),r.rc(13,ZI,3,0,"div",10),r.rc(14,JI,28,2,"div",10),r.Pb(),r.Qb(15,"div",11),r.Qb(16,"ul",12),r.rc(17,tD,3,0,"li",13),r.rc(18,eD,3,1,"li",13),r.Qb(19,"li",14),r.Qb(20,"a",15),r.Qb(21,"span",16),r.tc(22),r.Pb(),r.Pb(),r.Pb(),r.rc(23,nD,3,1,"li",13),r.rc(24,rD,3,0,"li",13),r.Pb(),r.Pb(),r.Pb(),r.Qb(25,"div",17),r.Qb(26,"div",18),r.Qb(27,"div",19),r.Qb(28,"div",20),r.Qb(29,"h5",21),r.tc(30,"C\u1ea3nh b\xe1o"),r.Pb(),r.Mb(31,"button",22),r.Pb(),r.Qb(32,"div",23),r.tc(33," X\xe1c nh\u1eadn xo\xe1 d\u1eef li\u1ec7u c\xf3"),r.rc(34,iD,4,2,"p",24),r.Pb(),r.Qb(35,"div",25),r.Qb(36,"button",26),r.tc(37,"Hu\u1ef7"),r.Pb(),r.Qb(38,"button",27),r.Yb("click",(function(){return e.delete()})),r.tc(39,"Xo\xe1 "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(9),r.gc("ngModel",e.keySearch),r.Ab(4),r.gc("ngIf",e.treatmentList.length<1),r.Ab(1),r.gc("ngIf",e.treatmentList.length>0),r.Ab(3),r.gc("ngIf",e.checkPreview),r.Ab(1),r.gc("ngIf",e.checkPreview),r.Ab(4),r.uc(e.number+1),r.Ab(1),r.gc("ngIf",e.checkNext),r.Ab(1),r.gc("ngIf",e.checkNext),r.Ab(10),r.gc("ngForOf",e.deleteList))},directives:[Ei,ns,us,bo,ct,ot],styles:[""]}),t})()},{path:"treatment/create",component:(()=>{class t{constructor(t,e){this.treatmentService=t,this.router=e,this.creatTreatmentForm=new io({id:new ro("",[gs.required]),pigstyCode:new ro("",[gs.required]),date:new ro("",[gs.required,gs.pattern("^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\\d\\d$")]),doctor:new ro("",[gs.required]),diseases:new ro("",[gs.required]),medicine:new ro("",[gs.required]),amount:new ro("",[gs.required]),pigCode:new ro("",[gs.required]),isDelete:new ro("0")})}ngOnInit(){}submit(){this.treatmentService.save(this.creatTreatmentForm.value).subscribe(()=>{this.router.navigate(["/treatment"])})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(YI),r.Lb(xi))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-create-treatment"]],decls:110,vars:10,consts:[[1,"container-fluid"],[1,"vc_empty_space",2,"height","64px"],[1,"vc_empty_space_inner"],[1,"container"],[1,"row","formRow"],[1,"col-lg-6","formRow_create",3,"formGroup","ngSubmit"],[1,"mb-3","formRow_create_title"],[1,"formRow_create_content"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["type","date","formControlName","date",1,"form-control"],[1,"form-text"],[4,"ngIf"],["formControlName","pigstyCode",1,"form-control"],["selected","","disabled","",3,"value"],["formControlName","pigCode",1,"form-control"],["value","L01"],["value","L02"],["value","L03"],["value","L04"],["value","L05"],["type","text","formControlName","doctor","placeholder","Nh\u1eadp t\xean ng\u01b0\u1eddi kh\xe1m b\u1ec7nh",1,"form-control"],["type","text","formControlName","diseases","placeholder","Nh\u1eadp t\xean b\u1ec7nh","required","",1,"form-control"],[1,"row"],[1,"col-6"],["type","text","formControlName","medicine","placeholder","Nh\u1eadp t\xean thu\u1ed1c","required","",1,"form-control"],["type","number","formControlName","amount","required","",1,"form-control"],["type","number","formControlName","isDelete","hidden","",1,"form-control"],[1,"form-control"],[1,"button"],[1,"btn","btn-outline-danger",2,"margin-right","5%"],[1,"bi","bi-backspace"],["type","submit",1,"btn","btn-outline-success"],[1,"bi","bi-plus-circle"],[1,"btn","btn-outline-warning",2,"margin-left","5%"],[1,"bi","bi-x-octagon"]],template:function(t,e){1&t&&(r.Qb(0,"body"),r.Mb(1,"div",0),r.Qb(2,"div",1),r.Mb(3,"span",2),r.Pb(),r.Qb(4,"div",3),r.Qb(5,"div",4),r.Qb(6,"form",5),r.Yb("ngSubmit",(function(){return e.submit()})),r.Qb(7,"div",6),r.Qb(8,"h5"),r.Qb(9,"b"),r.tc(10,"Nh\u1eadp th\xf4ng tin"),r.Pb(),r.Pb(),r.Pb(),r.Mb(11,"hr"),r.Qb(12,"div",7),r.Qb(13,"div",8),r.Qb(14,"label",9),r.tc(15,"Ng\xe0y "),r.Qb(16,"span",10),r.tc(17,"*"),r.Pb(),r.Pb(),r.Mb(18,"input",11),r.Qb(19,"div",12),r.rc(20,sD,2,0,"p",13),r.Pb(),r.Pb(),r.Qb(21,"div",8),r.Qb(22,"label",9),r.tc(23,"Chu\u1ed3ng "),r.Qb(24,"span",10),r.tc(25,"*"),r.Pb(),r.Pb(),r.Qb(26,"select",14),r.Qb(27,"option",15),r.tc(28,"---Ch\u1ecdn---"),r.Pb(),r.Qb(29,"option"),r.tc(30,"C01"),r.Pb(),r.Qb(31,"option"),r.tc(32,"C02"),r.Pb(),r.Qb(33,"option"),r.tc(34,"C03"),r.Pb(),r.Qb(35,"option"),r.tc(36,"C04"),r.Pb(),r.Qb(37,"option"),r.tc(38,"C05"),r.Pb(),r.Pb(),r.Qb(39,"div",12),r.rc(40,oD,2,0,"p",13),r.Pb(),r.Pb(),r.Qb(41,"div",8),r.Qb(42,"label",9),r.tc(43,"M\xe3 l\u1ee3n "),r.Qb(44,"span",10),r.tc(45,"*"),r.Pb(),r.Pb(),r.Qb(46,"select",16),r.Qb(47,"option",15),r.tc(48,"---Ch\u1ecdn---"),r.Pb(),r.Qb(49,"option",17),r.tc(50,"L01"),r.Pb(),r.Qb(51,"option",18),r.tc(52,"L02"),r.Pb(),r.Qb(53,"option",19),r.tc(54,"L03"),r.Pb(),r.Qb(55,"option",20),r.tc(56,"L04"),r.Pb(),r.Qb(57,"option",21),r.tc(58,"L05"),r.Pb(),r.Pb(),r.Qb(59,"div",12),r.rc(60,aD,2,0,"p",13),r.Pb(),r.Pb(),r.Qb(61,"div",8),r.Qb(62,"label",9),r.tc(63,"Ng\u01b0\u1eddi/ TT kh\xe1m:"),r.Pb(),r.Mb(64,"input",22),r.Qb(65,"div",12),r.rc(66,cD,2,0,"p",13),r.Pb(),r.Pb(),r.Qb(67,"div",8),r.Qb(68,"label",9),r.tc(69,"Lo\u1ea1i b\u1ec7nh "),r.Qb(70,"span",10),r.tc(71,"*"),r.Pb(),r.Pb(),r.Mb(72,"input",23),r.Qb(73,"div",12),r.rc(74,uD,2,0,"p",13),r.Pb(),r.Pb(),r.Qb(75,"div",8),r.Qb(76,"div",24),r.Qb(77,"div",25),r.Qb(78,"label",9),r.tc(79,"Thu\u1ed1c "),r.Qb(80,"span",10),r.tc(81,"*"),r.Pb(),r.Pb(),r.Mb(82,"input",26),r.Qb(83,"div",12),r.rc(84,lD,2,0,"p",13),r.Pb(),r.Pb(),r.Qb(85,"div",25),r.Qb(86,"label",9),r.tc(87,"S\u1ed1 l\u01b0\u1ee3ng "),r.Qb(88,"span",10),r.tc(89,"*"),r.Pb(),r.Pb(),r.Mb(90,"input",27),r.Qb(91,"div",12),r.rc(92,hD,2,0,"p",13),r.Pb(),r.Pb(),r.Mb(93,"input",28),r.Pb(),r.Pb(),r.Qb(94,"div",8),r.Qb(95,"label",9),r.tc(96,"Ghi ch\xfa:"),r.Pb(),r.Mb(97,"textarea",29),r.Pb(),r.Qb(98,"div",30),r.Qb(99,"button",31),r.Mb(100,"i",32),r.tc(101," Xo\xe1 "),r.Pb(),r.Qb(102,"button",33),r.Mb(103,"i",34),r.tc(104," C\u1eadp nh\u1eadt "),r.Pb(),r.Qb(105,"button",35),r.Mb(106,"i",36),r.tc(107," Hu\u1ef7"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(108,"div",1),r.Mb(109,"span",2),r.Pb(),r.Pb()),2&t&&(r.Ab(6),r.gc("formGroup",e.creatTreatmentForm),r.Ab(14),r.gc("ngIf",e.creatTreatmentForm.controls.date.hasError("required")&&e.creatTreatmentForm.controls.date.dirty),r.Ab(7),r.gc("value",null),r.Ab(13),r.gc("ngIf",e.creatTreatmentForm.controls.pigstyCode.hasError("required")&&e.creatTreatmentForm.dirty),r.Ab(7),r.gc("value",null),r.Ab(13),r.gc("ngIf",e.creatTreatmentForm.controls.pigCode.hasError("required")&&e.creatTreatmentForm.dirty),r.Ab(6),r.gc("ngIf",e.creatTreatmentForm.controls.doctor.hasError("required")&&e.creatTreatmentForm.dirty),r.Ab(8),r.gc("ngIf",e.creatTreatmentForm.controls.diseases.hasError("required")&&e.creatTreatmentForm.dirty),r.Ab(10),r.gc("ngIf",e.creatTreatmentForm.controls.medicine.hasError("required")&&e.creatTreatmentForm.dirty),r.Ab(8),r.gc("ngIf",e.creatTreatmentForm.controls.amount.hasError("required")&&e.creatTreatmentForm.dirty))},directives:[yo,ls,wo,ns,us,To,ct,Ns,js,Vs,Ao,xs],styles:[".formRow[_ngcontent-%COMP%]{display:flex;justify-content:center}.formRow_create[_ngcontent-%COMP%]{border-radius:15px;padding:15px;box-shadow:2px 7px 9px 3px rgba(27,25,25,.2);background:#fff;opacity:1%}body[_ngcontent-%COMP%]{margin:0 auto;background-image:url(notification-backgroup-list.1cefba9a16c346007463.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%}.formRow_create_title[_ngcontent-%COMP%]{text-align:center;background-color:#017428;border-radius:7px;color:#fff}hr[_ngcontent-%COMP%]{height:20px;width:90%;height:50px;border:none;border-bottom:2px solid #1f1209;box-shadow:0 20px 20px -20px #242323;margin:-50px auto 10px}.button[_ngcontent-%COMP%]{display:flex;justify-content:center}.form-text[_ngcontent-%COMP%]{color:red}button[_ngcontent-%COMP%]{margin-bottom:2%}label[_ngcontent-%COMP%]{font-weight:700}h5[_ngcontent-%COMP%]{font-size:2vw;padding:1% 0}"]}),t})()}];let fD=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fi.forChild(dD)],Fi]}),t})(),pD=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[gt,fD,No,Mo]]}),t})();new Tu({"Content-Type":"application/json"});const gD=i+"/api/v1/notification";let mD=(()=>{class t{constructor(t){this.http=t}getAllNotifications(t,e){return this.http.get(gD)}deleteNotifications(t){return this.http.post(gD+"/delete",{id:t})}save(t){return this.http.post(gD+"/create",t)}findById(t){return this.http.get(gD+"/"+t)}update(t,e){return this.http.put(gD+"/update/"+t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bD(t,e){if(1&t&&(r.Qb(0,"div",48),r.tc(1),r.Pb()),2&t){const t=r.cc(2);r.gc("ngClass",t.clss),r.Ab(1),r.uc(t.msg)}}function yD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td"),r.tc(2),r.Pb(),r.Qb(3,"td"),r.tc(4),r.Pb(),r.Qb(5,"td"),r.tc(6),r.dc(7,"slice"),r.Pb(),r.Qb(8,"td"),r.Mb(9,"img",49),r.Pb(),r.Qb(10,"td"),r.tc(11),r.dc(12,"date"),r.Pb(),r.Qb(13,"td"),r.Qb(14,"input",50),r.Yb("change",(function(){r.mc(t);const n=e.$implicit;return r.cc(2).checkButton(n.id)})),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,n=e.index,i=r.cc(2);r.Ab(2),r.vc(" ",n+1+5*i.number,""),r.Ab(2),r.uc(t.title),r.Ab(2),r.uc(t.content.length>70?r.fc(7,6,t.content,0,70)+"...":t.content),r.Ab(3),r.hc("src",t.image,r.oc),r.Ab(2),r.uc(r.ec(12,10,t.submittedDate,"dd/MM/yyyy")),r.Ab(3),r.gc("name",""+t.id)}}function vD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",51),r.Qb(1,"a",52),r.Yb("click",(function(){return r.mc(t),r.cc(2).goPrevious()})),r.tc(2,"Trang tr\u01b0\u1edbc"),r.Pb(),r.Pb()}}function _D(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",51),r.Qb(1,"a",53),r.Yb("click",(function(){return r.mc(t),r.cc(2).goPrevious()})),r.tc(2),r.Pb(),r.Pb()}if(2&t){const t=r.cc(2);r.Ab(2),r.uc(t.number)}}function wD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",51),r.Qb(1,"a",53),r.Yb("click",(function(){return r.mc(t),r.cc(2).goNext()})),r.tc(2),r.Pb(),r.Pb()}if(2&t){const t=r.cc(2);r.Ab(2),r.uc(t.number+2)}}function xD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",51),r.Qb(1,"a",53),r.Yb("click",(function(){return r.mc(t),r.cc(2).goNext()})),r.tc(2,"Trang sau"),r.Pb(),r.Pb()}}const PD=function(t){return["/notification/edit/",t]};function ED(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",18),r.Qb(1,"div",19),r.tc(2,"\u0110\u0102NG TH\xd4NG B\xc1O"),r.Pb(),r.Qb(3,"form",20),r.Qb(4,"div",21),r.Qb(5,"div",22),r.Qb(6,"div"),r.Qb(7,"input",23),r.Yb("keyup",(function(){return r.mc(t),r.cc().search()})),r.Pb(),r.Pb(),r.Qb(8,"div",24),r.bc(),r.Qb(9,"svg",25),r.Mb(10,"path",26),r.Pb(),r.Pb(),r.Pb(),r.ac(),r.Qb(11,"div"),r.Qb(12,"button",27),r.tc(13,"T\xecm Ki\u1ebfm"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(14,"form",28,29),r.Yb("ngSubmit",(function(){r.mc(t);const e=r.lc(15);return r.cc().checkDelete(e.value)})),r.rc(16,bD,2,2,"div",30),r.Qb(17,"table",31),r.Qb(18,"thead"),r.Qb(19,"tr",32),r.Qb(20,"th",33),r.tc(21,"STT"),r.Pb(),r.Qb(22,"th",34),r.tc(23,"Ti\xeau \u0111\u1ec1"),r.Pb(),r.Qb(24,"th",35),r.tc(25,"N\u1ed9i dung th\xf4ng b\xe1o"),r.Pb(),r.Qb(26,"th",36),r.tc(27,"H\xecnh \u1ea3nh"),r.Pb(),r.Qb(28,"th",36),r.tc(29,"Ng\xe0y \u0111\u0103ng th\xf4ng b\xe1o"),r.Pb(),r.Mb(30,"th"),r.Pb(),r.Pb(),r.Mb(31,"tbody"),r.Qb(32,"tbody"),r.rc(33,yD,15,13,"tr",11),r.Pb(),r.Pb(),r.Qb(34,"div",37),r.Qb(35,"button",38),r.tc(36,"Th\xeam m\u1edbi "),r.Pb(),r.Qb(37,"button",39),r.tc(38,"Ch\u1ec9nh s\u1eeda "),r.Pb(),r.Qb(39,"button",40),r.tc(40,"Xo\xe1 "),r.Pb(),r.Pb(),r.Pb(),r.Qb(41,"nav",41),r.Qb(42,"ul",42),r.rc(43,vD,3,0,"li",43),r.rc(44,_D,3,1,"li",44),r.Qb(45,"li",45),r.Qb(46,"a",46),r.Qb(47,"span",47),r.tc(48),r.Pb(),r.Pb(),r.Pb(),r.rc(49,wD,3,1,"li",44),r.rc(50,xD,3,0,"li",44),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.cc();r.Ab(3),r.gc("formGroup",t.searchForm),r.Ab(4),r.gc("ngModel",t.title),r.Ab(9),r.gc("ngIf",t.msg),r.Ab(17),r.gc("ngForOf",t.notifications),r.Ab(4),r.gc("routerLink",r.jc(12,PD,t.editId))("disabled",1!=t.check.length),r.Ab(2),r.gc("disabled",t.check.length<1),r.Ab(4),r.gc("ngIf",t.checkPrevious),r.Ab(1),r.gc("ngIf",t.checkPrevious),r.Ab(4),r.uc(t.number+1),r.Ab(1),r.gc("ngIf",t.checkNext),r.Ab(1),r.gc("ngIf",t.checkNext)}}function CD(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.tc(2),r.dc(3,"slice"),r.Pb(),r.Pb()),2&t){const t=e.$implicit,n=e.index;r.Ab(2),r.wc("",n+1,". ",r.fc(3,2,t,0,20),"....")}}function SD(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",0),r.Qb(1,"div",54),r.Qb(2,"div",19),r.tc(3,"\u0110\u0102NG TH\xd4NG B\xc1O"),r.Pb(),r.Qb(4,"form",20),r.Qb(5,"div",55),r.Qb(6,"input",56),r.Yb("keyup",(function(){return r.mc(t),r.cc().search()})),r.Pb(),r.Pb(),r.Pb(),r.Qb(7,"div",57),r.Qb(8,"h1"),r.tc(9,"Kh\xf4ng c\xf3 th\xf4ng b\xe1o !!!"),r.Pb(),r.Qb(10,"button",58),r.tc(11,"Th\xeam m\u1edbi"),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.cc();r.Ab(4),r.gc("formGroup",t.searchForm),r.Ab(2),r.gc("ngModel",t.content)}}let OD=(()=>{class t{constructor(t,e,n){this.notificationService=t,this.router=e,this.toast=n,this.content="",this.notifications=[],this.nameDelete=[],this.ids=[],this.check=[],this.searchForm=new io({content:new ro("")})}ngOnInit(){this.getNotifications(0,"")}getNotifications(t,e){this.notificationService.getAllNotifications(t,e).subscribe(t=>{var e,n;this.number=null===(e=t)||void 0===e?void 0:e.number,this.notifications=null===(n=t)||void 0===n?void 0:n.content,this.msg="",this.checkNext=!t.last,this.checkPrevious=!t.first},t=>{console.log(t)})}deleteId(){this.check=[],this.ids.length>0?this.notificationService.deleteNotifications(this.ids).subscribe(t=>{this.getNotifications(0,""),this.toast.error("X\xf3a th\xe0nh c\xf4ng !!!","Th\xf4ng b\xe1o"),this.ids=[]},t=>{this.clss="rd",this.msg="C\xf3 s\u1ef1 c\u1ed1 khi x\xf3a th\xf4ng b\xe1o"}):(this.clss="rd",this.msg="B\u1ea1n ph\u1ea3i ch\u1ecdn th\xf4ng b\xe1o m\u1edbi th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c ch\u1ee9c n\u0103ng n\xe0y",this.toast.error("B\u1ea1n ph\u1ea3i ch\u1ecdn m\u1ee5c \u0111\u1ec3 x\xf3a !!!","Th\xf4ng b\xe1o")),this.nameDelete=[]}checkDelete(t){this.ids=[],this.msg="",this.nameDelete=[],this.notifications.forEach(e=>{!0===t[e.id]&&(this.ids.push(e.id),this.nameDelete.push(e.title))}),this.notificationService.getAllNotifications(0,"").subscribe(()=>{})}checkButton(t){if(console.log("vlaue"+t),this.msg="",this.check.includes(t)){this.check.filter(e=>e!==t);for(let e=0;e<this.check.length;e++)this.check[e]===t&&this.check.splice(e,1)}else this.check.push(t);this.editId=this.check.length>1?null:this.check[0]}resetDelete(){this.nameDelete=[],this.ids=[]}goPrevious(){this.number--,this.getNotifications(this.number,this.content),this.check=[]}goNext(){this.number++,this.getNotifications(this.number,this.content),this.check=[]}search(){this.content=this.searchForm.value.content,this.getNotifications(0,this.content)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(mD),r.Lb(xi),r.Lb(wu))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-notification-list"]],decls:24,vars:3,consts:[[1,"body"],[1,"vc_empty_space",2,"height","64px"],[1,"vc_empty_space_inner"],["class","container mt-5 pb-2",4,"ngIf","ngIfElse"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[2,"text-align","center","display","flex","justify-content","center","height","250px"],["elseBlock",""],[1,"vc_empty_space",2,"height","128px"],[1,"container","mt-5","pb-2"],[1,"mt-3",2,"text-align","center","font-size","30px"],["novalidate","",3,"formGroup"],[1,"col-3","position-relative","mx-auto","me-3",2,"display","flex"],[2,"display","flex","border","1px solid","justify-content","space-evenly","width","65%","border-radius","8px","margin-right","4%"],["type","text","placeholder","T\xecm Ki\u1ebfm","formControlName","content","id","content",1,"form-control",2,"border","0",3,"ngModel","keyup"],[2,"margin-right","3%"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-search",2,"width","20px","height","20px","margin","8px auto"],["d","M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"],[1,"btn","btn-outline-success"],[3,"ngSubmit"],["deleteForm","ngForm"],["style","color: red",3,"ngClass",4,"ngIf"],[1,"table","table-striped","table-hover","mt-3","mb-3"],[2,"background-color","#017428"],["width","10%",1,"text-light"],["width","20%",1,"text-light"],["width","40%",1,"text-light"],["width","15%",1,"text-light"],[2,"text-align","center","display","flex","justify-content","center"],["routerLink","/notification/create","type","button",1,"col-3","btn","btn-outline-primary",2,"width","auto","margin-right","5%"],["type","button",1,"col-3","btn","btn-outline-warning",2,"width","auto","margin-right","5%",3,"routerLink","disabled"],["data-bs-toggle","modal","data-bs-target","#exampleModal","type","submit",1,"col-3","btn","btn-outline-danger",2,"width","auto",3,"disabled"],["aria-label","..."],[1,"pagination"],["class","page-item ",4,"ngIf"],["class","page-item",4,"ngIf"],[1,"page-item","active"],[1,"page-link"],[1,"sr-only"],[2,"color","red",3,"ngClass"],["height","30px",3,"src"],["type","checkbox","ngModel","",3,"name","change"],[1,"page-item"],["tabindex","-1",1,"page-link",3,"click"],[1,"page-link",3,"click"],[1,"container","mt-5","pb-2",2,"text-align","center"],[1,"col-3","position-relative","mx-auto","me-4"],["type","search","placeholder","T\xecm ki\u1ebfm","formControlName","content",1,"input-search","form-control",2,"width","250px",3,"ngModel","keyup"],[1,"col-12",2,"color","red"],["routerLink","/notification/create",1,"col-3","btn","btn-outline-primary",2,"width","auto","margin-right","5%"]],template:function(t,e){if(1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Mb(2,"span",2),r.Pb(),r.rc(3,ED,51,14,"div",3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Qb(6,"div",6),r.Qb(7,"div",7),r.Qb(8,"h5",8),r.tc(9,"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a c\xe1c m\u1ee5c sau"),r.Pb(),r.Mb(10,"button",9),r.Pb(),r.Qb(11,"div",10),r.Qb(12,"table"),r.rc(13,CD,4,6,"tr",11),r.Pb(),r.Pb(),r.Qb(14,"div",12),r.Qb(15,"button",13),r.Yb("click",(function(){return e.resetDelete()})),r.tc(16,"H\u1ee7y"),r.Pb(),r.Qb(17,"button",14),r.Yb("click",(function(){return e.deleteId()})),r.tc(18,"X\xf3a"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(19,"div",15),r.rc(20,SD,12,2,"ng-template",null,16,r.sc),r.Pb(),r.Qb(22,"div",17),r.Mb(23,"span",2),r.Pb(),r.Pb()),2&t){const t=r.lc(21);r.Ab(3),r.gc("ngIf",e.notifications&&e.notifications.length>0)("ngIfElse",t),r.Ab(10),r.gc("ngForOf",e.nameDelete)}},directives:[ct,ot,yo,ls,wo,ns,us,To,co,Pi,it,Ji,bo],pipes:[pt,ft],styles:[".body[_ngcontent-%COMP%]{margin:0 auto;background-image:url(notification-backgroup-list.1cefba9a16c346007463.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:20px;opacity:1%}"]}),t})();class TD{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new kD(t,this.dueTime,this.scheduler))}}class kD extends be.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(AD,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function AD(t){t.debouncedNext()}var ID=function(t){function e(n,r){var i=t.call(this,DD(n),"Firebase Storage: "+r)||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(lh.c)(e,t),e.prototype.codeEquals=function(t){return DD(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(fh.c);function DD(t){return"storage/"+t}function MD(){return new ID("unknown","An unknown error occurred, please check the error payload for server response.")}function ND(){return new ID("canceled","User canceled the upload/download.")}function jD(){return new ID("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function RD(){return new ID("app-deleted","The Firebase app was deleted.")}function LD(t,e){return new ID("invalid-format","String does not match format '"+t+"': "+e)}function FD(t){throw new ID("internal-error","Internal error: "+t)}var VD={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},UD=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function QD(t,e){switch(t){case VD.RAW:return new UD(BD(e));case VD.BASE64:case VD.BASE64URL:return new UD(HD(t,e));case VD.DATA_URL:return new UD((n=new zD(e)).base64?HD(VD.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw LD(VD.DATA_URL,"Malformed data URL.")}return BD(e)}(n.rest),function(t){return new zD(t).contentType}(e))}var n;throw MD()}function BD(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function HD(t,e){switch(t){case VD.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw LD(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case VD.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw LD(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(u){throw LD(t,"Invalid character found")}for(var a=new Uint8Array(o.length),c=0;c<o.length;c++)a[c]=o.charCodeAt(c);return a}var zD=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw LD(VD.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),qD={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function GD(t){switch(t){case"running":case"pausing":case"canceling":return qD.RUNNING;case"paused":return qD.PAUSED;case"success":return qD.SUCCESS;case"canceled":return qD.CANCELED;case"error":default:return qD.ERROR}}function $D(t){return null!=t}function WD(t){return"string"==typeof t||t instanceof String}function KD(t){return YD()&&t instanceof Blob}function YD(){return"undefined"!=typeof Blob}function ZD(t,e,n,r){if(r<e)throw new ID("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new ID("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}var XD=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),JD=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=XD.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=XD.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=XD.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw FD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),$D(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return $D(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw FD("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw FD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw FD("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){$D(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){$D(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),tM=function(){function t(){}return t.prototype.createXhrIo=function(){return new JD},t}();function eM(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function nM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=eM();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(YD())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var rM=function(){function t(t,e){var n=0,r="";KD(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(KD(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(YD()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(nM.apply(null,r))}var i=e.map((function(t){return WD(t)?QD(VD.RAW,t).data:t.data_})),s=0;i.forEach((function(t){s+=t.byteLength}));var o=new Uint8Array(s),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]})),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),iM=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new ID("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var s="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<o.length;a++){var c=o[a],u=c.regex.exec(e);if(u){var l=u[c.indices.path];l||(l=""),n=new t(u[c.indices.bucket],l),c.postModify(n);break}}if(null==n)throw function(t){return new ID("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function sM(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function oM(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function aM(t){return"https://firebasestorage.googleapis.com/v0"+t}function cM(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function uM(t,e){return e}var lM=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||uM}}(),hM=null;function dM(t,e,n){var r=sM(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new iM(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function fM(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var pM=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function gM(t){if(!t)throw MD()}function mM(t,e){return function(n,r){var i=dM(t,r,e);return gM(null!==i),i}}function bM(t){return function(e,n){var r;return(r=401===e.getStatus()?new ID("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new ID("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new ID("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function yM(t){var e=bM(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new ID("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function vM(t,e,n){var r=aM(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new pM(r,"GET",mM(t,n),i);return s.errorHandler=yM(e),s}function _M(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var wM=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function xM(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){gM(!1)}return gM(!!n&&-1!==(e||["active"]).indexOf(n)),n}var PM=function(){return function(t,e,n){if("function"==typeof t||$D(e)||$D(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),EM=function(){return function(t,e,n,r,i,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=s}}();function CM(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var SM,OM,TM=function(){function t(t,e,n,r,i,s){var o=this;void 0===s&&(s=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=s,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){o.request_=null,o.chunkMultiplier_=1,t.codeEquals("canceled")?(o.needToFetchStatus_=!0,o.completeTransitions_()):(o.error_=t,o.transition_("error"))},this.metadataErrorHandler_=function(t){o.request_=null,t.codeEquals("canceled")?o.completeTransitions_():(o.error_=t,o.transition_("error"))},this.promise_=new Promise((function(t,e){o.resolve_=t,o.reject_=e,o.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=_M(e,r,i),a={name:o.fullPath},c=aM(s),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=fM(o,n),h=new pM(c,"POST",(function(t){var e;xM(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){gM(!1)}return gM(WD(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=bM(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=new pM(n,"POST",(function(t){var e=xM(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){gM(!1)}n||gM(!1);var i=Number(n);return gM(!isNaN(i)),new wM(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=bM(e),i}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new wM(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var c=new wM(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new ID("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},f=r.slice(h,h+l);if(null===f)throw jD();var p=new pM(n,"POST",(function(t,n){var i,o=xM(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===o?mM(e,s)(t,n):null,new wM(a,u,"final"===o,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=bM(t),p}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_("error")}var o=t.service_.makeRequest(s,i);t.request_=o,o.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=vM(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var c=_M(e,r,i),u=fM(c,n),l=rM.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw jD();var h={name:c.fullPath},d=aM(s),f=t.maxUploadRetryTime,p=new pM(d,"POST",mM(t,n),f);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=bM(e),p}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=ND(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=GD(this.state_);return new EM(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new PM(e,n,r);return this.addObserver_(s),function(){i.removeObserver_(s)}},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(GD(this.state_)){case qD.SUCCESS:CM(this.resolve_.bind(null,this.snapshot))();break;case qD.CANCELED:case qD.ERROR:CM(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(GD(this.state_)){case qD.RUNNING:case qD.PAUSED:t.next&&CM(t.next.bind(t,this.snapshot))();break;case qD.SUCCESS:t.complete&&CM(t.complete.bind(t))();break;case qD.CANCELED:case qD.ERROR:t.error&&CM(t.error.bind(t,this.error_))();break;default:t.error&&CM(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),kM=function(){function t(t,e){this.service=t,this.location=e instanceof iM?e:iM.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(hM)return hM;var t=[];t.push(new lM("bucket")),t.push(new lM("generation")),t.push(new lM("metageneration")),t.push(new lM("name","fullPath",!0));var e=new lM("name");e.xform=function(t,e){return function(t){return!WD(t)||t.length<2?t:oM(t)}(e)},t.push(e);var n=new lM("size");return n.xform=function(t,e){return $D(e)?Number(e):e},t.push(n),t.push(new lM("timeCreated")),t.push(new lM("updated")),t.push(new lM("md5Hash",null,!0)),t.push(new lM("cacheControl",null,!0)),t.push(new lM("contentDisposition",null,!0)),t.push(new lM("contentEncoding",null,!0)),t.push(new lM("contentLanguage",null,!0)),t.push(new lM("contentType",null,!0)),t.push(new lM("metadata","customMetadata",!0)),hM=t}()},t.prototype.child=function(t){var e=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new iM(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new iM(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new iM(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return oM(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),this.throwIfRoot_("put"),new TM(this,this.service,this.location,this.mappings(),new rM(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=VD.RAW),this.throwIfRoot_("putString");var r=QD(e,t),i=Object.assign({},n);return!$D(i.contentType)&&$D(r.contentType)&&(i.contentType=r.contentType),new TM(this,this.service,this.location,this.mappings(),new rM(r.data,!0),i)},t.prototype.delete=function(){var t=this;return this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=function(t,e){var n=aM(e.fullServerUrl()),r=new pM(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=yM(e),r}(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(lh.b)(this,void 0,void 0,(function(){var n,r,i;return Object(lh.d)(this,(function(s){switch(s.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=s.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){var e=this,n=t||{};return"number"==typeof n.maxResults&&ZD("options.maxResults",1,1e3,n.maxResults),this.service.getAuthToken().then((function(t){var r=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=aM(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,c=new pM(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=sM(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t.makeStorageReference(new iM(e,o));r.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t.makeStorageReference(new iM(e,u[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return gM(null!==i),i}}(t,e.bucket),a);return c.urlParams=s,c.errorHandler=bM(e),c}(e.service,e.location,"/",n.pageToken,n.maxResults);return e.service.makeRequest(r,t).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=vM(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=function(t,e,n,r){var i=aM(e.fullServerUrl()),s=fM(n,r),o=t.maxOperationRetryTime,a=new pM(i,"PATCH",mM(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=yM(e),a}(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=function(t,e,n){var r=aM(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new pM(r,"GET",function(t,e){return function(n,r){var i=dM(t,r,e);return gM(null!==i),function(t,e){var n=sM(e);if(null===n)return null;if(!WD(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return aM("/b/"+i(t.bucket)+"/o/"+i(n))+cM({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return s.errorHandler=yM(e),s}(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new ID("no-download-url","The given file does not have any download URLs.");return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new ID("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),AM=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),IM=function(){function t(t,e,n,r,i,s,o,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(c){s(c)}else null!==o?((r=MD()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?RD():ND():new ID("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new DM(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){s=setTimeout((function(){s=null,function(e,n){if(n)e(!1,new DM(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===XD.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new DM(o,n))}else{var a=n.getErrorCode()===XD.ABORT;e(!1,new DM(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(lh.g)([null,t],e));else{var r,s=c()||o;s?l.call.apply(l,Object(lh.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout((function(){o=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),DM=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}(),MM=function(){function t(e,n,r,i){var s;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?iM.makeFromBucketSpec(i):t.extractBucket_(null===(s=this.app_)||void 0===s?void 0:s.options),this.internals_=new NM(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:iM.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(lh.b)(this,void 0,void 0,(function(){var t,e;return Object(lh.d)(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new kM(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new AM(RD());var r=function(t,e,n,r){var i=cM(t.urlParams),s=t.url+i,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==hh.a?hh.a.SDK_VERSION:"AppManager")}(o),new IM(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){if(/^[A-Za-z]+:\/\//.test(t))throw new ID("invalid-argument","Expected child path but got a URL, use refFromURL instead.");if(null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new kM(this,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw new ID("invalid-argument","Expected full URL but got a child path, use ref instead.");try{iM.makeFromUrl(t)}catch(e){throw new ID("invalid-argument","Expected valid full URL but got an invalid one.")}return new kM(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){ZD("time",0,Number.POSITIVE_INFINITY,t),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){ZD("time",0,Number.POSITIVE_INFINITY,t),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),NM=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function jM(t){const e=function(t){return new ne.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=nh.a){return n=>n.lift(new TD(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(pe.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function RM(t,e,n){return{getDownloadURL:()=>Object(Zt.a)(void 0).pipe(Object(ch.b)(e.outsideAngular),qe(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Zt.a)(void 0).pipe(Object(ch.b)(e.outsideAngular),qe(()=>t.getMetadata()),n),delete:()=>Object(Xt.a)(t.delete()),child:r=>RM(t.child(r),e,n),updateMetadata:e=>Object(Xt.a)(t.updateMetadata(e)),put:(e,n)=>jM(t.put(e,n)),putString:(e,n,r)=>jM(t.putString(e,n,r)),listAll:()=>Object(Xt.a)(t.listAll())}}OM={TaskState:qD,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:VD,Storage:MM,Reference:kM},(SM=hh.a).INTERNAL.registerComponent(new dg.a("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new MM(n,r,new tM,e)}),"PUBLIC").setServiceProps(OM).setMultipleInstances(!0)),SM.registerVersion("@firebase/storage","0.4.1");const LM=new r.q("angularfire2.storageBucket"),FM=new r.q("angularfire2.storage.maxUploadRetryTime"),VM=new r.q("angularfire2.storage.maxOperationRetryTime");let UM=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new eh.d(i),this.keepUnstableUntilFirst=Object(eh.h)(this.schedulers);const a=Object(eh.g)(t,i,e);this.storage=Object(eh.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return RM(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return RM(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return RM(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(eh.c),r.Ub(eh.b,8),r.Ub(LM,8),r.Ub(r.B),r.Ub(r.z),r.Ub(FM,8),r.Ub(VM,8))},t.\u0275prov=r.Hb({factory:function(){return new t(r.Ub(eh.c),r.Ub(eh.b,8),r.Ub(LM,8),r.Ub(r.B),r.Ub(r.z),r.Ub(FM,8),r.Ub(VM,8))},token:t,providedIn:"any"}),t})();function QM(t,e){1&t&&(r.Qb(0,"p",22),r.tc(1,"\u1ea2nh kh\xf4ng \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function BM(t,e){1&t&&(r.Qb(0,"p",22),r.tc(1,"Ti\xeau \u0111\u1ec1 kh\xf4ng \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function HM(t,e){1&t&&(r.Qb(0,"p",22),r.tc(1,"N\u1ed9i dung kh\xf4ng \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function zM(t,e){1&t&&(r.Qb(0,"p",22),r.tc(1,"N\u1ed9i dung kh\xf4ng nh\u1eadp qu\xe1 1000 k\xed t\u1ef1"),r.Pb())}function qM(t,e){if(1&t&&r.Mb(0,"img",25),2&t){const t=r.cc();r.gc("src",t.notificationForm.get("image").value,r.oc)}}function GM(t,e){if(1&t&&r.Mb(0,"img",26),2&t){const t=r.cc();r.gc("src",t.url,r.oc)}}function $M(t,e){1&t&&(r.Qb(0,"p",27),r.tc(1,"\u1ea2nh kh\xf4ng \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function WM(t,e){1&t&&(r.Qb(0,"p",27),r.tc(1,"Ti\xeau \u0111\u1ec1 kh\xf4ng \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function KM(t,e){1&t&&(r.Qb(0,"p",27),r.tc(1,"N\u1ed9i dung kh\xf4ng \u0111\u1ec3 tr\u1ed1ng"),r.Pb())}function YM(t,e){1&t&&(r.Qb(0,"p",27),r.tc(1,"N\u1ed9i dung kh\xf4ng nh\u1eadp qu\xe1 1000 k\xed t\u1ef1"),r.Pb())}const ZM=[{path:"notification",component:OD},{path:"notification/create",component:(()=>{class t{constructor(t,e,n,r){this.notificationService=t,this.router=e,this.storage=n,this.toast=r,this.selectedImage=null,this.notificationForm=new io({image:new ro("",[gs.required]),title:new ro("",[gs.required]),content:new ro("",[gs.required,gs.maxLength(1e3)]),dateSubmitted:new ro(Date())})}ngOnInit(){}submit(){console.log(this.notificationForm);const t=this.getCurrentDateTime()+this.selectedImage.name,e=this.storage.ref(`news/${t}`);this.storage.upload(`news/${t}`,this.selectedImage).snapshotChanges().pipe(rn(()=>{e.getDownloadURL().subscribe(t=>{this.notificationForm.patchValue({image:t}),console.log(t),console.log(this.notificationForm.value),this.notificationService.save(this.notificationForm.value).subscribe(()=>{this.toast.success("Huy\u1ec1n \u0111\xe3 th\xeam m\u1edbi th\xe0nh c\xf4ng","M\u1eeaNG QU\xc1"),this.router.navigateByUrl("/notification")})})})).subscribe()}showImg(t){console.log(t),this.selectedImage=t.target.files[0]}getCurrentDateTime(){return q(new Date,"yyyy-MM-dd hh:mm:ss","en-US")}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(mD),r.Lb(xi),r.Lb(UM),r.Lb(wu))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-notification-create"]],decls:49,vars:5,consts:[["lang","en"],["charset","UTF-8"],[1,"vc_empty_space",2,"height","64px"],[1,"vc_empty_space_inner"],[1,"container"],[1,"row","formRow"],[1,"col-lg-6","formRow_create"],[1,"mb-3","formRow_create_title"],[3,"formGroup","ngSubmit"],[1,"formRow_create_content"],[1,"mb-3"],[1,"form-label"],[1,"form-text"],["type","file",1,"form-control-file",3,"change"],["style","color:red",4,"ngIf"],["type","text","formControlName","title",1,"form-control"],["type","text","formControlName","content","aria-describedby","emailHelp",1,"form-control",2,"height","200px"],[1,"button"],["routerLink","/notification",1,"btn","btn-outline-danger","back"],[1,"bi","bi-backspace"],["type","submit",1,"btn","btn-outline-success"],[1,"bi","bi-plus-circle"],[2,"color","red"]],template:function(t,e){1&t&&(r.Qb(0,"html",0),r.Qb(1,"head"),r.Mb(2,"meta",1),r.Qb(3,"title"),r.tc(4,"\u0110\u0102NG TH\xd4NG B\xc1O"),r.Pb(),r.Pb(),r.Qb(5,"body"),r.Qb(6,"div",2),r.Mb(7,"span",3),r.Pb(),r.Qb(8,"div",4),r.Qb(9,"div",5),r.Qb(10,"form",6),r.Qb(11,"div",7),r.Qb(12,"h4"),r.Qb(13,"b"),r.tc(14,"\u0110\u0102NG TH\xd4NG B\xc1O"),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"form",8),r.Yb("ngSubmit",(function(){return e.submit()})),r.Mb(16,"hr"),r.Qb(17,"div",9),r.Qb(18,"div",10),r.Qb(19,"label",11),r.tc(20,"\u1ea2nh "),r.Pb(),r.Qb(21,"label",12),r.tc(22," * "),r.Pb(),r.Qb(23,"input",13),r.Yb("change",(function(t){return e.showImg(t)})),r.Pb(),r.Pb(),r.rc(24,QM,2,0,"p",14),r.Qb(25,"div",10),r.Qb(26,"label",11),r.tc(27,"Ti\xeau \u0111\u1ec1 "),r.Pb(),r.Qb(28,"label",12),r.tc(29," *"),r.Pb(),r.Mb(30,"input",15),r.Pb(),r.rc(31,BM,2,0,"p",14),r.Qb(32,"div",10),r.Qb(33,"label",11),r.tc(34,"N\u1ed9i dung "),r.Pb(),r.Qb(35,"label",12),r.tc(36," *"),r.Pb(),r.Mb(37,"textarea",16),r.Pb(),r.rc(38,HM,2,0,"p",14),r.rc(39,zM,2,0,"p",14),r.Pb(),r.Qb(40,"div",17),r.Qb(41,"button",18),r.Mb(42,"i",19),r.tc(43," H\u1ee7y b\u1ecf"),r.Pb(),r.Qb(44,"button",20),r.Mb(45,"i",21),r.tc(46," \u0110\u0103ng"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(47,"div",2),r.Mb(48,"span",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(15),r.gc("formGroup",e.notificationForm),r.Ab(9),r.gc("ngIf",e.notificationForm.controls.image.hasError("required")&&e.notificationForm.controls.image.dirty),r.Ab(7),r.gc("ngIf",e.notificationForm.controls.title.hasError("required")&&e.notificationForm.controls.title.dirty),r.Ab(7),r.gc("ngIf",e.notificationForm.controls.content.hasError("required")&&e.notificationForm.controls.content.dirty),r.Ab(1),r.gc("ngIf",e.notificationForm.controls.content.hasError("maxlength")&&e.notificationForm.controls.content.dirty))},directives:[yo,ls,co,wo,ct,ns,us,To,Pi],styles:[".formRow[_ngcontent-%COMP%]{display:flex;justify-content:center}.formRow_create[_ngcontent-%COMP%]{border-radius:15px;padding:15px;box-shadow:2px 7px 9px 3px rgba(27,25,25,.2);background:#fff;opacity:1%}body[_ngcontent-%COMP%]{margin:0 auto;background-image:url(notification-backgroup.4d169b6c78be3affac60.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%;height:750px}hr[_ngcontent-%COMP%]{height:20px;width:90%;height:50px;border:none;border-bottom:2px solid #1f1209;box-shadow:0 20px 20px -20px #242323;margin:-50px auto 10px}.button[_ngcontent-%COMP%]{display:flex;justify-content:center}.back[_ngcontent-%COMP%]{margin-right:5%}.reset[_ngcontent-%COMP%]{margin-left:5%}.map[_ngcontent-%COMP%]{width:400px;height:250px}iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:0}.form-text[_ngcontent-%COMP%]{padding:0 2px;color:red}"]}),t})()},{path:"notification/edit/:id",component:(()=>{class t{constructor(t,e,n,r,i){this.notificationService=t,this.activatedRoute=e,this.router=n,this.storage=r,this.toast=i,this.selectedImage=null,this.regexImageUrl=!1,this.editImageState=!1,this.msg="",this.activatedRoute.paramMap.subscribe(t=>{this.id=+t.get("id"),this.getNotification(this.id)})}ngOnInit(){}getNotification(t){return this.notificationService.findById(t).subscribe(t=>{this.notificationForm=new io({id:new ro(t.id),title:new ro(t.title,[gs.required]),content:new ro(t.content,[gs.required,gs.maxLength(1e3)]),image:new ro(t.image,[gs.required])})})}updateNotification(){const t=this.getCurrentDateTime()+this.selectedImage.name,e=this.storage.ref(`news/${t}`);this.storage.upload(`news/${t}`,this.selectedImage).snapshotChanges().pipe(rn(()=>{e.getDownloadURL().subscribe(t=>{this.notificationForm.patchValue({image:t}),console.log(t),console.log(this.notificationForm.value),this.notificationService.update(this.id,this.notificationForm.value).subscribe(()=>{this.toast.success("Huy\u1ec1n \u0111\xe3 s\u1eeda th\xe0nh c\xf4ng","M\u1eeaNG QU\xc1"),this.router.navigateByUrl("/notification")})})})).subscribe()}getCurrentDateTime(){return q(new Date,"yyyy-MM-dd hh:mm:ss","en-US")}onFileSelected(t){this.regexImageUrl=!1,t.target.files[0].size>9e6||(this.selectedImage=t.target.files[0],t.target.files[0].name.match("^.*\\.(jpg|JPG)$")?this.notificationForm.patchValue({imageUrl:this.selectedImage.name}):this.regexImageUrl=!0)}selectFile(t){if(!t.target.files[0]||0===t.target.files[0].length)return;if(t.target.files[0].size>9e6)return;if(!t.target.files[0].name.match("^.*\\.(jpg|JPG)$"))return;if(this.checkImgSize=!1,this.checkImg=!1,this.editImageState=!0,null==t.target.files[0].type.match(/image\/*/))return void(this.msg="Ch\u1ec9 c\xf3 file \u1ea3nh \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3");const e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=t=>{this.msg="",this.url=e.result}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(mD),r.Lb(pr),r.Lb(xi),r.Lb(UM),r.Lb(wu))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-notification-edit"]],decls:51,vars:7,consts:[["lang","en"],["charset","UTF-8"],[1,"vc_empty_space",2,"height","64px"],[1,"vc_empty_space_inner"],[1,"container"],[1,"row","formRow"],[1,"col-lg-6","formRow_create"],[1,"mb-3","formRow_create_title"],[3,"formGroup","ngSubmit"],[1,"mb-3",2,"text-align","left","margin-bottom","10px"],[1,"form-label"],[1,"form-text"],["type","file","multiple","",1,"form-control-file",3,"change"],[1,"col-md-8",2,"height","200px"],["width","300","height","200",3,"src",4,"ngIf"],["class","preview-img rounded","width","300","height","200",3,"src",4,"ngIf"],["style","color:red",4,"ngIf"],[1,"mb-3"],["type","text","formControlName","title",1,"form-control"],["type","text","formControlName","content","aria-describedby","emailHelp",1,"form-control",2,"height","200px"],[1,"button"],["routerLink","",1,"btn","btn-outline-danger","back"],[1,"bi","bi-backspace"],["type","submit",1,"btn","btn-outline-success"],[1,"bi","bi-plus-circle"],["width","300","height","200",3,"src"],["width","300","height","200",1,"preview-img","rounded",3,"src"],[2,"color","red"]],template:function(t,e){1&t&&(r.Qb(0,"html",0),r.Qb(1,"head"),r.Mb(2,"meta",1),r.Qb(3,"title"),r.tc(4,"CH\u1ec8NH S\u1eecA TH\xd4NG B\xc1O"),r.Pb(),r.Pb(),r.Qb(5,"body"),r.Qb(6,"div",2),r.Mb(7,"span",3),r.Pb(),r.Qb(8,"div",4),r.Qb(9,"div",5),r.Qb(10,"form",6),r.Qb(11,"div",7),r.Qb(12,"h4"),r.Qb(13,"b"),r.tc(14,"CH\u1ec8NH S\u1eecA TH\xd4NG B\xc1O"),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"form",8),r.Yb("ngSubmit",(function(){return e.updateNotification()})),r.Mb(16,"hr"),r.Qb(17,"div",9),r.Qb(18,"label",10),r.tc(19,"\u1ea2nh"),r.Pb(),r.Qb(20,"label",11),r.tc(21," *"),r.Pb(),r.Qb(22,"input",12),r.Yb("change",(function(t){return e.selectFile(t)}))("change",(function(t){return e.onFileSelected(t)})),r.Pb(),r.Pb(),r.Qb(23,"div",13),r.rc(24,qM,1,1,"img",14),r.rc(25,GM,1,1,"img",15),r.Pb(),r.rc(26,$M,2,0,"p",16),r.Qb(27,"div",17),r.Qb(28,"label",10),r.tc(29,"Ti\xeau \u0111\u1ec1 "),r.Pb(),r.Qb(30,"label",11),r.tc(31," *"),r.Pb(),r.Mb(32,"input",18),r.Pb(),r.rc(33,WM,2,0,"p",16),r.Qb(34,"div",17),r.Qb(35,"label",10),r.tc(36,"N\u1ed9i dung"),r.Pb(),r.Qb(37,"label",11),r.tc(38," *"),r.Pb(),r.Mb(39,"textarea",19),r.Pb(),r.rc(40,KM,2,0,"p",16),r.rc(41,YM,2,0,"p",16),r.Qb(42,"div",20),r.Qb(43,"button",21),r.Mb(44,"i",22),r.tc(45," H\u1ee7y b\u1ecf"),r.Pb(),r.Qb(46,"button",23),r.Mb(47,"i",24),r.tc(48," C\u1eadp nh\u1eadt"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(49,"div",2),r.Mb(50,"span",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(15),r.gc("formGroup",e.notificationForm),r.Ab(9),r.gc("ngIf",!e.editImageState),r.Ab(1),r.gc("ngIf",e.editImageState),r.Ab(1),r.gc("ngIf",e.notificationForm.controls.image.hasError("required")&&e.notificationForm.controls.image.dirty),r.Ab(7),r.gc("ngIf",e.notificationForm.controls.title.hasError("required")&&e.notificationForm.controls.title.dirty),r.Ab(7),r.gc("ngIf",e.notificationForm.controls.content.hasError("required")&&e.notificationForm.controls.content.dirty),r.Ab(1),r.gc("ngIf",e.notificationForm.controls.content.hasError("maxlength")&&e.notificationForm.controls.content.dirty))},directives:[yo,ls,co,wo,ct,ns,us,To,Pi],styles:[".formRow[_ngcontent-%COMP%]{display:flex;justify-content:center}.formRow_create[_ngcontent-%COMP%]{border-radius:15px;padding:15px;box-shadow:2px 7px 9px 3px rgba(27,25,25,.2);background:#fff;opacity:1%}body[_ngcontent-%COMP%]{margin:0 auto;background-image:url(notification-backgroup.4d169b6c78be3affac60.jpg);background-repeat:no-repeat;background-attachment:fixed;background-size:100% 100%}hr[_ngcontent-%COMP%]{height:20px;width:90%;height:50px;border:none;border-bottom:2px solid #1f1209;box-shadow:0 20px 20px -20px #242323;margin:-50px auto 10px}.button[_ngcontent-%COMP%]{display:flex;justify-content:center}.back[_ngcontent-%COMP%]{margin-right:5%}.reset[_ngcontent-%COMP%]{margin-left:5%}.map[_ngcontent-%COMP%]{width:400px;height:250px}iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:0}.form-text[_ngcontent-%COMP%]{padding:0 2px;color:red}"]}),t})()}];let XM=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fi.forChild(ZM)],Fi]}),t})(),JM=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[gt,XM,rl,No,Mo]]}),t})();function tN(t,e){return Math.round((e-t)/864e5)}function eN(t){const e=new Date(t.value);return tN(e,new Date)<6570||tN(e,new Date)>36500?{checkAge:!0}:null}function nN(t){return tN(new Date(t.value),new Date)<=0?{checkDay:!0}:null}const rN=`${i}`;let iN=(()=>{class t{constructor(t){this.http=t}saveEmployee(t){return this.http.post(rN+"/employee/create",t)}findById(t){return this.http.get(`${rN}/employee/${t}`)}editEmployee(t,e){return this.http.put(`${rN}/employee/edit/${t}`,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sN=`${i}`;let oN=(()=>{class t{constructor(t){this.http=t}getAll(){return this.http.get(sN+"/user")}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Bu))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function aN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1,"M\xe3 Nh\xe2n Vi\xean KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function cN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1,"M\xe3 Nh\xe2n Vi\xean PH\u1ea2I \u0111\xfang \u0111\u1ecbnh d\u1ea1ng: NV-xxx !! "),r.Pb())}function uN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1,"T\xean Nh\xe2n Vi\xean KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function lN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1,"T\xean Nh\xe2n Vi\xean PH\u1ea2I vi\u1ebft hoa ch\u1eef c\xe1i \u0111\u1ea7u !! "),r.Pb())}function hN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1,"T\xean Nh\xe2n Vi\xean KH\xd4NG qu\xe1 30 k\xed t\u1ef1 !! "),r.Pb())}function dN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1," Username KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function fN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1," M\u1eadt Kh\u1ea9u KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function pN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1," M\u1eadt Kh\u1ea9u PH\u1ea2I c\xf3 \xedt nh\u1ea5t 6 k\xed t\u1ef1 !! "),r.Pb())}function gN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1,"Email KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function mN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1,"Email KH\xd4NG \u0111\xfang \u0111\u1ecbnh d\u1ea1ng !! "),r.Pb())}function bN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1," Ng\xe0y Sinh KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function yN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1," Tu\u1ed5i PH\u1ea2I tr\xean 18 !! "),r.Pb())}function vN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1," Ng\xe0y Sinh KH\xd4NG \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n ng\xe0y Hi\u1ec7n t\u1ea1i !! "),r.Pb())}function _N(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1," S\u1ed1 CMND KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function wN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1,"S\u1ed1 CMND PH\u1ea2I \u0111\xfang \u0111\u1ecbnh d\u1ea1ng: 9 ho\u1eb7c 12 ch\u1eef s\u1ed1 !! "),r.Pb())}function xN(t,e){1&t&&(r.Qb(0,"div",33),r.tc(1,"Gi\u1edbi T\xednh KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function PN(t,e){if(1&t&&r.Mb(0,"img",34),2&t){const t=r.cc();r.gc("src",t.employeeForm.get("image").value,r.oc)}}function EN(t,e){if(1&t&&r.Mb(0,"img",35),2&t){const t=r.cc();r.gc("src",t.url,r.oc)}}function CN(t,e){1&t&&(r.Qb(0,"div",26),r.tc(1,"T\xean Nh\xe2n Vi\xean KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function SN(t,e){1&t&&(r.Qb(0,"div",26),r.tc(1,"T\xean Nh\xe2n Vi\xean PH\u1ea2I vi\u1ebft hoa ch\u1eef c\xe1i \u0111\u1ea7u !! "),r.Pb())}function ON(t,e){1&t&&(r.Qb(0,"div",26),r.tc(1,"T\xean Nh\xe2n Vi\xean KH\xd4NG qu\xe1 30 k\xed t\u1ef1 !! "),r.Pb())}function TN(t,e){1&t&&(r.Qb(0,"div",26),r.tc(1," Ng\xe0y Sinh KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function kN(t,e){1&t&&(r.Qb(0,"div",26),r.tc(1," Tu\u1ed5i PH\u1ea2I tr\xean 18 !! "),r.Pb())}function AN(t,e){1&t&&(r.Qb(0,"div",26),r.tc(1," Ng\xe0y Sinh KH\xd4NG \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n ng\xe0y Hi\u1ec7n t\u1ea1i !! "),r.Pb())}function IN(t,e){1&t&&(r.Qb(0,"div",26),r.tc(1," Gi\u1edbi T\xednh KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function DN(t,e){1&t&&(r.Qb(0,"div",26),r.tc(1,"S\u1ed1 CMND KH\xd4NG \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng !! "),r.Pb())}function MN(t,e){1&t&&(r.Qb(0,"div",26),r.tc(1,"S\u1ed1 CMND PH\u1ea2I \u0111\xfang \u0111\u1ecbnh d\u1ea1ng: 9 ho\u1eb7c 12 ch\u1eef s\u1ed1 !! "),r.Pb())}const NN=[{path:"employee/create",component:(()=>{class t{constructor(t,e,n,r,i){this.employeeService=t,this.userService=e,this.toast=n,this.router=r,this.storage=i,this.selectedImage=null,this.checkImgSize=!1,this.regexImageUrl=!1,this.editImageState=!1,this.msg="",this.users=[]}getUser(){this.userService.getAll().subscribe(t=>{this.users=t})}ngOnInit(){this.getUser(),this.employeeForm=new io({id:new ro(""),code:new ro("",[gs.required,gs.pattern("^(NV-)+([0-9]{3})$")]),name:new ro("",[gs.required,gs.pattern("^[A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8\u0110][a-z\xe0\xe1\u1ea1\u1ea3\xe3\xe2\u1ea7\u1ea5\u1ead\u1ea9\u1eab\u0103\u1eb1\u1eaf\u1eb7\u1eb3\u1eb5\xe8\xe9\u1eb9\u1ebb\u1ebd\xea\u1ec1\u1ebf\u1ec7\u1ec3\u1ec5\xec\xed\u1ecb\u1ec9\u0129\xf2\xf3\u1ecd\u1ecf\xf5\xf4\u1ed3\u1ed1\u1ed9\u1ed5\u1ed7\u01a1\u1edd\u1edb\u1ee3\u1edf\u1ee1\xf9\xfa\u1ee5\u1ee7\u0169\u01b0\u1eeb\u1ee9\u1ef1\u1eed\u1eef\u1ef3\xfd\u1ef5\u1ef7\u1ef9\u0111]*(?:[ ][A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8\u0110][a-z\xe0\xe1\u1ea1\u1ea3\xe3\xe2\u1ea7\u1ea5\u1ead\u1ea9\u1eab\u0103\u1eb1\u1eaf\u1eb7\u1eb3\u1eb5\xe8\xe9\u1eb9\u1ebb\u1ebd\xea\u1ec1\u1ebf\u1ec7\u1ec3\u1ec5\xec\xed\u1ecb\u1ec9\u0129\xf2\xf3\u1ecd\u1ecf\xf5\xf4\u1ed3\u1ed1\u1ed9\u1ed5\u1ed7\u01a1\u1edd\u1edb\u1ee3\u1edf\u1ee1\xf9\xfa\u1ee5\u1ee7\u0169\u01b0\u1eeb\u1ee9\u1ef1\u1eed\u1eef\u1ef3\xfd\u1ef5\u1ef7\u1ef9\u0111]*)*$"),gs.maxLength(30)]),username:new ro("",[gs.required]),password:new ro("",[gs.required,gs.minLength(6)]),email:new ro("",[gs.required,gs.email]),birthDay:new ro("",[gs.required,eN,nN]),gender:new ro("",[gs.required]),idCard:new ro("",[gs.required,gs.pattern("^\\d{9}|\\d{12}$")]),image:new ro("")})}getCurrentDateTime(){return q(new Date,"yyyy-MM-dd hh:mm:ss","en-US")}submitImage(){const t=`employee/${this.getCurrentDateTime()+this.selectedImage.name}`,e=this.storage.ref(t);let n;n={code:this.employeeForm.value.code,name:this.employeeForm.value.name,userDto:{username:this.employeeForm.value.username,password:this.employeeForm.value.password,email:this.employeeForm.value.email},birthDay:this.employeeForm.value.birthDay,gender:this.employeeForm.value.gender,idCard:this.employeeForm.value.idCard,image:this.employeeForm.value.image},console.log(n),this.storage.upload(t,this.selectedImage).snapshotChanges().pipe(rn(()=>{e.getDownloadURL().subscribe(t=>{this.employeeForm.patchValue({image:t}),console.log(t),this.employeeService.saveEmployee(n).subscribe(()=>{this.employeeForm.reset(),this.router.navigateByUrl("/employee/list")})})})).subscribe()}onFileSelected(t){this.regexImageUrl=!1,t.target.files[0].size>9e6||(this.selectedImage=t.target.files[0],t.target.files[0].name.match("^.*\\.(jpg|JPG)$")?this.employeeForm.patchValue({imageUrl:this.selectedImage.name}):this.regexImageUrl=!0)}selectFile(t){if(!t.target.files[0]||0===t.target.files[0].length)return;if(t.target.files[0].size>9e6)return;if(!t.target.files[0].name.match("^.*\\.(jpg|JPG)$"))return;if(this.checkImgSize=!1,this.checkImg=!1,this.editImageState=!0,null==t.target.files[0].type.match(/image\/*/))return void(this.msg="Ch\u1ec9 c\xf3 file \u1ea3nh \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3");const e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=t=>{this.msg="",this.url=e.result}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(iN),r.Lb(oN),r.Lb(wu),r.Lb(xi),r.Lb(UM))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-employee-create"]],decls:106,vars:20,consts:[[1,"container","my-3"],[1,"row","formRow"],[1,"col-lg-3"],[1,"col-lg-6","formRow_create",3,"formGroup"],[1,"mb-3","text-center"],[1,"formRow_create_content","mx-4"],[1,"mb-3"],[1,"row"],[1,"col-lg-4"],[1,"form-label"],["type","text","formControlName","code","placeholder","Nh\u1eadp M\xe3 Nh\xe2n Vi\xean",1,"form-control"],["class","form-text",4,"ngIf"],[1,"col-lg-8"],["type","text","formControlName","name","placeholder","Nh\u1eadp H\u1ecd T\xean Nh\xe2n Vi\xean",1,"form-control"],[1,"col-lg-6"],["type","text","formControlName","username","placeholder","Nh\u1eadp T\xean T\xe0i Kho\u1ea3n",1,"form-control"],["type","password","formControlName","password","placeholder","Nh\u1eadp M\u1eadt Kh\u1ea9u",1,"form-control"],["type","text","formControlName","email","placeholder","Nh\u1eadp Email",1,"form-control"],["type","date","formControlName","birthDay",1,"form-control"],[1,"col-lg-5"],["type","text","formControlName","idCard","placeholder","Nh\u1eadp S\u1ed1 CMND",1,"form-control"],[1,"mt-3"],[1,"form-check","form-check-inline","ms-5"],["type","radio","value","Nam","formControlName","gender",1,"form-check-input"],["type","radio","value","N\u1eef","formControlName","gender",1,"form-check-input"],["type","radio","value","Kh\xe1c","formControlName","gender",1,"form-check-input"],[1,"col-lg-7"],["type","file","multiple","",1,"form-control",3,"change"],["width","100%","height","200",3,"src",4,"ngIf"],["class","form-control","width","100%","height","200",3,"src",4,"ngIf"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-around","mb-3"],["routerLink","/employee/list",1,"btn","btn-danger"],[1,"btn","btn-success",3,"disabled","click"],[1,"form-text"],["width","100%","height","200",3,"src"],["width","100%","height","200",1,"form-control",3,"src"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Mb(2,"div",2),r.Qb(3,"form",3),r.Qb(4,"div",4),r.Qb(5,"h2"),r.Qb(6,"b"),r.tc(7,"Th\xeam M\u1edbi Nh\xe2n Vi\xean"),r.Pb(),r.Pb(),r.Pb(),r.Mb(8,"hr"),r.Qb(9,"div",5),r.Qb(10,"div",6),r.Qb(11,"div",7),r.Qb(12,"div",8),r.Qb(13,"label",9),r.tc(14,"M\xe3 Nh\xe2n Vi\xean "),r.Qb(15,"span"),r.tc(16,"*"),r.Pb(),r.Pb(),r.Mb(17,"input",10),r.rc(18,aN,2,0,"div",11),r.rc(19,cN,2,0,"div",11),r.Pb(),r.Qb(20,"div",12),r.Qb(21,"label",9),r.tc(22,"H\u1ecd V\xe0 T\xean "),r.Qb(23,"span"),r.tc(24,"*"),r.Pb(),r.Pb(),r.Mb(25,"input",13),r.rc(26,uN,2,0,"div",11),r.rc(27,lN,2,0,"div",11),r.rc(28,hN,2,0,"div",11),r.Pb(),r.Pb(),r.Pb(),r.Qb(29,"div",6),r.Qb(30,"div",7),r.Qb(31,"div",14),r.Qb(32,"label",9),r.tc(33,"T\xean T\xe0i Kho\u1ea3n "),r.Qb(34,"span"),r.tc(35,"*"),r.Pb(),r.Pb(),r.Mb(36,"input",15),r.rc(37,dN,2,0,"div",11),r.Pb(),r.Qb(38,"div",14),r.Qb(39,"label",9),r.tc(40,"M\u1eadt Kh\u1ea9u "),r.Qb(41,"span"),r.tc(42,"*"),r.Pb(),r.Pb(),r.Mb(43,"input",16),r.rc(44,fN,2,0,"div",11),r.rc(45,pN,2,0,"div",11),r.Pb(),r.Pb(),r.Pb(),r.Qb(46,"div",6),r.Qb(47,"div",7),r.Qb(48,"div",12),r.Qb(49,"label",9),r.tc(50,"Email "),r.Qb(51,"span"),r.tc(52,"*"),r.Pb(),r.Pb(),r.Mb(53,"input",17),r.rc(54,gN,2,0,"div",11),r.rc(55,mN,2,0,"div",11),r.Pb(),r.Qb(56,"div",8),r.Qb(57,"label",9),r.tc(58,"Ng\xe0y Sinh "),r.Qb(59,"span"),r.tc(60,"*"),r.Pb(),r.Pb(),r.Mb(61,"input",18),r.rc(62,bN,2,0,"div",11),r.rc(63,yN,2,0,"div",11),r.rc(64,vN,2,0,"div",11),r.Pb(),r.Pb(),r.Pb(),r.Qb(65,"div",6),r.Qb(66,"div",7),r.Qb(67,"div",19),r.Qb(68,"div"),r.Qb(69,"label",9),r.tc(70,"S\u1ed1 CMND "),r.Qb(71,"span"),r.tc(72,"*"),r.Pb(),r.Pb(),r.Mb(73,"input",20),r.rc(74,_N,2,0,"div",11),r.rc(75,wN,2,0,"div",11),r.Pb(),r.Qb(76,"div",21),r.Qb(77,"label",9),r.tc(78,"Gi\u1edbi T\xednh "),r.Qb(79,"span"),r.tc(80,"*"),r.Pb(),r.Pb(),r.Mb(81,"br"),r.Qb(82,"div",22),r.Mb(83,"input",23),r.tc(84," Nam "),r.Pb(),r.Qb(85,"div",22),r.Mb(86,"input",24),r.tc(87," N\u1eef "),r.Pb(),r.Qb(88,"div",22),r.Mb(89,"input",25),r.tc(90," Kh\xe1c "),r.Pb(),r.rc(91,xN,2,0,"div",11),r.Pb(),r.Pb(),r.Qb(92,"div",26),r.Qb(93,"label",9),r.tc(94,"Ch\u1ecdn \u1ea2nh "),r.Qb(95,"span"),r.tc(96,"*"),r.Pb(),r.Pb(),r.Qb(97,"input",27),r.Yb("change",(function(t){return e.selectFile(t),e.onFileSelected(t)})),r.Pb(),r.rc(98,PN,1,1,"img",28),r.rc(99,EN,1,1,"img",29),r.Pb(),r.Pb(),r.Pb(),r.Qb(100,"div",30),r.Qb(101,"a",31),r.tc(102," Quay L\u1ea1i "),r.Pb(),r.Qb(103,"button",32),r.Yb("click",(function(){return e.submitImage()})),r.tc(104," Th\xeam m\u1edbi "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Mb(105,"div",2),r.Pb(),r.Pb()),2&t&&(r.Ab(3),r.gc("formGroup",e.employeeForm),r.Ab(15),r.gc("ngIf",e.employeeForm.controls.code.hasError("required")&&e.employeeForm.controls.code.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.code.hasError("pattern")&&e.employeeForm.controls.code.touched),r.Ab(7),r.gc("ngIf",e.employeeForm.controls.name.hasError("required")&&e.employeeForm.controls.name.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.name.hasError("pattern")&&e.employeeForm.controls.name.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.name.hasError("maxLength")&&e.employeeForm.controls.name.touched),r.Ab(9),r.gc("ngIf",e.employeeForm.controls.username.hasError("required")&&e.employeeForm.controls.username.touched),r.Ab(7),r.gc("ngIf",e.employeeForm.controls.password.hasError("required")&&e.employeeForm.controls.password.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.password.hasError("minlength")&&e.employeeForm.controls.password.touched),r.Ab(9),r.gc("ngIf",e.employeeForm.controls.email.hasError("required")&&e.employeeForm.controls.email.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.email.hasError("email")&&e.employeeForm.controls.email.touched),r.Ab(7),r.gc("ngIf",e.employeeForm.controls.birthDay.hasError("required")&&e.employeeForm.controls.birthDay.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.birthDay.hasError("checkAge")&&e.employeeForm.controls.birthDay.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.birthDay.hasError("checkDay")&&e.employeeForm.controls.birthDay.touched),r.Ab(10),r.gc("ngIf",e.employeeForm.controls.idCard.hasError("required")&&e.employeeForm.controls.idCard.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.idCard.hasError("pattern")&&e.employeeForm.controls.idCard.touched),r.Ab(16),r.gc("ngIf",e.employeeForm.controls.gender.hasError("required")&&e.employeeForm.controls.gender.touched),r.Ab(7),r.gc("ngIf",!e.editImageState),r.Ab(1),r.gc("ngIf",e.editImageState),r.Ab(4),r.gc("disabled",!e.employeeForm.valid))},directives:[yo,ls,wo,ns,us,To,ct,Cs,Ei],styles:["body[_ngcontent-%COMP%]{background-image:url(1-1598259623.447f1043e3e6bed9ca67.png);opacity:1%}.form-text[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%]{font-weight:700}"]}),t})()},{path:"employee/edit/:id",component:(()=>{class t{constructor(t,e,n,r,i){this.employeeService=t,this.userService=e,this.toast=n,this.activatedRoute=r,this.router=i,this.employeeForm=new io({id:new ro(""),code:new ro(""),name:new ro(""),birthDay:new ro(""),gender:new ro(""),idCard:new ro(""),image:new ro("")}),this.user=[],this.activatedRoute.paramMap.subscribe(t=>{this.id=+t.get("id"),this.employeeService.findById(this.id).subscribe(t=>{this.employeeForm=new io({id:new ro(t.id),code:new ro(t.code,gs.required),name:new ro(t.name,[gs.required,gs.pattern("^[A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8\u0110][a-z\xe0\xe1\u1ea1\u1ea3\xe3\xe2\u1ea7\u1ea5\u1ead\u1ea9\u1eab\u0103\u1eb1\u1eaf\u1eb7\u1eb3\u1eb5\xe8\xe9\u1eb9\u1ebb\u1ebd\xea\u1ec1\u1ebf\u1ec7\u1ec3\u1ec5\xec\xed\u1ecb\u1ec9\u0129\xf2\xf3\u1ecd\u1ecf\xf5\xf4\u1ed3\u1ed1\u1ed9\u1ed5\u1ed7\u01a1\u1edd\u1edb\u1ee3\u1edf\u1ee1\xf9\xfa\u1ee5\u1ee7\u0169\u01b0\u1eeb\u1ee9\u1ef1\u1eed\u1eef\u1ef3\xfd\u1ef5\u1ef7\u1ef9\u0111]*(?:[ ][A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8\u0110][a-z\xe0\xe1\u1ea1\u1ea3\xe3\xe2\u1ea7\u1ea5\u1ead\u1ea9\u1eab\u0103\u1eb1\u1eaf\u1eb7\u1eb3\u1eb5\xe8\xe9\u1eb9\u1ebb\u1ebd\xea\u1ec1\u1ebf\u1ec7\u1ec3\u1ec5\xec\xed\u1ecb\u1ec9\u0129\xf2\xf3\u1ecd\u1ecf\xf5\xf4\u1ed3\u1ed1\u1ed9\u1ed5\u1ed7\u01a1\u1edd\u1edb\u1ee3\u1edf\u1ee1\xf9\xfa\u1ee5\u1ee7\u0169\u01b0\u1eeb\u1ee9\u1ef1\u1eed\u1eef\u1ef3\xfd\u1ef5\u1ef7\u1ef9\u0111]*)*$"),gs.maxLength(30)]),birthDay:new ro(t.birthDay,[gs.required,eN,nN]),gender:new ro(t.gender,[gs.required]),idCard:new ro(t.idCard,[gs.required,gs.pattern("^\\d{9}|\\d{12}$")]),image:new ro(t.image)})})})}getUser(){this.userService.getAll().subscribe(t=>{this.user=t})}ngOnInit(){this.getUser()}editEmployee(t){this.employeeService.editEmployee(t,this.employeeForm.value).subscribe(()=>{this.router.navigate(["/employee/list"]),this.toast.success("S\u1eeda Th\xf4ng Tin Nh\xe2n Vi\xean Th\xe0nh C\xf4ng..","Th\xf4ng B\xe1o")},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(iN),r.Lb(oN),r.Lb(wu),r.Lb(pr),r.Lb(xi))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-employee-edit"]],decls:79,vars:11,consts:[[1,"container","my-3"],[1,"row","formRow"],[1,"col-lg-3"],[1,"col-lg-6","formRow_create",3,"formGroup"],[1,"mb-3","text-center"],[1,"formRow_create_content","mx-4"],[1,"mb-3"],[1,"row"],[1,"col-lg-6"],[1,"form-label"],["type","text","disabled","","formControlName","code",1,"form-control"],["type","text","formControlName","name",1,"form-control"],["class","form-text",4,"ngIf"],["type","date","formControlName","birthDay",1,"form-control"],[1,"form-check","form-check-inline","mt-2"],["type","radio","formControlName","gender","id","male","value","Nam",1,"form-check-input"],["for","male",1,"form-check-label"],["type","radio","formControlName","gender","id","female","value","N\u1eef",1,"form-check-input"],["for","female",1,"form-check-label"],["type","radio","formControlName","gender","id","other","value","Kh\xe1c",1,"form-check-input"],["for","other",1,"form-check-label"],["type","text","formControlName","idCard",1,"form-control"],["type","file","formControlName","image",1,"form-control"],[1,"d-md-flex","justify-content-lg-around"],["routerLink","/employee/list",1,"btn","btn-danger"],[1,"btn","btn-success",3,"disabled","click"],[1,"form-text"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Mb(2,"div",2),r.Qb(3,"form",3),r.Qb(4,"div",4),r.Qb(5,"h2"),r.Qb(6,"b"),r.tc(7,"Ch\u1ec9nh S\u1eeda Th\xf4ng Tin Nh\xe2n Vi\xean"),r.Pb(),r.Pb(),r.Pb(),r.Mb(8,"hr"),r.Qb(9,"div",5),r.Qb(10,"div",6),r.Qb(11,"div",7),r.Qb(12,"div",8),r.Qb(13,"label",9),r.tc(14,"M\xe3 Nh\xe2n Vi\xean "),r.Qb(15,"span"),r.tc(16,"*"),r.Pb(),r.Pb(),r.Mb(17,"input",10),r.Pb(),r.Qb(18,"div",8),r.Qb(19,"label",9),r.tc(20,"H\u1ecd V\xe0 T\xean "),r.Qb(21,"span"),r.tc(22,"*"),r.Pb(),r.Pb(),r.Mb(23,"input",11),r.rc(24,CN,2,0,"div",12),r.rc(25,SN,2,0,"div",12),r.rc(26,ON,2,0,"div",12),r.Pb(),r.Pb(),r.Pb(),r.Qb(27,"div",6),r.Qb(28,"div",7),r.Qb(29,"div",8),r.Qb(30,"label",9),r.tc(31,"Ng\xe0y Sinh "),r.Qb(32,"span"),r.tc(33,"*"),r.Pb(),r.Pb(),r.Mb(34,"input",13),r.rc(35,TN,2,0,"div",12),r.rc(36,kN,2,0,"div",12),r.rc(37,AN,2,0,"div",12),r.Pb(),r.Qb(38,"div",8),r.Qb(39,"label",9),r.tc(40,"Gi\u1edbi T\xednh "),r.Qb(41,"span"),r.tc(42,"*"),r.Pb(),r.Pb(),r.Mb(43,"br"),r.Qb(44,"div",14),r.Mb(45,"input",15),r.Qb(46,"label",16),r.tc(47,"Nam"),r.Pb(),r.Pb(),r.Qb(48,"div",14),r.Mb(49,"input",17),r.Qb(50,"label",18),r.tc(51,"N\u1eef"),r.Pb(),r.Pb(),r.Qb(52,"div",14),r.Mb(53,"input",19),r.Qb(54,"label",20),r.tc(55,"Kh\xe1c"),r.Pb(),r.Pb(),r.rc(56,IN,2,0,"div",12),r.Pb(),r.Pb(),r.Pb(),r.Qb(57,"div",6),r.Qb(58,"div",7),r.Qb(59,"div",8),r.Qb(60,"label",9),r.tc(61,"S\u1ed1 CMND "),r.Qb(62,"span"),r.tc(63,"*"),r.Pb(),r.Pb(),r.Mb(64,"input",21),r.rc(65,DN,2,0,"div",12),r.rc(66,MN,2,0,"div",12),r.Pb(),r.Qb(67,"div",8),r.Qb(68,"label",9),r.tc(69,"Ch\u1ecdn \u1ea2nh "),r.Qb(70,"span"),r.tc(71,"*"),r.Pb(),r.Pb(),r.Mb(72,"input",22),r.Pb(),r.Pb(),r.Pb(),r.Qb(73,"div",23),r.Qb(74,"a",24),r.tc(75," Quay L\u1ea1i "),r.Pb(),r.Qb(76,"button",25),r.Yb("click",(function(){return e.editEmployee(e.id)})),r.tc(77," Ch\u1ec9nh S\u1eeda "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Mb(78,"div",2),r.Pb(),r.Pb()),2&t&&(r.Ab(3),r.gc("formGroup",e.employeeForm),r.Ab(21),r.gc("ngIf",e.employeeForm.controls.name.hasError("required")&&e.employeeForm.controls.name.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.name.hasError("pattern")&&e.employeeForm.controls.name.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.name.hasError("maxLength")&&e.employeeForm.controls.name.touched),r.Ab(9),r.gc("ngIf",e.employeeForm.controls.birthDay.hasError("required")&&e.employeeForm.controls.birthDay.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.birthDay.hasError("checkAge")&&e.employeeForm.controls.birthDay.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.birthDay.hasError("checkDay")&&e.employeeForm.controls.birthDay.touched),r.Ab(19),r.gc("ngIf",e.employeeForm.controls.gender.hasError("required")&&e.employeeForm.controls.gender.touched),r.Ab(9),r.gc("ngIf",e.employeeForm.controls.idCard.hasError("required")&&e.employeeForm.controls.idCard.touched),r.Ab(1),r.gc("ngIf",e.employeeForm.controls.idCard.hasError("pattern")&&e.employeeForm.controls.idCard.touched),r.Ab(10),r.gc("disabled",!e.employeeForm.valid))},directives:[yo,ls,wo,ns,us,To,ct,Cs,Ei],styles:["body[_ngcontent-%COMP%]{background-image:url(1-1598259623.447f1043e3e6bed9ca67.png);opacity:1%}.form-text[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%]{font-weight:700}"]}),t})()}];let jN=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fi.forChild(NN)],Fi]}),t})(),RN=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[gt,jN,No]]}),t})(),LN=(()=>{class t{}return t.\u0275mod=r.Jb({type:t,bootstrap:[Lo]}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[Wt,Wi,rl,ru,No,Cu.forRoot(),Mo,No,th,nC,Fl,pD,WI,eh.a.initializeApp(s),UE,pD,JM,RN,Ll]]}),t})();Object(r.S)(),Gt().bootstrapModule(LN).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);